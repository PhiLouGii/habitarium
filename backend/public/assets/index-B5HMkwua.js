(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(s){if(s.ep)return;s.ep=!0;const u=t(s);fetch(s.href,u)}})();function YE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Wm={exports:{}},gu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function FA(){if(x0)return gu;x0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,u){var h=null;if(u!==void 0&&(h=""+u),s.key!==void 0&&(h=""+s.key),"key"in s){u={};for(var m in s)m!=="key"&&(u[m]=s[m])}else u=s;return s=u.ref,{$$typeof:n,type:i,key:h,ref:s!==void 0?s:null,props:u}}return gu.Fragment=e,gu.jsx=t,gu.jsxs=t,gu}var O0;function qA(){return O0||(O0=1,Wm.exports=FA()),Wm.exports}var E=qA(),Km={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function GA(){if(k0)return Oe;k0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=T&&x[T]||x["@@iterator"],typeof x=="function"?x:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,z={};function U(x,J,se){this.props=x,this.context=J,this.refs=z,this.updater=se||D}U.prototype.isReactComponent={},U.prototype.setState=function(x,J){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,J,"setState")},U.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function G(){}G.prototype=U.prototype;function $(x,J,se){this.props=x,this.context=J,this.refs=z,this.updater=se||D}var ne=$.prototype=new G;ne.constructor=$,V(ne,U.prototype),ne.isPureReactComponent=!0;var he=Array.isArray,fe={H:null,A:null,T:null,S:null,V:null},ge=Object.prototype.hasOwnProperty;function M(x,J,se,ie,ye,De){return se=De.ref,{$$typeof:n,type:x,key:J,ref:se!==void 0?se:null,props:De}}function R(x,J){return M(x.type,J,void 0,void 0,void 0,x.props)}function C(x){return typeof x=="object"&&x!==null&&x.$$typeof===n}function O(x){var J={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(se){return J[se]})}var P=/\/+/g;function L(x,J){return typeof x=="object"&&x!==null&&x.key!=null?O(""+x.key):J.toString(36)}function N(){}function mt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(N,N):(x.status="pending",x.then(function(J){x.status==="pending"&&(x.status="fulfilled",x.value=J)},function(J){x.status==="pending"&&(x.status="rejected",x.reason=J)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function ut(x,J,se,ie,ye){var De=typeof x;(De==="undefined"||De==="boolean")&&(x=null);var Ee=!1;if(x===null)Ee=!0;else switch(De){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(x.$$typeof){case n:case e:Ee=!0;break;case _:return Ee=x._init,ut(Ee(x._payload),J,se,ie,ye)}}if(Ee)return ye=ye(x),Ee=ie===""?"."+L(x,0):ie,he(ye)?(se="",Ee!=null&&(se=Ee.replace(P,"$&/")+"/"),ut(ye,J,se,"",function(Lt){return Lt})):ye!=null&&(C(ye)&&(ye=R(ye,se+(ye.key==null||x&&x.key===ye.key?"":(""+ye.key).replace(P,"$&/")+"/")+Ee)),J.push(ye)),1;Ee=0;var gt=ie===""?".":ie+":";if(he(x))for(var Ye=0;Ye<x.length;Ye++)ie=x[Ye],De=gt+L(ie,Ye),Ee+=ut(ie,J,se,De,ye);else if(Ye=S(x),typeof Ye=="function")for(x=Ye.call(x),Ye=0;!(ie=x.next()).done;)ie=ie.value,De=gt+L(ie,Ye++),Ee+=ut(ie,J,se,De,ye);else if(De==="object"){if(typeof x.then=="function")return ut(mt(x),J,se,ie,ye);throw J=String(x),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function K(x,J,se){if(x==null)return x;var ie=[],ye=0;return ut(x,ie,"","",function(De){return J.call(se,De,ye++)}),ie}function oe(x){if(x._status===-1){var J=x._result;J=J(),J.then(function(se){(x._status===0||x._status===-1)&&(x._status=1,x._result=se)},function(se){(x._status===0||x._status===-1)&&(x._status=2,x._result=se)}),x._status===-1&&(x._status=0,x._result=J)}if(x._status===1)return x._result.default;throw x._result}var pe=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function ke(){}return Oe.Children={map:K,forEach:function(x,J,se){K(x,function(){J.apply(this,arguments)},se)},count:function(x){var J=0;return K(x,function(){J++}),J},toArray:function(x){return K(x,function(J){return J})||[]},only:function(x){if(!C(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Oe.Component=U,Oe.Fragment=t,Oe.Profiler=s,Oe.PureComponent=$,Oe.StrictMode=i,Oe.Suspense=g,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(x){return fe.H.useMemoCache(x)}},Oe.cache=function(x){return function(){return x.apply(null,arguments)}},Oe.cloneElement=function(x,J,se){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ie=V({},x.props),ye=x.key,De=void 0;if(J!=null)for(Ee in J.ref!==void 0&&(De=void 0),J.key!==void 0&&(ye=""+J.key),J)!ge.call(J,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&J.ref===void 0||(ie[Ee]=J[Ee]);var Ee=arguments.length-2;if(Ee===1)ie.children=se;else if(1<Ee){for(var gt=Array(Ee),Ye=0;Ye<Ee;Ye++)gt[Ye]=arguments[Ye+2];ie.children=gt}return M(x.type,ye,void 0,void 0,De,ie)},Oe.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Oe.createElement=function(x,J,se){var ie,ye={},De=null;if(J!=null)for(ie in J.key!==void 0&&(De=""+J.key),J)ge.call(J,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ye[ie]=J[ie]);var Ee=arguments.length-2;if(Ee===1)ye.children=se;else if(1<Ee){for(var gt=Array(Ee),Ye=0;Ye<Ee;Ye++)gt[Ye]=arguments[Ye+2];ye.children=gt}if(x&&x.defaultProps)for(ie in Ee=x.defaultProps,Ee)ye[ie]===void 0&&(ye[ie]=Ee[ie]);return M(x,De,void 0,void 0,null,ye)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(x){return{$$typeof:m,render:x}},Oe.isValidElement=C,Oe.lazy=function(x){return{$$typeof:_,_payload:{_status:-1,_result:x},_init:oe}},Oe.memo=function(x,J){return{$$typeof:p,type:x,compare:J===void 0?null:J}},Oe.startTransition=function(x){var J=fe.T,se={};fe.T=se;try{var ie=x(),ye=fe.S;ye!==null&&ye(se,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ke,pe)}catch(De){pe(De)}finally{fe.T=J}},Oe.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},Oe.use=function(x){return fe.H.use(x)},Oe.useActionState=function(x,J,se){return fe.H.useActionState(x,J,se)},Oe.useCallback=function(x,J){return fe.H.useCallback(x,J)},Oe.useContext=function(x){return fe.H.useContext(x)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(x,J){return fe.H.useDeferredValue(x,J)},Oe.useEffect=function(x,J,se){var ie=fe.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(x,J)},Oe.useId=function(){return fe.H.useId()},Oe.useImperativeHandle=function(x,J,se){return fe.H.useImperativeHandle(x,J,se)},Oe.useInsertionEffect=function(x,J){return fe.H.useInsertionEffect(x,J)},Oe.useLayoutEffect=function(x,J){return fe.H.useLayoutEffect(x,J)},Oe.useMemo=function(x,J){return fe.H.useMemo(x,J)},Oe.useOptimistic=function(x,J){return fe.H.useOptimistic(x,J)},Oe.useReducer=function(x,J,se){return fe.H.useReducer(x,J,se)},Oe.useRef=function(x){return fe.H.useRef(x)},Oe.useState=function(x){return fe.H.useState(x)},Oe.useSyncExternalStore=function(x,J,se){return fe.H.useSyncExternalStore(x,J,se)},Oe.useTransition=function(){return fe.H.useTransition()},Oe.version="19.1.0",Oe}var M0;function mp(){return M0||(M0=1,Km.exports=GA()),Km.exports}var q=mp();const YA=YE(q);var Xm={exports:{}},pu={},Zm={exports:{}},Jm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function $A(){return P0||(P0=1,function(n){function e(K,oe){var pe=K.length;K.push(oe);e:for(;0<pe;){var ke=pe-1>>>1,x=K[ke];if(0<s(x,oe))K[ke]=oe,K[pe]=x,pe=ke;else break e}}function t(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var oe=K[0],pe=K.pop();if(pe!==oe){K[0]=pe;e:for(var ke=0,x=K.length,J=x>>>1;ke<J;){var se=2*(ke+1)-1,ie=K[se],ye=se+1,De=K[ye];if(0>s(ie,pe))ye<x&&0>s(De,ie)?(K[ke]=De,K[ye]=pe,ke=ye):(K[ke]=ie,K[se]=pe,ke=se);else if(ye<x&&0>s(De,pe))K[ke]=De,K[ye]=pe,ke=ye;else break e}}return oe}function s(K,oe){var pe=K.sortIndex-oe.sortIndex;return pe!==0?pe:K.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();n.unstable_now=function(){return h.now()-m}}var g=[],p=[],_=1,T=null,S=3,D=!1,V=!1,z=!1,U=!1,G=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function he(K){for(var oe=t(p);oe!==null;){if(oe.callback===null)i(p);else if(oe.startTime<=K)i(p),oe.sortIndex=oe.expirationTime,e(g,oe);else break;oe=t(p)}}function fe(K){if(z=!1,he(K),!V)if(t(g)!==null)V=!0,ge||(ge=!0,L());else{var oe=t(p);oe!==null&&ut(fe,oe.startTime-K)}}var ge=!1,M=-1,R=5,C=-1;function O(){return U?!0:!(n.unstable_now()-C<R)}function P(){if(U=!1,ge){var K=n.unstable_now();C=K;var oe=!0;try{e:{V=!1,z&&(z=!1,$(M),M=-1),D=!0;var pe=S;try{t:{for(he(K),T=t(g);T!==null&&!(T.expirationTime>K&&O());){var ke=T.callback;if(typeof ke=="function"){T.callback=null,S=T.priorityLevel;var x=ke(T.expirationTime<=K);if(K=n.unstable_now(),typeof x=="function"){T.callback=x,he(K),oe=!0;break t}T===t(g)&&i(g),he(K)}else i(g);T=t(g)}if(T!==null)oe=!0;else{var J=t(p);J!==null&&ut(fe,J.startTime-K),oe=!1}}break e}finally{T=null,S=pe,D=!1}oe=void 0}}finally{oe?L():ge=!1}}}var L;if(typeof ne=="function")L=function(){ne(P)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,mt=N.port2;N.port1.onmessage=P,L=function(){mt.postMessage(null)}}else L=function(){G(P,0)};function ut(K,oe){M=G(function(){K(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(K){switch(S){case 1:case 2:case 3:var oe=3;break;default:oe=S}var pe=S;S=oe;try{return K()}finally{S=pe}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(K,oe){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var pe=S;S=K;try{return oe()}finally{S=pe}},n.unstable_scheduleCallback=function(K,oe,pe){var ke=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ke+pe:ke):pe=ke,K){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=pe+x,K={id:_++,callback:oe,priorityLevel:K,startTime:pe,expirationTime:x,sortIndex:-1},pe>ke?(K.sortIndex=pe,e(p,K),t(g)===null&&K===t(p)&&(z?($(M),M=-1):z=!0,ut(fe,pe-ke))):(K.sortIndex=x,e(g,K),V||D||(V=!0,ge||(ge=!0,L()))),K},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(K){var oe=S;return function(){var pe=S;S=oe;try{return K.apply(this,arguments)}finally{S=pe}}}}(Jm)),Jm}var V0;function QA(){return V0||(V0=1,Zm.exports=$A()),Zm.exports}var eg={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0;function WA(){if(L0)return gn;L0=1;var n=mp();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function u(g,p,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:T==null?null:""+T,children:g,containerInfo:p,implementation:_}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,gn.createPortal=function(g,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,_)},gn.flushSync=function(g){var p=h.T,_=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=p,i.p=_,i.d.f()}},gn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(g,p))},gn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},gn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var _=p.as,T=m(_,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,D=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?i.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:D}):_==="script"&&i.d.X(g,{crossOrigin:T,integrity:S,fetchPriority:D,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},gn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=m(p.as,p.crossOrigin);i.d.M(g,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(g)},gn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,T=m(_,p.crossOrigin);i.d.L(g,_,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},gn.preloadModule=function(g,p){if(typeof g=="string")if(p){var _=m(p.as,p.crossOrigin);i.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(g)},gn.requestFormReset=function(g){i.d.r(g)},gn.unstable_batchedUpdates=function(g,p){return g(p)},gn.useFormState=function(g,p,_){return h.H.useFormState(g,p,_)},gn.useFormStatus=function(){return h.H.useHostTransitionStatus()},gn.version="19.1.0",gn}var j0;function KA(){if(j0)return eg.exports;j0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),eg.exports=WA(),eg.exports}var U0;function XA(){if(U0)return pu;U0=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=QA(),e=mp(),t=KA();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function u(r){var a=r,o=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(o=a.return),r=a.return;while(r)}return a.tag===3?o:null}function h(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function m(r){if(u(r)!==r)throw Error(i(188))}function g(r){var a=r.alternate;if(!a){if(a=u(r),a===null)throw Error(i(188));return a!==r?null:r}for(var o=r,l=a;;){var f=o.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){o=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===o)return m(f),r;if(d===l)return m(f),a;d=d.sibling}throw Error(i(188))}if(o.return!==l.return)o=f,l=d;else{for(var b=!1,w=f.child;w;){if(w===o){b=!0,o=f,l=d;break}if(w===l){b=!0,l=f,o=d;break}w=w.sibling}if(!b){for(w=d.child;w;){if(w===o){b=!0,o=d,l=f;break}if(w===l){b=!0,l=d,o=f;break}w=w.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==l)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:a}function p(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=p(r),a!==null)return a;r=r.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(r){return r===null||typeof r!="object"?null:(r=P&&r[P]||r["@@iterator"],typeof r=="function"?r:null)}var N=Symbol.for("react.client.reference");function mt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===N?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case V:return"Fragment";case U:return"Profiler";case z:return"StrictMode";case fe:return"Suspense";case ge:return"SuspenseList";case C:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case D:return"Portal";case ne:return(r.displayName||"Context")+".Provider";case $:return(r._context.displayName||"Context")+".Consumer";case he:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case M:return a=r.displayName||null,a!==null?a:mt(r.type)||"Memo";case R:a=r._payload,r=r._init;try{return mt(r(a))}catch{}}return null}var ut=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ke=[],x=-1;function J(r){return{current:r}}function se(r){0>x||(r.current=ke[x],ke[x]=null,x--)}function ie(r,a){x++,ke[x]=r.current,r.current=a}var ye=J(null),De=J(null),Ee=J(null),gt=J(null);function Ye(r,a){switch(ie(Ee,a),ie(De,r),ie(ye,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?a0(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=a0(a),r=s0(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}se(ye),ie(ye,r)}function Lt(){se(ye),se(De),se(Ee)}function Hn(r){r.memoizedState!==null&&ie(gt,r);var a=ye.current,o=s0(a,r.type);a!==o&&(ie(De,r),ie(ye,o))}function Dn(r){De.current===r&&(se(ye),se(De)),gt.current===r&&(se(gt),cu._currentValue=pe)}var Fn=Object.prototype.hasOwnProperty,or=n.unstable_scheduleCallback,st=n.unstable_cancelCallback,lr=n.unstable_shouldYield,Jt=n.unstable_requestPaint,en=n.unstable_now,Bs=n.unstable_getCurrentPriorityLevel,Fi=n.unstable_ImmediatePriority,qi=n.unstable_UserBlockingPriority,ni=n.unstable_NormalPriority,pl=n.unstable_LowPriority,ri=n.unstable_IdlePriority,qa=n.log,zs=n.unstable_setDisableYieldValue,pt=null,We=null;function bn(r){if(typeof qa=="function"&&zs(r),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(pt,r)}catch{}}var Dt=Math.clz32?Math.clz32:ii,Ga=Math.log,Hs=Math.LN2;function ii(r){return r>>>=0,r===0?32:31-(Ga(r)/Hs|0)|0}var qn=256,Sr=4194304;function xn(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ai(r,a,o){var l=r.pendingLanes;if(l===0)return 0;var f=0,d=r.suspendedLanes,b=r.pingedLanes;r=r.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?f=xn(l):(b&=w,b!==0?f=xn(b):o||(o=w&~r,o!==0&&(f=xn(o))))):(w=l&~d,w!==0?f=xn(w):b!==0?f=xn(b):o||(o=l&~r,o!==0&&(f=xn(o)))),f===0?0:a!==0&&a!==f&&(a&d)===0&&(d=f&-f,o=a&-a,d>=o||d===32&&(o&4194048)!==0)?a:f}function Ar(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function si(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ya(){var r=qn;return qn<<=1,(qn&4194048)===0&&(qn=256),r}function Gi(){var r=Sr;return Sr<<=1,(Sr&62914560)===0&&(Sr=4194304),r}function ur(r){for(var a=[],o=0;31>o;o++)a.push(r);return a}function Gn(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function xt(r,a,o,l,f,d){var b=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var w=r.entanglements,I=r.expirationTimes,F=r.hiddenUpdates;for(o=b&~o;0<o;){var X=31-Dt(o),ee=1<<X;w[X]=0,I[X]=-1;var Y=F[X];if(Y!==null)for(F[X]=null,X=0;X<Y.length;X++){var Q=Y[X];Q!==null&&(Q.lane&=-536870913)}o&=~ee}l!==0&&ht(r,l,0),d!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=d&~(b&~a))}function ht(r,a,o){r.pendingLanes|=a,r.suspendedLanes&=~a;var l=31-Dt(a);r.entangledLanes|=a,r.entanglements[l]=r.entanglements[l]|1073741824|o&4194090}function Rr(r,a){var o=r.entangledLanes|=a;for(r=r.entanglements;o;){var l=31-Dt(o),f=1<<l;f&a|r[l]&a&&(r[l]|=a),o&=~f}}function $e(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function tn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Cr(){var r=oe.p;return r!==0?r:(r=window.event,r===void 0?32:A0(r.type))}function Yi(r,a){var o=oe.p;try{return oe.p=r,a()}finally{oe.p=o}}var ot=Math.random().toString(36).slice(2),wt="__reactFiber$"+ot,yt="__reactProps$"+ot,nn="__reactContainer$"+ot,oi="__reactEvents$"+ot,$a="__reactListeners$"+ot,Yn="__reactHandles$"+ot,Fs="__reactResources$"+ot,cr="__reactMarker$"+ot;function hr(r){delete r[wt],delete r[yt],delete r[oi],delete r[$a],delete r[Yn]}function fr(r){var a=r[wt];if(a)return a;for(var o=r.parentNode;o;){if(a=o[nn]||o[wt]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(r=c0(r);r!==null;){if(o=r[wt])return o;r=c0(r)}return a}r=o,o=r.parentNode}return null}function $n(r){if(r=r[wt]||r[nn]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Ce(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Ve(r){var a=r[Fs];return a||(a=r[Fs]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function xe(r){r[cr]=!0}var rn=new Set,Yt={};function En(r,a){dr(r,a),dr(r+"Capture",a)}function dr(r,a){for(Yt[r]=a,r=0;r<a.length;r++)rn.add(a[r])}var qs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uc={},Qa={};function cc(r){return Fn.call(Qa,r)?!0:Fn.call(uc,r)?!1:qs.test(r)?Qa[r]=!0:(uc[r]=!0,!1)}function $i(r,a,o){if(cc(a))if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var l=a.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+o)}}function Ir(r,a,o){if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+o)}}function an(r,a,o,l){if(l===null)r.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(a,o,""+l)}}var Wa,hc;function li(r){if(Wa===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);Wa=a&&a[1]||"",hc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wa+r+hc}var Gs=!1;function Ys(r,a){if(!r||Gs)return"";Gs=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(a){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var Y=Q}Reflect.construct(r,[],ee)}else{try{ee.call()}catch(Q){Y=Q}r.call(ee.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(ee=r())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),b=d[0],w=d[1];if(b&&w){var I=b.split(`
`),F=w.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===F.length)for(l=I.length-1,f=F.length-1;1<=l&&0<=f&&I[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==F[f]){var X=`
`+I[l].replace(" at new "," at ");return r.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",r.displayName)),X}while(1<=l&&0<=f);break}}}finally{Gs=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?li(o):""}function yl(r){switch(r.tag){case 26:case 27:case 5:return li(r.type);case 16:return li("Lazy");case 13:return li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return Ys(r.type,!1);case 11:return Ys(r.type.render,!1);case 1:return Ys(r.type,!0);case 31:return li("Activity");default:return""}}function $s(r){try{var a="";do a+=yl(r),r=r.return;while(r);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Tn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function vl(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Jf(r){var a=vl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),l=""+r[a];if(!r.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,d=o.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return f.call(this)},set:function(b){l=""+b,d.call(this,b)}}),Object.defineProperty(r,a,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Qs(r){r._valueTracker||(r._valueTracker=Jf(r))}function _l(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var o=a.getValue(),l="";return r&&(l=vl(r)?r.checked?"true":"false":r.value),r=l,r!==o?(a.setValue(r),!0):!1}function Ka(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ed=/[\n"\\]/g;function Ot(r){return r.replace(ed,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function On(r,a,o,l,f,d,b,w){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),a!=null?b==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Tn(a)):r.value!==""+Tn(a)&&(r.value=""+Tn(a)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),a!=null?Qi(r,b,Tn(a)):o!=null?Qi(r,b,Tn(o)):l!=null&&r.removeAttribute("value"),f==null&&d!=null&&(r.defaultChecked=!!d),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.name=""+Tn(w):r.removeAttribute("name")}function Xa(r,a,o,l,f,d,b,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(r.type=d),a!=null||o!=null){if(!(d!=="submit"&&d!=="reset"||a!=null))return;o=o!=null?""+Tn(o):"",a=a!=null?""+Tn(a):o,w||a===r.value||(r.value=a),r.defaultValue=a}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,r.checked=w?r.checked:!!l,r.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b)}function Qi(r,a,o){a==="number"&&Ka(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ui(r,a,o,l){if(r=r.options,a){a={};for(var f=0;f<o.length;f++)a["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=a.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&l&&(r[o].defaultSelected=!0)}else{for(o=""+Tn(o),a=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,l&&(r[f].defaultSelected=!0);return}a!==null||r[f].disabled||(a=r[f])}a!==null&&(a.selected=!0)}}function nt(r,a,o){if(a!=null&&(a=""+Tn(a),a!==r.value&&(r.value=a),o==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=o!=null?""+Tn(o):""}function Za(r,a,o,l){if(a==null){if(l!=null){if(o!=null)throw Error(i(92));if(ut(l)){if(1<l.length)throw Error(i(93));l=l[0]}o=l}o==null&&(o=""),a=o}o=Tn(a),r.defaultValue=o,l=r.textContent,l===o&&l!==""&&l!==null&&(r.value=l)}function Qn(r,a){if(a){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=a;return}}r.textContent=a}var Ja=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fc(r,a,o){var l=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?l?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":l?r.setProperty(a,o):typeof o!="number"||o===0||Ja.has(a)?a==="float"?r.cssFloat=o:r[a]=(""+o).trim():r[a]=o+"px"}function bl(r,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,o!=null){for(var l in o)!o.hasOwnProperty(l)||a!=null&&a.hasOwnProperty(l)||(l.indexOf("--")===0?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="");for(var f in a)l=a[f],a.hasOwnProperty(f)&&o[f]!==l&&fc(r,f,l)}else for(var d in a)a.hasOwnProperty(d)&&fc(r,d,a[d])}function El(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var td=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ws(r){return nd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ci=null;function Wn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var hi=null,fi=null;function Tl(r){var a=$n(r);if(a&&(r=a.stateNode)){var o=r[yt]||null;e:switch(r=a.stateNode,a.type){case"input":if(On(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ot(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var l=o[a];if(l!==r&&l.form===r.form){var f=l[yt]||null;if(!f)throw Error(i(90));On(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<o.length;a++)l=o[a],l.form===r.form&&_l(l)}break e;case"textarea":nt(r,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&ui(r,!!o.multiple,a,!1)}}}var Nr=!1;function dc(r,a,o){if(Nr)return r(a,o);Nr=!0;try{var l=r(a);return l}finally{if(Nr=!1,(hi!==null||fi!==null)&&(sh(),hi&&(a=hi,r=fi,fi=hi=null,Tl(a),r)))for(a=0;a<r.length;a++)Tl(r[a])}}function es(r,a){var o=r.stateNode;if(o===null)return null;var l=o[yt]||null;if(l===null)return null;o=l[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(r=r.type,l=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!l;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kn=!1;if(mr)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){Kn=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{Kn=!1}var Dr=null,Wi=null,di=null;function wl(){if(di)return di;var r,a=Wi,o=a.length,l,f="value"in Dr?Dr.value:Dr.textContent,d=f.length;for(r=0;r<o&&a[r]===f[r];r++);var b=o-r;for(l=1;l<=b&&a[o-l]===f[d-l];l++);return di=f.slice(r,1<l?1-l:void 0)}function xr(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Or(){return!0}function Sl(){return!1}function $t(r){function a(o,l,f,d,b){this._reactName=o,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=b,this.currentTarget=null;for(var w in r)r.hasOwnProperty(w)&&(o=r[w],this[w]=o?o(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Or:Sl,this.isPropagationStopped=Sl,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Or)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Or)},persist:function(){},isPersistent:Or}),a}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ks=$t(Xe),ns=_({},Xe,{view:0,detail:0}),mc=$t(ns),Xs,Zs,kr,rs=_({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ss,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==kr&&(kr&&r.type==="mousemove"?(Xs=r.screenX-kr.screenX,Zs=r.screenY-kr.screenY):Zs=Xs=0,kr=r),Xs)},movementY:function(r){return"movementY"in r?r.movementY:Zs}}),Xn=$t(rs),gc=_({},rs,{dataTransfer:0}),rd=$t(gc),is=_({},ns,{relatedTarget:0}),Js=$t(is),Al=_({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),eo=$t(Al),pc=_({},Xe,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),to=$t(pc),id=_({},Xe,{data:0}),Rl=$t(id),as={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cl(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=vc[r])?!!a[r]:!1}function ss(){return Cl}var _c=_({},ns,{key:function(r){if(r.key){var a=as[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=xr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?yc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ss,charCode:function(r){return r.type==="keypress"?xr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?xr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),no=$t(_c),bc=_({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Il=$t(bc),mi=_({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ss}),Ec=$t(mi),Tc=_({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),wc=$t(Tc),Sc=_({},rs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ro=$t(Sc),wn=_({},Xe,{newState:0,oldState:0}),Ac=$t(wn),Rc=[9,13,27,32],Mr=mr&&"CompositionEvent"in window,c=null;mr&&"documentMode"in document&&(c=document.documentMode);var y=mr&&"TextEvent"in window&&!c,v=mr&&(!Mr||c&&8<c&&11>=c),A=" ",B=!1;function W(r,a){switch(r){case"keyup":return Rc.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var He=!1;function jt(r,a){switch(r){case"compositionend":return ae(a);case"keypress":return a.which!==32?null:(B=!0,A);case"textInput":return r=a.data,r===A&&B?null:r;default:return null}}function Fe(r,a){if(He)return r==="compositionend"||!Mr&&W(r,a)?(r=wl(),di=Wi=Dr=null,He=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return v&&a.locale!=="ko"?null:a.data;default:return null}}var Qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ut(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!Qt[r.type]:a==="textarea"}function gi(r,a,o,l){hi?fi?fi.push(l):fi=[l]:hi=l,a=fh(a,"onChange"),0<a.length&&(o=new Ks("onChange","change",null,o,l),r.push({event:o,listeners:a}))}var sn=null,Pr=null;function Nl(r){e0(r,0)}function Cc(r){var a=Ce(r);if(_l(a))return r}function Ey(r,a){if(r==="change")return a}var Ty=!1;if(mr){var ad;if(mr){var sd="oninput"in document;if(!sd){var wy=document.createElement("div");wy.setAttribute("oninput","return;"),sd=typeof wy.oninput=="function"}ad=sd}else ad=!1;Ty=ad&&(!document.documentMode||9<document.documentMode)}function Sy(){sn&&(sn.detachEvent("onpropertychange",Ay),Pr=sn=null)}function Ay(r){if(r.propertyName==="value"&&Cc(Pr)){var a=[];gi(a,Pr,r,Wn(r)),dc(Nl,a)}}function _1(r,a,o){r==="focusin"?(Sy(),sn=a,Pr=o,sn.attachEvent("onpropertychange",Ay)):r==="focusout"&&Sy()}function b1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Cc(Pr)}function E1(r,a){if(r==="click")return Cc(a)}function T1(r,a){if(r==="input"||r==="change")return Cc(a)}function w1(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var kn=typeof Object.is=="function"?Object.is:w1;function Dl(r,a){if(kn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var o=Object.keys(r),l=Object.keys(a);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var f=o[l];if(!Fn.call(a,f)||!kn(r[f],a[f]))return!1}return!0}function Ry(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Cy(r,a){var o=Ry(r);r=0;for(var l;o;){if(o.nodeType===3){if(l=r+o.textContent.length,r<=a&&l>=a)return{node:o,offset:a-r};r=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ry(o)}}function Iy(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?Iy(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Ny(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Ka(r.document);a instanceof r.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)r=a.contentWindow;else break;a=Ka(r.document)}return a}function od(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var S1=mr&&"documentMode"in document&&11>=document.documentMode,io=null,ld=null,xl=null,ud=!1;function Dy(r,a,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ud||io==null||io!==Ka(l)||(l=io,"selectionStart"in l&&od(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),xl&&Dl(xl,l)||(xl=l,l=fh(ld,"onSelect"),0<l.length&&(a=new Ks("onSelect","select",null,a,o),r.push({event:a,listeners:l}),a.target=io)))}function os(r,a){var o={};return o[r.toLowerCase()]=a.toLowerCase(),o["Webkit"+r]="webkit"+a,o["Moz"+r]="moz"+a,o}var ao={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionrun:os("Transition","TransitionRun"),transitionstart:os("Transition","TransitionStart"),transitioncancel:os("Transition","TransitionCancel"),transitionend:os("Transition","TransitionEnd")},cd={},xy={};mr&&(xy=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function ls(r){if(cd[r])return cd[r];if(!ao[r])return r;var a=ao[r],o;for(o in a)if(a.hasOwnProperty(o)&&o in xy)return cd[r]=a[o];return r}var Oy=ls("animationend"),ky=ls("animationiteration"),My=ls("animationstart"),A1=ls("transitionrun"),R1=ls("transitionstart"),C1=ls("transitioncancel"),Py=ls("transitionend"),Vy=new Map,hd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hd.push("scrollEnd");function gr(r,a){Vy.set(r,a),En(a,[r])}var Ly=new WeakMap;function Zn(r,a){if(typeof r=="object"&&r!==null){var o=Ly.get(r);return o!==void 0?o:(a={value:r,source:a,stack:$s(a)},Ly.set(r,a),a)}return{value:r,source:a,stack:$s(a)}}var Jn=[],so=0,fd=0;function Ic(){for(var r=so,a=fd=so=0;a<r;){var o=Jn[a];Jn[a++]=null;var l=Jn[a];Jn[a++]=null;var f=Jn[a];Jn[a++]=null;var d=Jn[a];if(Jn[a++]=null,l!==null&&f!==null){var b=l.pending;b===null?f.next=f:(f.next=b.next,b.next=f),l.pending=f}d!==0&&jy(o,f,d)}}function Nc(r,a,o,l){Jn[so++]=r,Jn[so++]=a,Jn[so++]=o,Jn[so++]=l,fd|=l,r.lanes|=l,r=r.alternate,r!==null&&(r.lanes|=l)}function dd(r,a,o,l){return Nc(r,a,o,l),Dc(r)}function oo(r,a){return Nc(r,null,null,a),Dc(r)}function jy(r,a,o){r.lanes|=o;var l=r.alternate;l!==null&&(l.lanes|=o);for(var f=!1,d=r.return;d!==null;)d.childLanes|=o,l=d.alternate,l!==null&&(l.childLanes|=o),d.tag===22&&(r=d.stateNode,r===null||r._visibility&1||(f=!0)),r=d,d=d.return;return r.tag===3?(d=r.stateNode,f&&a!==null&&(f=31-Dt(o),r=d.hiddenUpdates,l=r[f],l===null?r[f]=[a]:l.push(a),a.lane=o|536870912),d):null}function Dc(r){if(50<nu)throw nu=0,_m=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var lo={};function I1(r,a,o,l){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(r,a,o,l){return new I1(r,a,o,l)}function md(r){return r=r.prototype,!(!r||!r.isReactComponent)}function pi(r,a){var o=r.alternate;return o===null?(o=Mn(r.tag,a,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=a,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,a=r.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Uy(r,a){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,a=o.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function xc(r,a,o,l,f,d){var b=0;if(l=r,typeof r=="function")md(r)&&(b=1);else if(typeof r=="string")b=DA(r,o,ye.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case C:return r=Mn(31,o,a,f),r.elementType=C,r.lanes=d,r;case V:return us(o.children,f,d,a);case z:b=8,f|=24;break;case U:return r=Mn(12,o,a,f|2),r.elementType=U,r.lanes=d,r;case fe:return r=Mn(13,o,a,f),r.elementType=fe,r.lanes=d,r;case ge:return r=Mn(19,o,a,f),r.elementType=ge,r.lanes=d,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case G:case ne:b=10;break e;case $:b=9;break e;case he:b=11;break e;case M:b=14;break e;case R:b=16,l=null;break e}b=29,o=Error(i(130,r===null?"null":typeof r,"")),l=null}return a=Mn(b,o,a,f),a.elementType=r,a.type=l,a.lanes=d,a}function us(r,a,o,l){return r=Mn(7,r,l,a),r.lanes=o,r}function gd(r,a,o){return r=Mn(6,r,null,a),r.lanes=o,r}function pd(r,a,o){return a=Mn(4,r.children!==null?r.children:[],r.key,a),a.lanes=o,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var uo=[],co=0,Oc=null,kc=0,er=[],tr=0,cs=null,yi=1,vi="";function hs(r,a){uo[co++]=kc,uo[co++]=Oc,Oc=r,kc=a}function By(r,a,o){er[tr++]=yi,er[tr++]=vi,er[tr++]=cs,cs=r;var l=yi;r=vi;var f=32-Dt(l)-1;l&=~(1<<f),o+=1;var d=32-Dt(a)+f;if(30<d){var b=f-f%5;d=(l&(1<<b)-1).toString(32),l>>=b,f-=b,yi=1<<32-Dt(a)+f|o<<f|l,vi=d+r}else yi=1<<d|o<<f|l,vi=r}function yd(r){r.return!==null&&(hs(r,1),By(r,1,0))}function vd(r){for(;r===Oc;)Oc=uo[--co],uo[co]=null,kc=uo[--co],uo[co]=null;for(;r===cs;)cs=er[--tr],er[tr]=null,vi=er[--tr],er[tr]=null,yi=er[--tr],er[tr]=null}var Sn=null,St=null,Ke=!1,fs=null,Vr=!1,_d=Error(i(519));function ds(r){var a=Error(i(418,""));throw Ml(Zn(a,r)),_d}function zy(r){var a=r.stateNode,o=r.type,l=r.memoizedProps;switch(a[wt]=r,a[yt]=l,o){case"dialog":Ue("cancel",a),Ue("close",a);break;case"iframe":case"object":case"embed":Ue("load",a);break;case"video":case"audio":for(o=0;o<iu.length;o++)Ue(iu[o],a);break;case"source":Ue("error",a);break;case"img":case"image":case"link":Ue("error",a),Ue("load",a);break;case"details":Ue("toggle",a);break;case"input":Ue("invalid",a),Xa(a,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Qs(a);break;case"select":Ue("invalid",a);break;case"textarea":Ue("invalid",a),Za(a,l.value,l.defaultValue,l.children),Qs(a)}o=l.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||l.suppressHydrationWarning===!0||i0(a.textContent,o)?(l.popover!=null&&(Ue("beforetoggle",a),Ue("toggle",a)),l.onScroll!=null&&Ue("scroll",a),l.onScrollEnd!=null&&Ue("scrollend",a),l.onClick!=null&&(a.onclick=dh),a=!0):a=!1,a||ds(r)}function Hy(r){for(Sn=r.return;Sn;)switch(Sn.tag){case 5:case 13:Vr=!1;return;case 27:case 3:Vr=!0;return;default:Sn=Sn.return}}function Ol(r){if(r!==Sn)return!1;if(!Ke)return Hy(r),Ke=!0,!1;var a=r.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Pm(r.type,r.memoizedProps)),o=!o),o&&St&&ds(r),Hy(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(a===0){St=yr(r.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;r=r.nextSibling}St=null}}else a===27?(a=St,ha(r.type)?(r=Um,Um=null,St=r):St=a):St=Sn?yr(r.stateNode.nextSibling):null;return!0}function kl(){St=Sn=null,Ke=!1}function Fy(){var r=fs;return r!==null&&(Cn===null?Cn=r:Cn.push.apply(Cn,r),fs=null),r}function Ml(r){fs===null?fs=[r]:fs.push(r)}var bd=J(null),ms=null,_i=null;function Ki(r,a,o){ie(bd,a._currentValue),a._currentValue=o}function bi(r){r._currentValue=bd.current,se(bd)}function Ed(r,a,o){for(;r!==null;){var l=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,l!==null&&(l.childLanes|=a)):l!==null&&(l.childLanes&a)!==a&&(l.childLanes|=a),r===o)break;r=r.return}}function Td(r,a,o,l){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var d=f.dependencies;if(d!==null){var b=f.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=f;for(var I=0;I<a.length;I++)if(w.context===a[I]){d.lanes|=o,w=d.alternate,w!==null&&(w.lanes|=o),Ed(d.return,o,r),l||(b=null);break e}d=w.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(i(341));b.lanes|=o,d=b.alternate,d!==null&&(d.lanes|=o),Ed(b,o,r),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===r){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Pl(r,a,o,l){r=null;for(var f=a,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var w=f.type;kn(f.pendingProps.value,b.value)||(r!==null?r.push(w):r=[w])}}else if(f===gt.current){if(b=f.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(cu):r=[cu])}f=f.return}r!==null&&Td(a,r,o,l),a.flags|=262144}function Mc(r){for(r=r.firstContext;r!==null;){if(!kn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function gs(r){ms=r,_i=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function mn(r){return qy(ms,r)}function Pc(r,a){return ms===null&&gs(r),qy(r,a)}function qy(r,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},_i===null){if(r===null)throw Error(i(308));_i=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else _i=_i.next=a;return o}var N1=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(o,l){r.push(l)}};this.abort=function(){a.aborted=!0,r.forEach(function(o){return o()})}},D1=n.unstable_scheduleCallback,x1=n.unstable_NormalPriority,Bt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wd(){return{controller:new N1,data:new Map,refCount:0}}function Vl(r){r.refCount--,r.refCount===0&&D1(x1,function(){r.controller.abort()})}var Ll=null,Sd=0,ho=0,fo=null;function O1(r,a){if(Ll===null){var o=Ll=[];Sd=0,ho=Rm(),fo={status:"pending",value:void 0,then:function(l){o.push(l)}}}return Sd++,a.then(Gy,Gy),a}function Gy(){if(--Sd===0&&Ll!==null){fo!==null&&(fo.status="fulfilled");var r=Ll;Ll=null,ho=0,fo=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function k1(r,a){var o=[],l={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){l.status="fulfilled",l.value=a;for(var f=0;f<o.length;f++)(0,o[f])(a)},function(f){for(l.status="rejected",l.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),l}var Yy=K.S;K.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&O1(r,a),Yy!==null&&Yy(r,a)};var ps=J(null);function Ad(){var r=ps.current;return r!==null?r:ct.pooledCache}function Vc(r,a){a===null?ie(ps,ps.current):ie(ps,a.pool)}function $y(){var r=Ad();return r===null?null:{parent:Bt._currentValue,pool:r}}var jl=Error(i(460)),Qy=Error(i(474)),Lc=Error(i(542)),Rd={then:function(){}};function Wy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function jc(){}function Ky(r,a,o){switch(o=r[o],o===void 0?r.push(a):o!==a&&(a.then(jc,jc),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Zy(r),r;default:if(typeof a.status=="string")a.then(jc,jc);else{if(r=ct,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(l){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=l}},function(l){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=l}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Zy(r),r}throw Ul=a,jl}}var Ul=null;function Xy(){if(Ul===null)throw Error(i(459));var r=Ul;return Ul=null,r}function Zy(r){if(r===jl||r===Lc)throw Error(i(483))}var Xi=!1;function Cd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Id(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Zi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ji(r,a,o){var l=r.updateQueue;if(l===null)return null;if(l=l.shared,(Je&2)!==0){var f=l.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),l.pending=a,a=Dc(r),jy(r,null,o),a}return Nc(r,l,a,o),Dc(r)}function Bl(r,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var l=a.lanes;l&=r.pendingLanes,o|=l,a.lanes=o,Rr(r,o)}}function Nd(r,a){var o=r.updateQueue,l=r.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var f=null,d=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};d===null?f=d=b:d=d.next=b,o=o.next}while(o!==null);d===null?f=d=a:d=d.next=a}else f=d=a;o={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=a:r.next=a,o.lastBaseUpdate=a}var Dd=!1;function zl(){if(Dd){var r=fo;if(r!==null)throw r}}function Hl(r,a,o,l){Dd=!1;var f=r.updateQueue;Xi=!1;var d=f.firstBaseUpdate,b=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var I=w,F=I.next;I.next=null,b===null?d=F:b.next=F,b=I;var X=r.alternate;X!==null&&(X=X.updateQueue,w=X.lastBaseUpdate,w!==b&&(w===null?X.firstBaseUpdate=F:w.next=F,X.lastBaseUpdate=I))}if(d!==null){var ee=f.baseState;b=0,X=F=I=null,w=d;do{var Y=w.lane&-536870913,Q=Y!==w.lane;if(Q?(qe&Y)===Y:(l&Y)===Y){Y!==0&&Y===ho&&(Dd=!0),X!==null&&(X=X.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Re=r,Te=w;Y=a;var at=o;switch(Te.tag){case 1:if(Re=Te.payload,typeof Re=="function"){ee=Re.call(at,ee,Y);break e}ee=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Te.payload,Y=typeof Re=="function"?Re.call(at,ee,Y):Re,Y==null)break e;ee=_({},ee,Y);break e;case 2:Xi=!0}}Y=w.callback,Y!==null&&(r.flags|=64,Q&&(r.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},X===null?(F=X=Q,I=ee):X=X.next=Q,b|=Y;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);X===null&&(I=ee),f.baseState=I,f.firstBaseUpdate=F,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),oa|=b,r.lanes=b,r.memoizedState=ee}}function Jy(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function ev(r,a){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Jy(o[r],a)}var mo=J(null),Uc=J(0);function tv(r,a){r=Ci,ie(Uc,r),ie(mo,a),Ci=r|a.baseLanes}function xd(){ie(Uc,Ci),ie(mo,mo.current)}function Od(){Ci=Uc.current,se(mo),se(Uc)}var ea=0,Me=null,rt=null,kt=null,Bc=!1,go=!1,ys=!1,zc=0,Fl=0,po=null,M1=0;function Rt(){throw Error(i(321))}function kd(r,a){if(a===null)return!1;for(var o=0;o<a.length&&o<r.length;o++)if(!kn(r[o],a[o]))return!1;return!0}function Md(r,a,o,l,f,d){return ea=d,Me=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,K.H=r===null||r.memoizedState===null?jv:Uv,ys=!1,d=o(l,f),ys=!1,go&&(d=rv(a,o,l,f)),nv(r),d}function nv(r){K.H=$c;var a=rt!==null&&rt.next!==null;if(ea=0,kt=rt=Me=null,Bc=!1,Fl=0,po=null,a)throw Error(i(300));r===null||Wt||(r=r.dependencies,r!==null&&Mc(r)&&(Wt=!0))}function rv(r,a,o,l){Me=r;var f=0;do{if(go&&(po=null),Fl=0,go=!1,25<=f)throw Error(i(301));if(f+=1,kt=rt=null,r.updateQueue!=null){var d=r.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=z1,d=a(o,l)}while(go);return d}function P1(){var r=K.H,a=r.useState()[0];return a=typeof a.then=="function"?ql(a):a,r=r.useState()[0],(rt!==null?rt.memoizedState:null)!==r&&(Me.flags|=1024),a}function Pd(){var r=zc!==0;return zc=0,r}function Vd(r,a,o){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~o}function Ld(r){if(Bc){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Bc=!1}ea=0,kt=rt=Me=null,go=!1,Fl=zc=0,po=null}function An(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Me.memoizedState=kt=r:kt=kt.next=r,kt}function Mt(){if(rt===null){var r=Me.alternate;r=r!==null?r.memoizedState:null}else r=rt.next;var a=kt===null?Me.memoizedState:kt.next;if(a!==null)kt=a,rt=r;else{if(r===null)throw Me.alternate===null?Error(i(467)):Error(i(310));rt=r,r={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},kt===null?Me.memoizedState=kt=r:kt=kt.next=r}return kt}function jd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(r){var a=Fl;return Fl+=1,po===null&&(po=[]),r=Ky(po,r,a),a=Me,(kt===null?a.memoizedState:kt.next)===null&&(a=a.alternate,K.H=a===null||a.memoizedState===null?jv:Uv),r}function Hc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ql(r);if(r.$$typeof===ne)return mn(r)}throw Error(i(438,String(r)))}function Ud(r){var a=null,o=Me.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(a={data:l.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=jd(),Me.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(r),l=0;l<r;l++)o[l]=O;return a.index++,o}function Ei(r,a){return typeof a=="function"?a(r):a}function Fc(r){var a=Mt();return Bd(a,rt,r)}function Bd(r,a,o){var l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=o;var f=r.baseQueue,d=l.pending;if(d!==null){if(f!==null){var b=f.next;f.next=d.next,d.next=b}a.baseQueue=f=d,l.pending=null}if(d=r.baseState,f===null)r.memoizedState=d;else{a=f.next;var w=b=null,I=null,F=a,X=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(qe&ee)===ee:(ea&ee)===ee){var Y=F.revertLane;if(Y===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===ho&&(X=!0);else if((ea&Y)===Y){F=F.next,Y===ho&&(X=!0);continue}else ee={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(w=I=ee,b=d):I=I.next=ee,Me.lanes|=Y,oa|=Y;ee=F.action,ys&&o(d,ee),d=F.hasEagerState?F.eagerState:o(d,ee)}else Y={lane:ee,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(w=I=Y,b=d):I=I.next=Y,Me.lanes|=ee,oa|=ee;F=F.next}while(F!==null&&F!==a);if(I===null?b=d:I.next=w,!kn(d,r.memoizedState)&&(Wt=!0,X&&(o=fo,o!==null)))throw o;r.memoizedState=d,r.baseState=b,r.baseQueue=I,l.lastRenderedState=d}return f===null&&(l.lanes=0),[r.memoizedState,l.dispatch]}function zd(r){var a=Mt(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var l=o.dispatch,f=o.pending,d=a.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do d=r(d,b.action),b=b.next;while(b!==f);kn(d,a.memoizedState)||(Wt=!0),a.memoizedState=d,a.baseQueue===null&&(a.baseState=d),o.lastRenderedState=d}return[d,l]}function iv(r,a,o){var l=Me,f=Mt(),d=Ke;if(d){if(o===void 0)throw Error(i(407));o=o()}else o=a();var b=!kn((rt||f).memoizedState,o);b&&(f.memoizedState=o,Wt=!0),f=f.queue;var w=ov.bind(null,l,f,r);if(Gl(2048,8,w,[r]),f.getSnapshot!==a||b||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,yo(9,qc(),sv.bind(null,l,f,o,a),null),ct===null)throw Error(i(349));d||(ea&124)!==0||av(l,a,o)}return o}function av(r,a,o){r.flags|=16384,r={getSnapshot:a,value:o},a=Me.updateQueue,a===null?(a=jd(),Me.updateQueue=a,a.stores=[r]):(o=a.stores,o===null?a.stores=[r]:o.push(r))}function sv(r,a,o,l){a.value=o,a.getSnapshot=l,lv(a)&&uv(r)}function ov(r,a,o){return o(function(){lv(a)&&uv(r)})}function lv(r){var a=r.getSnapshot;r=r.value;try{var o=a();return!kn(r,o)}catch{return!0}}function uv(r){var a=oo(r,2);a!==null&&Un(a,r,2)}function Hd(r){var a=An();if(typeof r=="function"){var o=r;if(r=o(),ys){bn(!0);try{o()}finally{bn(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:r},a}function cv(r,a,o,l){return r.baseState=o,Bd(r,rt,typeof l=="function"?l:Ei)}function V1(r,a,o,l,f){if(Yc(r))throw Error(i(485));if(r=a.action,r!==null){var d={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){d.listeners.push(b)}};K.T!==null?o(!0):d.isTransition=!1,l(d),o=a.pending,o===null?(d.next=a.pending=d,hv(a,d)):(d.next=o.next,a.pending=o.next=d)}}function hv(r,a){var o=a.action,l=a.payload,f=r.state;if(a.isTransition){var d=K.T,b={};K.T=b;try{var w=o(f,l),I=K.S;I!==null&&I(b,w),fv(r,a,w)}catch(F){Fd(r,a,F)}finally{K.T=d}}else try{d=o(f,l),fv(r,a,d)}catch(F){Fd(r,a,F)}}function fv(r,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(l){dv(r,a,l)},function(l){return Fd(r,a,l)}):dv(r,a,o)}function dv(r,a,o){a.status="fulfilled",a.value=o,mv(a),r.state=o,a=r.pending,a!==null&&(o=a.next,o===a?r.pending=null:(o=o.next,a.next=o,hv(r,o)))}function Fd(r,a,o){var l=r.pending;if(r.pending=null,l!==null){l=l.next;do a.status="rejected",a.reason=o,mv(a),a=a.next;while(a!==l)}r.action=null}function mv(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function gv(r,a){return a}function pv(r,a){if(Ke){var o=ct.formState;if(o!==null){e:{var l=Me;if(Ke){if(St){t:{for(var f=St,d=Vr;f.nodeType!==8;){if(!d){f=null;break t}if(f=yr(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){St=yr(f.nextSibling),l=f.data==="F!";break e}}ds(l)}l=!1}l&&(a=o[0])}}return o=An(),o.memoizedState=o.baseState=a,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gv,lastRenderedState:a},o.queue=l,o=Pv.bind(null,Me,l),l.dispatch=o,l=Hd(!1),d=Qd.bind(null,Me,!1,l.queue),l=An(),f={state:a,dispatch:null,action:r,pending:null},l.queue=f,o=V1.bind(null,Me,f,d,o),f.dispatch=o,l.memoizedState=r,[a,o,!1]}function yv(r){var a=Mt();return vv(a,rt,r)}function vv(r,a,o){if(a=Bd(r,a,gv)[0],r=Fc(Ei)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var l=ql(a)}catch(b){throw b===jl?Lc:b}else l=a;a=Mt();var f=a.queue,d=f.dispatch;return o!==a.memoizedState&&(Me.flags|=2048,yo(9,qc(),L1.bind(null,f,o),null)),[l,d,r]}function L1(r,a){r.action=a}function _v(r){var a=Mt(),o=rt;if(o!==null)return vv(a,o,r);Mt(),a=a.memoizedState,o=Mt();var l=o.queue.dispatch;return o.memoizedState=r,[a,l,!1]}function yo(r,a,o,l){return r={tag:r,create:o,deps:l,inst:a,next:null},a=Me.updateQueue,a===null&&(a=jd(),Me.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=r.next=r:(l=o.next,o.next=r,r.next=l,a.lastEffect=r),r}function qc(){return{destroy:void 0,resource:void 0}}function bv(){return Mt().memoizedState}function Gc(r,a,o,l){var f=An();l=l===void 0?null:l,Me.flags|=r,f.memoizedState=yo(1|a,qc(),o,l)}function Gl(r,a,o,l){var f=Mt();l=l===void 0?null:l;var d=f.memoizedState.inst;rt!==null&&l!==null&&kd(l,rt.memoizedState.deps)?f.memoizedState=yo(a,d,o,l):(Me.flags|=r,f.memoizedState=yo(1|a,d,o,l))}function Ev(r,a){Gc(8390656,8,r,a)}function Tv(r,a){Gl(2048,8,r,a)}function wv(r,a){return Gl(4,2,r,a)}function Sv(r,a){return Gl(4,4,r,a)}function Av(r,a){if(typeof a=="function"){r=r();var o=a(r);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function Rv(r,a,o){o=o!=null?o.concat([r]):null,Gl(4,4,Av.bind(null,a,r),o)}function qd(){}function Cv(r,a){var o=Mt();a=a===void 0?null:a;var l=o.memoizedState;return a!==null&&kd(a,l[1])?l[0]:(o.memoizedState=[r,a],r)}function Iv(r,a){var o=Mt();a=a===void 0?null:a;var l=o.memoizedState;if(a!==null&&kd(a,l[1]))return l[0];if(l=r(),ys){bn(!0);try{r()}finally{bn(!1)}}return o.memoizedState=[l,a],l}function Gd(r,a,o){return o===void 0||(ea&1073741824)!==0?r.memoizedState=a:(r.memoizedState=o,r=x_(),Me.lanes|=r,oa|=r,o)}function Nv(r,a,o,l){return kn(o,a)?o:mo.current!==null?(r=Gd(r,o,l),kn(r,a)||(Wt=!0),r):(ea&42)===0?(Wt=!0,r.memoizedState=o):(r=x_(),Me.lanes|=r,oa|=r,a)}function Dv(r,a,o,l,f){var d=oe.p;oe.p=d!==0&&8>d?d:8;var b=K.T,w={};K.T=w,Qd(r,!1,a,o);try{var I=f(),F=K.S;if(F!==null&&F(w,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=k1(I,l);Yl(r,a,X,jn(r))}else Yl(r,a,l,jn(r))}catch(ee){Yl(r,a,{then:function(){},status:"rejected",reason:ee},jn())}finally{oe.p=d,K.T=b}}function j1(){}function Yd(r,a,o,l){if(r.tag!==5)throw Error(i(476));var f=xv(r).queue;Dv(r,f,a,pe,o===null?j1:function(){return Ov(r),o(l)})}function xv(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:pe},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:o},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function Ov(r){var a=xv(r).next.queue;Yl(r,a,{},jn())}function $d(){return mn(cu)}function kv(){return Mt().memoizedState}function Mv(){return Mt().memoizedState}function U1(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var o=jn();r=Zi(o);var l=Ji(a,r,o);l!==null&&(Un(l,a,o),Bl(l,a,o)),a={cache:wd()},r.payload=a;return}a=a.return}}function B1(r,a,o){var l=jn();o={lane:l,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Yc(r)?Vv(a,o):(o=dd(r,a,o,l),o!==null&&(Un(o,r,l),Lv(o,a,l)))}function Pv(r,a,o){var l=jn();Yl(r,a,o,l)}function Yl(r,a,o,l){var f={lane:l,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Yc(r))Vv(a,f);else{var d=r.alternate;if(r.lanes===0&&(d===null||d.lanes===0)&&(d=a.lastRenderedReducer,d!==null))try{var b=a.lastRenderedState,w=d(b,o);if(f.hasEagerState=!0,f.eagerState=w,kn(w,b))return Nc(r,a,f,0),ct===null&&Ic(),!1}catch{}finally{}if(o=dd(r,a,f,l),o!==null)return Un(o,r,l),Lv(o,a,l),!0}return!1}function Qd(r,a,o,l){if(l={lane:2,revertLane:Rm(),action:l,hasEagerState:!1,eagerState:null,next:null},Yc(r)){if(a)throw Error(i(479))}else a=dd(r,o,l,2),a!==null&&Un(a,r,2)}function Yc(r){var a=r.alternate;return r===Me||a!==null&&a===Me}function Vv(r,a){go=Bc=!0;var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}function Lv(r,a,o){if((o&4194048)!==0){var l=a.lanes;l&=r.pendingLanes,o|=l,a.lanes=o,Rr(r,o)}}var $c={readContext:mn,use:Hc,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt},jv={readContext:mn,use:Hc,useCallback:function(r,a){return An().memoizedState=[r,a===void 0?null:a],r},useContext:mn,useEffect:Ev,useImperativeHandle:function(r,a,o){o=o!=null?o.concat([r]):null,Gc(4194308,4,Av.bind(null,a,r),o)},useLayoutEffect:function(r,a){return Gc(4194308,4,r,a)},useInsertionEffect:function(r,a){Gc(4,2,r,a)},useMemo:function(r,a){var o=An();a=a===void 0?null:a;var l=r();if(ys){bn(!0);try{r()}finally{bn(!1)}}return o.memoizedState=[l,a],l},useReducer:function(r,a,o){var l=An();if(o!==void 0){var f=o(a);if(ys){bn(!0);try{o(a)}finally{bn(!1)}}}else f=a;return l.memoizedState=l.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},l.queue=r,r=r.dispatch=B1.bind(null,Me,r),[l.memoizedState,r]},useRef:function(r){var a=An();return r={current:r},a.memoizedState=r},useState:function(r){r=Hd(r);var a=r.queue,o=Pv.bind(null,Me,a);return a.dispatch=o,[r.memoizedState,o]},useDebugValue:qd,useDeferredValue:function(r,a){var o=An();return Gd(o,r,a)},useTransition:function(){var r=Hd(!1);return r=Dv.bind(null,Me,r.queue,!0,!1),An().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,o){var l=Me,f=An();if(Ke){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),ct===null)throw Error(i(349));(qe&124)!==0||av(l,a,o)}f.memoizedState=o;var d={value:o,getSnapshot:a};return f.queue=d,Ev(ov.bind(null,l,d,r),[r]),l.flags|=2048,yo(9,qc(),sv.bind(null,l,d,o,a),null),o},useId:function(){var r=An(),a=ct.identifierPrefix;if(Ke){var o=vi,l=yi;o=(l&~(1<<32-Dt(l)-1)).toString(32)+o,a=""+a+"R"+o,o=zc++,0<o&&(a+="H"+o.toString(32)),a+=""}else o=M1++,a=""+a+"r"+o.toString(32)+"";return r.memoizedState=a},useHostTransitionStatus:$d,useFormState:pv,useActionState:pv,useOptimistic:function(r){var a=An();a.memoizedState=a.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=Qd.bind(null,Me,!0,o),o.dispatch=a,[r,a]},useMemoCache:Ud,useCacheRefresh:function(){return An().memoizedState=U1.bind(null,Me)}},Uv={readContext:mn,use:Hc,useCallback:Cv,useContext:mn,useEffect:Tv,useImperativeHandle:Rv,useInsertionEffect:wv,useLayoutEffect:Sv,useMemo:Iv,useReducer:Fc,useRef:bv,useState:function(){return Fc(Ei)},useDebugValue:qd,useDeferredValue:function(r,a){var o=Mt();return Nv(o,rt.memoizedState,r,a)},useTransition:function(){var r=Fc(Ei)[0],a=Mt().memoizedState;return[typeof r=="boolean"?r:ql(r),a]},useSyncExternalStore:iv,useId:kv,useHostTransitionStatus:$d,useFormState:yv,useActionState:yv,useOptimistic:function(r,a){var o=Mt();return cv(o,rt,r,a)},useMemoCache:Ud,useCacheRefresh:Mv},z1={readContext:mn,use:Hc,useCallback:Cv,useContext:mn,useEffect:Tv,useImperativeHandle:Rv,useInsertionEffect:wv,useLayoutEffect:Sv,useMemo:Iv,useReducer:zd,useRef:bv,useState:function(){return zd(Ei)},useDebugValue:qd,useDeferredValue:function(r,a){var o=Mt();return rt===null?Gd(o,r,a):Nv(o,rt.memoizedState,r,a)},useTransition:function(){var r=zd(Ei)[0],a=Mt().memoizedState;return[typeof r=="boolean"?r:ql(r),a]},useSyncExternalStore:iv,useId:kv,useHostTransitionStatus:$d,useFormState:_v,useActionState:_v,useOptimistic:function(r,a){var o=Mt();return rt!==null?cv(o,rt,r,a):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Ud,useCacheRefresh:Mv},vo=null,$l=0;function Qc(r){var a=$l;return $l+=1,vo===null&&(vo=[]),Ky(vo,r,a)}function Ql(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Wc(r,a){throw a.$$typeof===T?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function Bv(r){var a=r._init;return a(r._payload)}function zv(r){function a(j,k){if(r){var H=j.deletions;H===null?(j.deletions=[k],j.flags|=16):H.push(k)}}function o(j,k){if(!r)return null;for(;k!==null;)a(j,k),k=k.sibling;return null}function l(j){for(var k=new Map;j!==null;)j.key!==null?k.set(j.key,j):k.set(j.index,j),j=j.sibling;return k}function f(j,k){return j=pi(j,k),j.index=0,j.sibling=null,j}function d(j,k,H){return j.index=H,r?(H=j.alternate,H!==null?(H=H.index,H<k?(j.flags|=67108866,k):H):(j.flags|=67108866,k)):(j.flags|=1048576,k)}function b(j){return r&&j.alternate===null&&(j.flags|=67108866),j}function w(j,k,H,Z){return k===null||k.tag!==6?(k=gd(H,j.mode,Z),k.return=j,k):(k=f(k,H),k.return=j,k)}function I(j,k,H,Z){var de=H.type;return de===V?X(j,k,H.props.children,Z,H.key):k!==null&&(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&Bv(de)===k.type)?(k=f(k,H.props),Ql(k,H),k.return=j,k):(k=xc(H.type,H.key,H.props,null,j.mode,Z),Ql(k,H),k.return=j,k)}function F(j,k,H,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=pd(H,j.mode,Z),k.return=j,k):(k=f(k,H.children||[]),k.return=j,k)}function X(j,k,H,Z,de){return k===null||k.tag!==7?(k=us(H,j.mode,Z,de),k.return=j,k):(k=f(k,H),k.return=j,k)}function ee(j,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=gd(""+k,j.mode,H),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case S:return H=xc(k.type,k.key,k.props,null,j.mode,H),Ql(H,k),H.return=j,H;case D:return k=pd(k,j.mode,H),k.return=j,k;case R:var Z=k._init;return k=Z(k._payload),ee(j,k,H)}if(ut(k)||L(k))return k=us(k,j.mode,H,null),k.return=j,k;if(typeof k.then=="function")return ee(j,Qc(k),H);if(k.$$typeof===ne)return ee(j,Pc(j,k),H);Wc(j,k)}return null}function Y(j,k,H,Z){var de=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return de!==null?null:w(j,k,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return H.key===de?I(j,k,H,Z):null;case D:return H.key===de?F(j,k,H,Z):null;case R:return de=H._init,H=de(H._payload),Y(j,k,H,Z)}if(ut(H)||L(H))return de!==null?null:X(j,k,H,Z,null);if(typeof H.then=="function")return Y(j,k,Qc(H),Z);if(H.$$typeof===ne)return Y(j,k,Pc(j,H),Z);Wc(j,H)}return null}function Q(j,k,H,Z,de){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(H)||null,w(k,j,""+Z,de);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:return j=j.get(Z.key===null?H:Z.key)||null,I(k,j,Z,de);case D:return j=j.get(Z.key===null?H:Z.key)||null,F(k,j,Z,de);case R:var Le=Z._init;return Z=Le(Z._payload),Q(j,k,H,Z,de)}if(ut(Z)||L(Z))return j=j.get(H)||null,X(k,j,Z,de,null);if(typeof Z.then=="function")return Q(j,k,H,Qc(Z),de);if(Z.$$typeof===ne)return Q(j,k,H,Pc(k,Z),de);Wc(k,Z)}return null}function Re(j,k,H,Z){for(var de=null,Le=null,ve=k,we=k=0,Xt=null;ve!==null&&we<H.length;we++){ve.index>we?(Xt=ve,ve=null):Xt=ve.sibling;var Qe=Y(j,ve,H[we],Z);if(Qe===null){ve===null&&(ve=Xt);break}r&&ve&&Qe.alternate===null&&a(j,ve),k=d(Qe,k,we),Le===null?de=Qe:Le.sibling=Qe,Le=Qe,ve=Xt}if(we===H.length)return o(j,ve),Ke&&hs(j,we),de;if(ve===null){for(;we<H.length;we++)ve=ee(j,H[we],Z),ve!==null&&(k=d(ve,k,we),Le===null?de=ve:Le.sibling=ve,Le=ve);return Ke&&hs(j,we),de}for(ve=l(ve);we<H.length;we++)Xt=Q(ve,j,we,H[we],Z),Xt!==null&&(r&&Xt.alternate!==null&&ve.delete(Xt.key===null?we:Xt.key),k=d(Xt,k,we),Le===null?de=Xt:Le.sibling=Xt,Le=Xt);return r&&ve.forEach(function(pa){return a(j,pa)}),Ke&&hs(j,we),de}function Te(j,k,H,Z){if(H==null)throw Error(i(151));for(var de=null,Le=null,ve=k,we=k=0,Xt=null,Qe=H.next();ve!==null&&!Qe.done;we++,Qe=H.next()){ve.index>we?(Xt=ve,ve=null):Xt=ve.sibling;var pa=Y(j,ve,Qe.value,Z);if(pa===null){ve===null&&(ve=Xt);break}r&&ve&&pa.alternate===null&&a(j,ve),k=d(pa,k,we),Le===null?de=pa:Le.sibling=pa,Le=pa,ve=Xt}if(Qe.done)return o(j,ve),Ke&&hs(j,we),de;if(ve===null){for(;!Qe.done;we++,Qe=H.next())Qe=ee(j,Qe.value,Z),Qe!==null&&(k=d(Qe,k,we),Le===null?de=Qe:Le.sibling=Qe,Le=Qe);return Ke&&hs(j,we),de}for(ve=l(ve);!Qe.done;we++,Qe=H.next())Qe=Q(ve,j,we,Qe.value,Z),Qe!==null&&(r&&Qe.alternate!==null&&ve.delete(Qe.key===null?we:Qe.key),k=d(Qe,k,we),Le===null?de=Qe:Le.sibling=Qe,Le=Qe);return r&&ve.forEach(function(HA){return a(j,HA)}),Ke&&hs(j,we),de}function at(j,k,H,Z){if(typeof H=="object"&&H!==null&&H.type===V&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case S:e:{for(var de=H.key;k!==null;){if(k.key===de){if(de=H.type,de===V){if(k.tag===7){o(j,k.sibling),Z=f(k,H.props.children),Z.return=j,j=Z;break e}}else if(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&Bv(de)===k.type){o(j,k.sibling),Z=f(k,H.props),Ql(Z,H),Z.return=j,j=Z;break e}o(j,k);break}else a(j,k);k=k.sibling}H.type===V?(Z=us(H.props.children,j.mode,Z,H.key),Z.return=j,j=Z):(Z=xc(H.type,H.key,H.props,null,j.mode,Z),Ql(Z,H),Z.return=j,j=Z)}return b(j);case D:e:{for(de=H.key;k!==null;){if(k.key===de)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){o(j,k.sibling),Z=f(k,H.children||[]),Z.return=j,j=Z;break e}else{o(j,k);break}else a(j,k);k=k.sibling}Z=pd(H,j.mode,Z),Z.return=j,j=Z}return b(j);case R:return de=H._init,H=de(H._payload),at(j,k,H,Z)}if(ut(H))return Re(j,k,H,Z);if(L(H)){if(de=L(H),typeof de!="function")throw Error(i(150));return H=de.call(H),Te(j,k,H,Z)}if(typeof H.then=="function")return at(j,k,Qc(H),Z);if(H.$$typeof===ne)return at(j,k,Pc(j,H),Z);Wc(j,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(o(j,k.sibling),Z=f(k,H),Z.return=j,j=Z):(o(j,k),Z=gd(H,j.mode,Z),Z.return=j,j=Z),b(j)):o(j,k)}return function(j,k,H,Z){try{$l=0;var de=at(j,k,H,Z);return vo=null,de}catch(ve){if(ve===jl||ve===Lc)throw ve;var Le=Mn(29,ve,null,j.mode);return Le.lanes=Z,Le.return=j,Le}finally{}}}var _o=zv(!0),Hv=zv(!1),nr=J(null),Lr=null;function ta(r){var a=r.alternate;ie(zt,zt.current&1),ie(nr,r),Lr===null&&(a===null||mo.current!==null||a.memoizedState!==null)&&(Lr=r)}function Fv(r){if(r.tag===22){if(ie(zt,zt.current),ie(nr,r),Lr===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(Lr=r)}}else na()}function na(){ie(zt,zt.current),ie(nr,nr.current)}function Ti(r){se(nr),Lr===r&&(Lr=null),se(zt)}var zt=J(0);function Kc(r){for(var a=r;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||jm(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Wd(r,a,o,l){a=r.memoizedState,o=o(l,a),o=o==null?a:_({},a,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Kd={enqueueSetState:function(r,a,o){r=r._reactInternals;var l=jn(),f=Zi(l);f.payload=a,o!=null&&(f.callback=o),a=Ji(r,f,l),a!==null&&(Un(a,r,l),Bl(a,r,l))},enqueueReplaceState:function(r,a,o){r=r._reactInternals;var l=jn(),f=Zi(l);f.tag=1,f.payload=a,o!=null&&(f.callback=o),a=Ji(r,f,l),a!==null&&(Un(a,r,l),Bl(a,r,l))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var o=jn(),l=Zi(o);l.tag=2,a!=null&&(l.callback=a),a=Ji(r,l,o),a!==null&&(Un(a,r,o),Bl(a,r,o))}};function qv(r,a,o,l,f,d,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(l,d,b):a.prototype&&a.prototype.isPureReactComponent?!Dl(o,l)||!Dl(f,d):!0}function Gv(r,a,o,l){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,l),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,l),a.state!==r&&Kd.enqueueReplaceState(a,a.state,null)}function vs(r,a){var o=a;if("ref"in a){o={};for(var l in a)l!=="ref"&&(o[l]=a[l])}if(r=r.defaultProps){o===a&&(o=_({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var Xc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Yv(r){Xc(r)}function $v(r){console.error(r)}function Qv(r){Xc(r)}function Zc(r,a){try{var o=r.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(l){setTimeout(function(){throw l})}}function Wv(r,a,o){try{var l=r.onCaughtError;l(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Xd(r,a,o){return o=Zi(o),o.tag=3,o.payload={element:null},o.callback=function(){Zc(r,a)},o}function Kv(r){return r=Zi(r),r.tag=3,r}function Xv(r,a,o,l){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;r.payload=function(){return f(d)},r.callback=function(){Wv(a,o,l)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){Wv(a,o,l),typeof f!="function"&&(la===null?la=new Set([this]):la.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function H1(r,a,o,l,f){if(o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(a=o.alternate,a!==null&&Pl(a,o,f,!0),o=nr.current,o!==null){switch(o.tag){case 13:return Lr===null?Em():o.alternate===null&&At===0&&(At=3),o.flags&=-257,o.flags|=65536,o.lanes=f,l===Rd?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([l]):a.add(l),wm(r,l,f)),!1;case 22:return o.flags|=65536,l===Rd?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([l])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([l]):o.add(l)),wm(r,l,f)),!1}throw Error(i(435,o.tag))}return wm(r,l,f),Em(),!1}if(Ke)return a=nr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,l!==_d&&(r=Error(i(422),{cause:l}),Ml(Zn(r,o)))):(l!==_d&&(a=Error(i(423),{cause:l}),Ml(Zn(a,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,l=Zn(l,o),f=Xd(r.stateNode,l,f),Nd(r,f),At!==4&&(At=2)),!1;var d=Error(i(520),{cause:l});if(d=Zn(d,o),tu===null?tu=[d]:tu.push(d),At!==4&&(At=2),a===null)return!0;l=Zn(l,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=Xd(o.stateNode,l,r),Nd(o,r),!1;case 1:if(a=o.type,d=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(la===null||!la.has(d))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Kv(f),Xv(f,r,o,l),Nd(o,f),!1}o=o.return}while(o!==null);return!1}var Zv=Error(i(461)),Wt=!1;function on(r,a,o,l){a.child=r===null?Hv(a,null,o,l):_o(a,r.child,o,l)}function Jv(r,a,o,l,f){o=o.render;var d=a.ref;if("ref"in l){var b={};for(var w in l)w!=="ref"&&(b[w]=l[w])}else b=l;return gs(a),l=Md(r,a,o,b,d,f),w=Pd(),r!==null&&!Wt?(Vd(r,a,f),wi(r,a,f)):(Ke&&w&&yd(a),a.flags|=1,on(r,a,l,f),a.child)}function e_(r,a,o,l,f){if(r===null){var d=o.type;return typeof d=="function"&&!md(d)&&d.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=d,t_(r,a,d,l,f)):(r=xc(o.type,null,l,a,a.mode,f),r.ref=a.ref,r.return=a,a.child=r)}if(d=r.child,!am(r,f)){var b=d.memoizedProps;if(o=o.compare,o=o!==null?o:Dl,o(b,l)&&r.ref===a.ref)return wi(r,a,f)}return a.flags|=1,r=pi(d,l),r.ref=a.ref,r.return=a,a.child=r}function t_(r,a,o,l,f){if(r!==null){var d=r.memoizedProps;if(Dl(d,l)&&r.ref===a.ref)if(Wt=!1,a.pendingProps=l=d,am(r,f))(r.flags&131072)!==0&&(Wt=!0);else return a.lanes=r.lanes,wi(r,a,f)}return Zd(r,a,o,l,f)}function n_(r,a,o){var l=a.pendingProps,f=l.children,d=r!==null?r.memoizedState:null;if(l.mode==="hidden"){if((a.flags&128)!==0){if(l=d!==null?d.baseLanes|o:o,r!==null){for(f=a.child=r.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;a.childLanes=d&~l}else a.childLanes=0,a.child=null;return r_(r,a,l,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Vc(a,d!==null?d.cachePool:null),d!==null?tv(a,d):xd(),Fv(a);else return a.lanes=a.childLanes=536870912,r_(r,a,d!==null?d.baseLanes|o:o,o)}else d!==null?(Vc(a,d.cachePool),tv(a,d),na(),a.memoizedState=null):(r!==null&&Vc(a,null),xd(),na());return on(r,a,f,o),a.child}function r_(r,a,o,l){var f=Ad();return f=f===null?null:{parent:Bt._currentValue,pool:f},a.memoizedState={baseLanes:o,cachePool:f},r!==null&&Vc(a,null),xd(),Fv(a),r!==null&&Pl(r,a,l,!0),null}function Jc(r,a){var o=a.ref;if(o===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(a.flags|=4194816)}}function Zd(r,a,o,l,f){return gs(a),o=Md(r,a,o,l,void 0,f),l=Pd(),r!==null&&!Wt?(Vd(r,a,f),wi(r,a,f)):(Ke&&l&&yd(a),a.flags|=1,on(r,a,o,f),a.child)}function i_(r,a,o,l,f,d){return gs(a),a.updateQueue=null,o=rv(a,l,o,f),nv(r),l=Pd(),r!==null&&!Wt?(Vd(r,a,d),wi(r,a,d)):(Ke&&l&&yd(a),a.flags|=1,on(r,a,o,d),a.child)}function a_(r,a,o,l,f){if(gs(a),a.stateNode===null){var d=lo,b=o.contextType;typeof b=="object"&&b!==null&&(d=mn(b)),d=new o(l,d),a.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Kd,a.stateNode=d,d._reactInternals=a,d=a.stateNode,d.props=l,d.state=a.memoizedState,d.refs={},Cd(a),b=o.contextType,d.context=typeof b=="object"&&b!==null?mn(b):lo,d.state=a.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Wd(a,o,b,l),d.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(b=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),b!==d.state&&Kd.enqueueReplaceState(d,d.state,null),Hl(a,l,d,f),zl(),d.state=a.memoizedState),typeof d.componentDidMount=="function"&&(a.flags|=4194308),l=!0}else if(r===null){d=a.stateNode;var w=a.memoizedProps,I=vs(o,w);d.props=I;var F=d.context,X=o.contextType;b=lo,typeof X=="object"&&X!==null&&(b=mn(X));var ee=o.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=a.pendingProps!==w,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||F!==b)&&Gv(a,d,l,b),Xi=!1;var Y=a.memoizedState;d.state=Y,Hl(a,l,d,f),zl(),F=a.memoizedState,w||Y!==F||Xi?(typeof ee=="function"&&(Wd(a,o,ee,l),F=a.memoizedState),(I=Xi||qv(a,o,I,l,Y,F,b))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(a.flags|=4194308)):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=l,a.memoizedState=F),d.props=l,d.state=F,d.context=b,l=I):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),l=!1)}else{d=a.stateNode,Id(r,a),b=a.memoizedProps,X=vs(o,b),d.props=X,ee=a.pendingProps,Y=d.context,F=o.contextType,I=lo,typeof F=="object"&&F!==null&&(I=mn(F)),w=o.getDerivedStateFromProps,(F=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b!==ee||Y!==I)&&Gv(a,d,l,I),Xi=!1,Y=a.memoizedState,d.state=Y,Hl(a,l,d,f),zl();var Q=a.memoizedState;b!==ee||Y!==Q||Xi||r!==null&&r.dependencies!==null&&Mc(r.dependencies)?(typeof w=="function"&&(Wd(a,o,w,l),Q=a.memoizedState),(X=Xi||qv(a,o,X,l,Y,Q,I)||r!==null&&r.dependencies!==null&&Mc(r.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,I)),typeof d.componentDidUpdate=="function"&&(a.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof d.componentDidUpdate!="function"||b===r.memoizedProps&&Y===r.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&Y===r.memoizedState||(a.flags|=1024),a.memoizedProps=l,a.memoizedState=Q),d.props=l,d.state=Q,d.context=I,l=X):(typeof d.componentDidUpdate!="function"||b===r.memoizedProps&&Y===r.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&Y===r.memoizedState||(a.flags|=1024),l=!1)}return d=l,Jc(r,a),l=(a.flags&128)!==0,d||l?(d=a.stateNode,o=l&&typeof o.getDerivedStateFromError!="function"?null:d.render(),a.flags|=1,r!==null&&l?(a.child=_o(a,r.child,null,f),a.child=_o(a,null,o,f)):on(r,a,o,f),a.memoizedState=d.state,r=a.child):r=wi(r,a,f),r}function s_(r,a,o,l){return kl(),a.flags|=256,on(r,a,o,l),a.child}var Jd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function em(r){return{baseLanes:r,cachePool:$y()}}function tm(r,a,o){return r=r!==null?r.childLanes&~o:0,a&&(r|=rr),r}function o_(r,a,o){var l=a.pendingProps,f=!1,d=(a.flags&128)!==0,b;if((b=d)||(b=r!==null&&r.memoizedState===null?!1:(zt.current&2)!==0),b&&(f=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,r===null){if(Ke){if(f?ta(a):na(),Ke){var w=St,I;if(I=w){e:{for(I=w,w=Vr;I.nodeType!==8;){if(!w){w=null;break e}if(I=yr(I.nextSibling),I===null){w=null;break e}}w=I}w!==null?(a.memoizedState={dehydrated:w,treeContext:cs!==null?{id:yi,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},I=Mn(18,null,null,0),I.stateNode=w,I.return=a,a.child=I,Sn=a,St=null,I=!0):I=!1}I||ds(a)}if(w=a.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return jm(w)?a.lanes=32:a.lanes=536870912,null;Ti(a)}return w=l.children,l=l.fallback,f?(na(),f=a.mode,w=eh({mode:"hidden",children:w},f),l=us(l,f,o,null),w.return=a,l.return=a,w.sibling=l,a.child=w,f=a.child,f.memoizedState=em(o),f.childLanes=tm(r,b,o),a.memoizedState=Jd,l):(ta(a),nm(a,w))}if(I=r.memoizedState,I!==null&&(w=I.dehydrated,w!==null)){if(d)a.flags&256?(ta(a),a.flags&=-257,a=rm(r,a,o)):a.memoizedState!==null?(na(),a.child=r.child,a.flags|=128,a=null):(na(),f=l.fallback,w=a.mode,l=eh({mode:"visible",children:l.children},w),f=us(f,w,o,null),f.flags|=2,l.return=a,f.return=a,l.sibling=f,a.child=l,_o(a,r.child,null,o),l=a.child,l.memoizedState=em(o),l.childLanes=tm(r,b,o),a.memoizedState=Jd,a=f);else if(ta(a),jm(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var F=b.dgst;b=F,l=Error(i(419)),l.stack="",l.digest=b,Ml({value:l,source:null,stack:null}),a=rm(r,a,o)}else if(Wt||Pl(r,a,o,!1),b=(o&r.childLanes)!==0,Wt||b){if(b=ct,b!==null&&(l=o&-o,l=(l&42)!==0?1:$e(l),l=(l&(b.suspendedLanes|o))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,oo(r,l),Un(b,r,l),Zv;w.data==="$?"||Em(),a=rm(r,a,o)}else w.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=I.treeContext,St=yr(w.nextSibling),Sn=a,Ke=!0,fs=null,Vr=!1,r!==null&&(er[tr++]=yi,er[tr++]=vi,er[tr++]=cs,yi=r.id,vi=r.overflow,cs=a),a=nm(a,l.children),a.flags|=4096);return a}return f?(na(),f=l.fallback,w=a.mode,I=r.child,F=I.sibling,l=pi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,F!==null?f=pi(F,f):(f=us(f,w,o,null),f.flags|=2),f.return=a,l.return=a,l.sibling=f,a.child=l,l=f,f=a.child,w=r.child.memoizedState,w===null?w=em(o):(I=w.cachePool,I!==null?(F=Bt._currentValue,I=I.parent!==F?{parent:F,pool:F}:I):I=$y(),w={baseLanes:w.baseLanes|o,cachePool:I}),f.memoizedState=w,f.childLanes=tm(r,b,o),a.memoizedState=Jd,l):(ta(a),o=r.child,r=o.sibling,o=pi(o,{mode:"visible",children:l.children}),o.return=a,o.sibling=null,r!==null&&(b=a.deletions,b===null?(a.deletions=[r],a.flags|=16):b.push(r)),a.child=o,a.memoizedState=null,o)}function nm(r,a){return a=eh({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function eh(r,a){return r=Mn(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function rm(r,a,o){return _o(a,r.child,null,o),r=nm(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function l_(r,a,o){r.lanes|=a;var l=r.alternate;l!==null&&(l.lanes|=a),Ed(r.return,a,o)}function im(r,a,o,l,f){var d=r.memoizedState;d===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:f}:(d.isBackwards=a,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=o,d.tailMode=f)}function u_(r,a,o){var l=a.pendingProps,f=l.revealOrder,d=l.tail;if(on(r,a,l.children,o),l=zt.current,(l&2)!==0)l=l&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&l_(r,o,a);else if(r.tag===19)l_(r,o,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}l&=1}switch(ie(zt,l),f){case"forwards":for(o=a.child,f=null;o!==null;)r=o.alternate,r!==null&&Kc(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=a.child,a.child=null):(f=o.sibling,o.sibling=null),im(a,!1,f,o,d);break;case"backwards":for(o=null,f=a.child,a.child=null;f!==null;){if(r=f.alternate,r!==null&&Kc(r)===null){a.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}im(a,!0,o,null,d);break;case"together":im(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function wi(r,a,o){if(r!==null&&(a.dependencies=r.dependencies),oa|=a.lanes,(o&a.childLanes)===0)if(r!==null){if(Pl(r,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,o=pi(r,r.pendingProps),a.child=o,o.return=a;r.sibling!==null;)r=r.sibling,o=o.sibling=pi(r,r.pendingProps),o.return=a;o.sibling=null}return a.child}function am(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Mc(r)))}function F1(r,a,o){switch(a.tag){case 3:Ye(a,a.stateNode.containerInfo),Ki(a,Bt,r.memoizedState.cache),kl();break;case 27:case 5:Hn(a);break;case 4:Ye(a,a.stateNode.containerInfo);break;case 10:Ki(a,a.type,a.memoizedProps.value);break;case 13:var l=a.memoizedState;if(l!==null)return l.dehydrated!==null?(ta(a),a.flags|=128,null):(o&a.child.childLanes)!==0?o_(r,a,o):(ta(a),r=wi(r,a,o),r!==null?r.sibling:null);ta(a);break;case 19:var f=(r.flags&128)!==0;if(l=(o&a.childLanes)!==0,l||(Pl(r,a,o,!1),l=(o&a.childLanes)!==0),f){if(l)return u_(r,a,o);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ie(zt,zt.current),l)break;return null;case 22:case 23:return a.lanes=0,n_(r,a,o);case 24:Ki(a,Bt,r.memoizedState.cache)}return wi(r,a,o)}function c_(r,a,o){if(r!==null)if(r.memoizedProps!==a.pendingProps)Wt=!0;else{if(!am(r,o)&&(a.flags&128)===0)return Wt=!1,F1(r,a,o);Wt=(r.flags&131072)!==0}else Wt=!1,Ke&&(a.flags&1048576)!==0&&By(a,kc,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var l=a.elementType,f=l._init;if(l=f(l._payload),a.type=l,typeof l=="function")md(l)?(r=vs(l,r),a.tag=1,a=a_(null,a,l,r,o)):(a.tag=0,a=Zd(null,a,l,r,o));else{if(l!=null){if(f=l.$$typeof,f===he){a.tag=11,a=Jv(null,a,l,r,o);break e}else if(f===M){a.tag=14,a=e_(null,a,l,r,o);break e}}throw a=mt(l)||l,Error(i(306,a,""))}}return a;case 0:return Zd(r,a,a.type,a.pendingProps,o);case 1:return l=a.type,f=vs(l,a.pendingProps),a_(r,a,l,f,o);case 3:e:{if(Ye(a,a.stateNode.containerInfo),r===null)throw Error(i(387));l=a.pendingProps;var d=a.memoizedState;f=d.element,Id(r,a),Hl(a,l,null,o);var b=a.memoizedState;if(l=b.cache,Ki(a,Bt,l),l!==d.cache&&Td(a,[Bt],o,!0),zl(),l=b.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=d,a.memoizedState=d,a.flags&256){a=s_(r,a,l,o);break e}else if(l!==f){f=Zn(Error(i(424)),a),Ml(f),a=s_(r,a,l,o);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(St=yr(r.firstChild),Sn=a,Ke=!0,fs=null,Vr=!0,o=Hv(a,null,l,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(kl(),l===f){a=wi(r,a,o);break e}on(r,a,l,o)}a=a.child}return a;case 26:return Jc(r,a),r===null?(o=m0(a.type,null,a.pendingProps,null))?a.memoizedState=o:Ke||(o=a.type,r=a.pendingProps,l=mh(Ee.current).createElement(o),l[wt]=a,l[yt]=r,un(l,o,r),xe(l),a.stateNode=l):a.memoizedState=m0(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Hn(a),r===null&&Ke&&(l=a.stateNode=h0(a.type,a.pendingProps,Ee.current),Sn=a,Vr=!0,f=St,ha(a.type)?(Um=f,St=yr(l.firstChild)):St=f),on(r,a,a.pendingProps.children,o),Jc(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&Ke&&((f=l=St)&&(l=yA(l,a.type,a.pendingProps,Vr),l!==null?(a.stateNode=l,Sn=a,St=yr(l.firstChild),Vr=!1,f=!0):f=!1),f||ds(a)),Hn(a),f=a.type,d=a.pendingProps,b=r!==null?r.memoizedProps:null,l=d.children,Pm(f,d)?l=null:b!==null&&Pm(f,b)&&(a.flags|=32),a.memoizedState!==null&&(f=Md(r,a,P1,null,null,o),cu._currentValue=f),Jc(r,a),on(r,a,l,o),a.child;case 6:return r===null&&Ke&&((r=o=St)&&(o=vA(o,a.pendingProps,Vr),o!==null?(a.stateNode=o,Sn=a,St=null,r=!0):r=!1),r||ds(a)),null;case 13:return o_(r,a,o);case 4:return Ye(a,a.stateNode.containerInfo),l=a.pendingProps,r===null?a.child=_o(a,null,l,o):on(r,a,l,o),a.child;case 11:return Jv(r,a,a.type,a.pendingProps,o);case 7:return on(r,a,a.pendingProps,o),a.child;case 8:return on(r,a,a.pendingProps.children,o),a.child;case 12:return on(r,a,a.pendingProps.children,o),a.child;case 10:return l=a.pendingProps,Ki(a,a.type,l.value),on(r,a,l.children,o),a.child;case 9:return f=a.type._context,l=a.pendingProps.children,gs(a),f=mn(f),l=l(f),a.flags|=1,on(r,a,l,o),a.child;case 14:return e_(r,a,a.type,a.pendingProps,o);case 15:return t_(r,a,a.type,a.pendingProps,o);case 19:return u_(r,a,o);case 31:return l=a.pendingProps,o=a.mode,l={mode:l.mode,children:l.children},r===null?(o=eh(l,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=pi(r.child,l),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return n_(r,a,o);case 24:return gs(a),l=mn(Bt),r===null?(f=Ad(),f===null&&(f=ct,d=wd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=o),f=d),a.memoizedState={parent:l,cache:f},Cd(a),Ki(a,Bt,f)):((r.lanes&o)!==0&&(Id(r,a),Hl(a,null,null,o),zl()),f=r.memoizedState,d=a.memoizedState,f.parent!==l?(f={parent:l,cache:l},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),Ki(a,Bt,l)):(l=d.cache,Ki(a,Bt,l),l!==f.cache&&Td(a,[Bt],o,!0))),on(r,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Si(r){r.flags|=4}function h_(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!_0(a)){if(a=nr.current,a!==null&&((qe&4194048)===qe?Lr!==null:(qe&62914560)!==qe&&(qe&536870912)===0||a!==Lr))throw Ul=Rd,Qy;r.flags|=8192}}function th(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Gi():536870912,r.lanes|=a,wo|=a)}function Wl(r,a){if(!Ke)switch(r.tailMode){case"hidden":a=r.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:l.sibling=null}}function bt(r){var a=r.alternate!==null&&r.alternate.child===r.child,o=0,l=0;if(a)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=l,r.childLanes=o,a}function q1(r,a,o){var l=a.pendingProps;switch(vd(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(a),null;case 1:return bt(a),null;case 3:return o=a.stateNode,l=null,r!==null&&(l=r.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),bi(Bt),Lt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Ol(a)?Si(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Fy())),bt(a),null;case 26:return o=a.memoizedState,r===null?(Si(a),o!==null?(bt(a),h_(a,o)):(bt(a),a.flags&=-16777217)):o?o!==r.memoizedState?(Si(a),bt(a),h_(a,o)):(bt(a),a.flags&=-16777217):(r.memoizedProps!==l&&Si(a),bt(a),a.flags&=-16777217),null;case 27:Dn(a),o=Ee.current;var f=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==l&&Si(a);else{if(!l){if(a.stateNode===null)throw Error(i(166));return bt(a),null}r=ye.current,Ol(a)?zy(a):(r=h0(f,l,o),a.stateNode=r,Si(a))}return bt(a),null;case 5:if(Dn(a),o=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==l&&Si(a);else{if(!l){if(a.stateNode===null)throw Error(i(166));return bt(a),null}if(r=ye.current,Ol(a))zy(a);else{switch(f=mh(Ee.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?r.multiple=!0:l.size&&(r.size=l.size);break;default:r=typeof l.is=="string"?f.createElement(o,{is:l.is}):f.createElement(o)}}r[wt]=a,r[yt]=l;e:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break e;for(;f.sibling===null;){if(f.return===null||f.return===a)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=r;e:switch(un(r,o,l),o){case"button":case"input":case"select":case"textarea":r=!!l.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Si(a)}}return bt(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==l&&Si(a);else{if(typeof l!="string"&&a.stateNode===null)throw Error(i(166));if(r=Ee.current,Ol(a)){if(r=a.stateNode,o=a.memoizedProps,l=null,f=Sn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}r[wt]=a,r=!!(r.nodeValue===o||l!==null&&l.suppressHydrationWarning===!0||i0(r.nodeValue,o)),r||ds(a)}else r=mh(r).createTextNode(l),r[wt]=a,a.stateNode=r}return bt(a),null;case 13:if(l=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Ol(a),l!==null&&l.dehydrated!==null){if(r===null){if(!f)throw Error(i(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[wt]=a}else kl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;bt(a),f=!1}else f=Fy(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(Ti(a),a):(Ti(a),null)}if(Ti(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=l!==null,r=r!==null&&r.memoizedState!==null,o){l=a.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return o!==r&&o&&(a.child.flags|=8192),th(a,a.updateQueue),bt(a),null;case 4:return Lt(),r===null&&Dm(a.stateNode.containerInfo),bt(a),null;case 10:return bi(a.type),bt(a),null;case 19:if(se(zt),f=a.memoizedState,f===null)return bt(a),null;if(l=(a.flags&128)!==0,d=f.rendering,d===null)if(l)Wl(f,!1);else{if(At!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(d=Kc(r),d!==null){for(a.flags|=128,Wl(f,!1),r=d.updateQueue,a.updateQueue=r,th(a,r),a.subtreeFlags=0,r=o,o=a.child;o!==null;)Uy(o,r),o=o.sibling;return ie(zt,zt.current&1|2),a.child}r=r.sibling}f.tail!==null&&en()>ih&&(a.flags|=128,l=!0,Wl(f,!1),a.lanes=4194304)}else{if(!l)if(r=Kc(d),r!==null){if(a.flags|=128,l=!0,r=r.updateQueue,a.updateQueue=r,th(a,r),Wl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Ke)return bt(a),null}else 2*en()-f.renderingStartTime>ih&&o!==536870912&&(a.flags|=128,l=!0,Wl(f,!1),a.lanes=4194304);f.isBackwards?(d.sibling=a.child,a.child=d):(r=f.last,r!==null?r.sibling=d:a.child=d,f.last=d)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=en(),a.sibling=null,r=zt.current,ie(zt,l?r&1|2:r&1),a):(bt(a),null);case 22:case 23:return Ti(a),Od(),l=a.memoizedState!==null,r!==null?r.memoizedState!==null!==l&&(a.flags|=8192):l&&(a.flags|=8192),l?(o&536870912)!==0&&(a.flags&128)===0&&(bt(a),a.subtreeFlags&6&&(a.flags|=8192)):bt(a),o=a.updateQueue,o!==null&&th(a,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),l=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==o&&(a.flags|=2048),r!==null&&se(ps),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),bi(Bt),bt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function G1(r,a){switch(vd(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return bi(Bt),Lt(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Dn(a),null;case 13:if(Ti(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));kl()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return se(zt),null;case 4:return Lt(),null;case 10:return bi(a.type),null;case 22:case 23:return Ti(a),Od(),r!==null&&se(ps),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return bi(Bt),null;case 25:return null;default:return null}}function f_(r,a){switch(vd(a),a.tag){case 3:bi(Bt),Lt();break;case 26:case 27:case 5:Dn(a);break;case 4:Lt();break;case 13:Ti(a);break;case 19:se(zt);break;case 10:bi(a.type);break;case 22:case 23:Ti(a),Od(),r!==null&&se(ps);break;case 24:bi(Bt)}}function Kl(r,a){try{var o=a.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var f=l.next;o=f;do{if((o.tag&r)===r){l=void 0;var d=o.create,b=o.inst;l=d(),b.destroy=l}o=o.next}while(o!==f)}}catch(w){lt(a,a.return,w)}}function ra(r,a,o){try{var l=a.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&r)===r){var b=l.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,f=a;var I=o,F=w;try{F()}catch(X){lt(f,I,X)}}}l=l.next}while(l!==d)}}catch(X){lt(a,a.return,X)}}function d_(r){var a=r.updateQueue;if(a!==null){var o=r.stateNode;try{ev(a,o)}catch(l){lt(r,r.return,l)}}}function m_(r,a,o){o.props=vs(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(l){lt(r,a,l)}}function Xl(r,a){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var l=r.stateNode;break;case 30:l=r.stateNode;break;default:l=r.stateNode}typeof o=="function"?r.refCleanup=o(l):o.current=l}}catch(f){lt(r,a,f)}}function jr(r,a){var o=r.ref,l=r.refCleanup;if(o!==null)if(typeof l=="function")try{l()}catch(f){lt(r,a,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){lt(r,a,f)}else o.current=null}function g_(r){var a=r.type,o=r.memoizedProps,l=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&l.focus();break e;case"img":o.src?l.src=o.src:o.srcSet&&(l.srcset=o.srcSet)}}catch(f){lt(r,r.return,f)}}function sm(r,a,o){try{var l=r.stateNode;fA(l,r.type,o,a),l[yt]=a}catch(f){lt(r,r.return,f)}}function p_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ha(r.type)||r.tag===4}function om(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||p_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ha(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function lm(r,a,o){var l=r.tag;if(l===5||l===6)r=r.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(r),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=dh));else if(l!==4&&(l===27&&ha(r.type)&&(o=r.stateNode,a=null),r=r.child,r!==null))for(lm(r,a,o),r=r.sibling;r!==null;)lm(r,a,o),r=r.sibling}function nh(r,a,o){var l=r.tag;if(l===5||l===6)r=r.stateNode,a?o.insertBefore(r,a):o.appendChild(r);else if(l!==4&&(l===27&&ha(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(nh(r,a,o),r=r.sibling;r!==null;)nh(r,a,o),r=r.sibling}function y_(r){var a=r.stateNode,o=r.memoizedProps;try{for(var l=r.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);un(a,l,o),a[wt]=r,a[yt]=o}catch(d){lt(r,r.return,d)}}var Ai=!1,Ct=!1,um=!1,v_=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function Y1(r,a){if(r=r.containerInfo,km=bh,r=Ny(r),od(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{o.nodeType,d.nodeType}catch{o=null;break e}var b=0,w=-1,I=-1,F=0,X=0,ee=r,Y=null;t:for(;;){for(var Q;ee!==o||f!==0&&ee.nodeType!==3||(w=b+f),ee!==d||l!==0&&ee.nodeType!==3||(I=b+l),ee.nodeType===3&&(b+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)Y=ee,ee=Q;for(;;){if(ee===r)break t;if(Y===o&&++F===f&&(w=b),Y===d&&++X===l&&(I=b),(Q=ee.nextSibling)!==null)break;ee=Y,Y=ee.parentNode}ee=Q}o=w===-1||I===-1?null:{start:w,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(Mm={focusedElem:r,selectionRange:o},bh=!1,Kt=a;Kt!==null;)if(a=Kt,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,Kt=r;else for(;Kt!==null;){switch(a=Kt,d=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&d!==null){r=void 0,o=a,f=d.memoizedProps,d=d.memoizedState,l=o.stateNode;try{var Re=vs(o.type,f,o.elementType===o.type);r=l.getSnapshotBeforeUpdate(Re,d),l.__reactInternalSnapshotBeforeUpdate=r}catch(Te){lt(o,o.return,Te)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,o=r.nodeType,o===9)Lm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Lm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,Kt=r;break}Kt=a.return}}function __(r,a,o){var l=o.flags;switch(o.tag){case 0:case 11:case 15:ia(r,o),l&4&&Kl(5,o);break;case 1:if(ia(r,o),l&4)if(r=o.stateNode,a===null)try{r.componentDidMount()}catch(b){lt(o,o.return,b)}else{var f=vs(o.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(f,a,r.__reactInternalSnapshotBeforeUpdate)}catch(b){lt(o,o.return,b)}}l&64&&d_(o),l&512&&Xl(o,o.return);break;case 3:if(ia(r,o),l&64&&(r=o.updateQueue,r!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{ev(r,a)}catch(b){lt(o,o.return,b)}}break;case 27:a===null&&l&4&&y_(o);case 26:case 5:ia(r,o),a===null&&l&4&&g_(o),l&512&&Xl(o,o.return);break;case 12:ia(r,o);break;case 13:ia(r,o),l&4&&T_(r,o),l&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=tA.bind(null,o),_A(r,o))));break;case 22:if(l=o.memoizedState!==null||Ai,!l){a=a!==null&&a.memoizedState!==null||Ct,f=Ai;var d=Ct;Ai=l,(Ct=a)&&!d?aa(r,o,(o.subtreeFlags&8772)!==0):ia(r,o),Ai=f,Ct=d}break;case 30:break;default:ia(r,o)}}function b_(r){var a=r.alternate;a!==null&&(r.alternate=null,b_(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&hr(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var vt=null,Rn=!1;function Ri(r,a,o){for(o=o.child;o!==null;)E_(r,a,o),o=o.sibling}function E_(r,a,o){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(pt,o)}catch{}switch(o.tag){case 26:Ct||jr(o,a),Ri(r,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ct||jr(o,a);var l=vt,f=Rn;ha(o.type)&&(vt=o.stateNode,Rn=!1),Ri(r,a,o),su(o.stateNode),vt=l,Rn=f;break;case 5:Ct||jr(o,a);case 6:if(l=vt,f=Rn,vt=null,Ri(r,a,o),vt=l,Rn=f,vt!==null)if(Rn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(o.stateNode)}catch(d){lt(o,a,d)}else try{vt.removeChild(o.stateNode)}catch(d){lt(o,a,d)}break;case 18:vt!==null&&(Rn?(r=vt,u0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),mu(r)):u0(vt,o.stateNode));break;case 4:l=vt,f=Rn,vt=o.stateNode.containerInfo,Rn=!0,Ri(r,a,o),vt=l,Rn=f;break;case 0:case 11:case 14:case 15:Ct||ra(2,o,a),Ct||ra(4,o,a),Ri(r,a,o);break;case 1:Ct||(jr(o,a),l=o.stateNode,typeof l.componentWillUnmount=="function"&&m_(o,a,l)),Ri(r,a,o);break;case 21:Ri(r,a,o);break;case 22:Ct=(l=Ct)||o.memoizedState!==null,Ri(r,a,o),Ct=l;break;default:Ri(r,a,o)}}function T_(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{mu(r)}catch(o){lt(a,a.return,o)}}function $1(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new v_),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new v_),a;default:throw Error(i(435,r.tag))}}function cm(r,a){var o=$1(r);a.forEach(function(l){var f=nA.bind(null,r,l);o.has(l)||(o.add(l),l.then(f,f))})}function Pn(r,a){var o=a.deletions;if(o!==null)for(var l=0;l<o.length;l++){var f=o[l],d=r,b=a,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(ha(w.type)){vt=w.stateNode,Rn=!1;break e}break;case 5:vt=w.stateNode,Rn=!1;break e;case 3:case 4:vt=w.stateNode.containerInfo,Rn=!0;break e}w=w.return}if(vt===null)throw Error(i(160));E_(d,b,f),vt=null,Rn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)w_(a,r),a=a.sibling}var pr=null;function w_(r,a){var o=r.alternate,l=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Pn(a,r),Vn(r),l&4&&(ra(3,r,r.return),Kl(3,r),ra(5,r,r.return));break;case 1:Pn(a,r),Vn(r),l&512&&(Ct||o===null||jr(o,o.return)),l&64&&Ai&&(r=r.updateQueue,r!==null&&(l=r.callbacks,l!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?l:o.concat(l))));break;case 26:var f=pr;if(Pn(a,r),Vn(r),l&512&&(Ct||o===null||jr(o,o.return)),l&4){var d=o!==null?o.memoizedState:null;if(l=r.memoizedState,o===null)if(l===null)if(r.stateNode===null){e:{l=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[cr]||d[wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),un(d,l,o),d[wt]=r,xe(d),l=d;break e;case"link":var b=y0("link","href",f).get(l+(o.href||""));if(b){for(var w=0;w<b.length;w++)if(d=b[w],d.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&d.getAttribute("rel")===(o.rel==null?null:o.rel)&&d.getAttribute("title")===(o.title==null?null:o.title)&&d.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(w,1);break t}}d=f.createElement(l),un(d,l,o),f.head.appendChild(d);break;case"meta":if(b=y0("meta","content",f).get(l+(o.content||""))){for(w=0;w<b.length;w++)if(d=b[w],d.getAttribute("content")===(o.content==null?null:""+o.content)&&d.getAttribute("name")===(o.name==null?null:o.name)&&d.getAttribute("property")===(o.property==null?null:o.property)&&d.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&d.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(w,1);break t}}d=f.createElement(l),un(d,l,o),f.head.appendChild(d);break;default:throw Error(i(468,l))}d[wt]=r,xe(d),l=d}r.stateNode=l}else v0(f,r.type,r.stateNode);else r.stateNode=p0(f,l,r.memoizedProps);else d!==l?(d===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):d.count--,l===null?v0(f,r.type,r.stateNode):p0(f,l,r.memoizedProps)):l===null&&r.stateNode!==null&&sm(r,r.memoizedProps,o.memoizedProps)}break;case 27:Pn(a,r),Vn(r),l&512&&(Ct||o===null||jr(o,o.return)),o!==null&&l&4&&sm(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Pn(a,r),Vn(r),l&512&&(Ct||o===null||jr(o,o.return)),r.flags&32){f=r.stateNode;try{Qn(f,"")}catch(Q){lt(r,r.return,Q)}}l&4&&r.stateNode!=null&&(f=r.memoizedProps,sm(r,f,o!==null?o.memoizedProps:f)),l&1024&&(um=!0);break;case 6:if(Pn(a,r),Vn(r),l&4){if(r.stateNode===null)throw Error(i(162));l=r.memoizedProps,o=r.stateNode;try{o.nodeValue=l}catch(Q){lt(r,r.return,Q)}}break;case 3:if(yh=null,f=pr,pr=gh(a.containerInfo),Pn(a,r),pr=f,Vn(r),l&4&&o!==null&&o.memoizedState.isDehydrated)try{mu(a.containerInfo)}catch(Q){lt(r,r.return,Q)}um&&(um=!1,S_(r));break;case 4:l=pr,pr=gh(r.stateNode.containerInfo),Pn(a,r),Vn(r),pr=l;break;case 12:Pn(a,r),Vn(r);break;case 13:Pn(a,r),Vn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(pm=en()),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,cm(r,l)));break;case 22:f=r.memoizedState!==null;var I=o!==null&&o.memoizedState!==null,F=Ai,X=Ct;if(Ai=F||f,Ct=X||I,Pn(a,r),Ct=X,Ai=F,Vn(r),l&8192)e:for(a=r.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(o===null||I||Ai||Ct||_s(r)),o=null,a=r;;){if(a.tag===5||a.tag===26){if(o===null){I=o=a;try{if(d=I.stateNode,f)b=d.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=I.stateNode;var ee=I.memoizedProps.style,Y=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Q){lt(I,I.return,Q)}}}else if(a.tag===6){if(o===null){I=a;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(Q){lt(I,I.return,Q)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}l&4&&(l=r.updateQueue,l!==null&&(o=l.retryQueue,o!==null&&(l.retryQueue=null,cm(r,o))));break;case 19:Pn(a,r),Vn(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,cm(r,l)));break;case 30:break;case 21:break;default:Pn(a,r),Vn(r)}}function Vn(r){var a=r.flags;if(a&2){try{for(var o,l=r.return;l!==null;){if(p_(l)){o=l;break}l=l.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,d=om(r);nh(r,d,f);break;case 5:var b=o.stateNode;o.flags&32&&(Qn(b,""),o.flags&=-33);var w=om(r);nh(r,w,b);break;case 3:case 4:var I=o.stateNode.containerInfo,F=om(r);lm(r,F,I);break;default:throw Error(i(161))}}catch(X){lt(r,r.return,X)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function S_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;S_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function ia(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)__(r,a.alternate,a),a=a.sibling}function _s(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:ra(4,a,a.return),_s(a);break;case 1:jr(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&m_(a,a.return,o),_s(a);break;case 27:su(a.stateNode);case 26:case 5:jr(a,a.return),_s(a);break;case 22:a.memoizedState===null&&_s(a);break;case 30:_s(a);break;default:_s(a)}r=r.sibling}}function aa(r,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var l=a.alternate,f=r,d=a,b=d.flags;switch(d.tag){case 0:case 11:case 15:aa(f,d,o),Kl(4,d);break;case 1:if(aa(f,d,o),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){lt(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var w=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)Jy(I[f],w)}catch(F){lt(l,l.return,F)}}o&&b&64&&d_(d),Xl(d,d.return);break;case 27:y_(d);case 26:case 5:aa(f,d,o),o&&l===null&&b&4&&g_(d),Xl(d,d.return);break;case 12:aa(f,d,o);break;case 13:aa(f,d,o),o&&b&4&&T_(f,d);break;case 22:d.memoizedState===null&&aa(f,d,o),Xl(d,d.return);break;case 30:break;default:aa(f,d,o)}a=a.sibling}}function hm(r,a){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Vl(o))}function fm(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Vl(r))}function Ur(r,a,o,l){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)A_(r,a,o,l),a=a.sibling}function A_(r,a,o,l){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Ur(r,a,o,l),f&2048&&Kl(9,a);break;case 1:Ur(r,a,o,l);break;case 3:Ur(r,a,o,l),f&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Vl(r)));break;case 12:if(f&2048){Ur(r,a,o,l),r=a.stateNode;try{var d=a.memoizedProps,b=d.id,w=d.onPostCommit;typeof w=="function"&&w(b,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(I){lt(a,a.return,I)}}else Ur(r,a,o,l);break;case 13:Ur(r,a,o,l);break;case 23:break;case 22:d=a.stateNode,b=a.alternate,a.memoizedState!==null?d._visibility&2?Ur(r,a,o,l):Zl(r,a):d._visibility&2?Ur(r,a,o,l):(d._visibility|=2,bo(r,a,o,l,(a.subtreeFlags&10256)!==0)),f&2048&&hm(b,a);break;case 24:Ur(r,a,o,l),f&2048&&fm(a.alternate,a);break;default:Ur(r,a,o,l)}}function bo(r,a,o,l,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var d=r,b=a,w=o,I=l,F=b.flags;switch(b.tag){case 0:case 11:case 15:bo(d,b,w,I,f),Kl(8,b);break;case 23:break;case 22:var X=b.stateNode;b.memoizedState!==null?X._visibility&2?bo(d,b,w,I,f):Zl(d,b):(X._visibility|=2,bo(d,b,w,I,f)),f&&F&2048&&hm(b.alternate,b);break;case 24:bo(d,b,w,I,f),f&&F&2048&&fm(b.alternate,b);break;default:bo(d,b,w,I,f)}a=a.sibling}}function Zl(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=r,l=a,f=l.flags;switch(l.tag){case 22:Zl(o,l),f&2048&&hm(l.alternate,l);break;case 24:Zl(o,l),f&2048&&fm(l.alternate,l);break;default:Zl(o,l)}a=a.sibling}}var Jl=8192;function Eo(r){if(r.subtreeFlags&Jl)for(r=r.child;r!==null;)R_(r),r=r.sibling}function R_(r){switch(r.tag){case 26:Eo(r),r.flags&Jl&&r.memoizedState!==null&&OA(pr,r.memoizedState,r.memoizedProps);break;case 5:Eo(r);break;case 3:case 4:var a=pr;pr=gh(r.stateNode.containerInfo),Eo(r),pr=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=Jl,Jl=16777216,Eo(r),Jl=a):Eo(r));break;default:Eo(r)}}function C_(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function eu(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var l=a[o];Kt=l,N_(l,r)}C_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)I_(r),r=r.sibling}function I_(r){switch(r.tag){case 0:case 11:case 15:eu(r),r.flags&2048&&ra(9,r,r.return);break;case 3:eu(r);break;case 12:eu(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,rh(r)):eu(r);break;default:eu(r)}}function rh(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var l=a[o];Kt=l,N_(l,r)}C_(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:ra(8,a,a.return),rh(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,rh(a));break;default:rh(a)}r=r.sibling}}function N_(r,a){for(;Kt!==null;){var o=Kt;switch(o.tag){case 0:case 11:case 15:ra(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var l=o.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vl(o.memoizedState.cache)}if(l=o.child,l!==null)l.return=o,Kt=l;else e:for(o=r;Kt!==null;){l=Kt;var f=l.sibling,d=l.return;if(b_(l),l===o){Kt=null;break e}if(f!==null){f.return=d,Kt=f;break e}Kt=d}}}var Q1={getCacheForType:function(r){var a=mn(Bt),o=a.data.get(r);return o===void 0&&(o=r(),a.data.set(r,o)),o}},W1=typeof WeakMap=="function"?WeakMap:Map,Je=0,ct=null,je=null,qe=0,et=0,Ln=null,sa=!1,To=!1,dm=!1,Ci=0,At=0,oa=0,bs=0,mm=0,rr=0,wo=0,tu=null,Cn=null,gm=!1,pm=0,ih=1/0,ah=null,la=null,ln=0,ua=null,So=null,Ao=0,ym=0,vm=null,D_=null,nu=0,_m=null;function jn(){if((Je&2)!==0&&qe!==0)return qe&-qe;if(K.T!==null){var r=ho;return r!==0?r:Rm()}return Cr()}function x_(){rr===0&&(rr=(qe&536870912)===0||Ke?Ya():536870912);var r=nr.current;return r!==null&&(r.flags|=32),rr}function Un(r,a,o){(r===ct&&(et===2||et===9)||r.cancelPendingCommit!==null)&&(Ro(r,0),ca(r,qe,rr,!1)),Gn(r,o),((Je&2)===0||r!==ct)&&(r===ct&&((Je&2)===0&&(bs|=o),At===4&&ca(r,qe,rr,!1)),Br(r))}function O_(r,a,o){if((Je&6)!==0)throw Error(i(327));var l=!o&&(a&124)===0&&(a&r.expiredLanes)===0||Ar(r,a),f=l?Z1(r,a):Tm(r,a,!0),d=l;do{if(f===0){To&&!l&&ca(r,a,0,!1);break}else{if(o=r.current.alternate,d&&!K1(o)){f=Tm(r,a,!1),d=!1;continue}if(f===2){if(d=a,r.errorRecoveryDisabledLanes&d)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;e:{var w=r;f=tu;var I=w.current.memoizedState.isDehydrated;if(I&&(Ro(w,b).flags|=256),b=Tm(w,b,!1),b!==2){if(dm&&!I){w.errorRecoveryDisabledLanes|=d,bs|=d,f=4;break e}d=Cn,Cn=f,d!==null&&(Cn===null?Cn=d:Cn.push.apply(Cn,d))}f=b}if(d=!1,f!==2)continue}}if(f===1){Ro(r,0),ca(r,a,0,!0);break}e:{switch(l=r,d=f,d){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ca(l,a,rr,!sa);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(f=pm+300-en(),10<f)){if(ca(l,a,rr,!sa),ai(l,0,!0)!==0)break e;l.timeoutHandle=o0(k_.bind(null,l,o,Cn,ah,gm,a,rr,bs,wo,sa,d,2,-0,0),f);break e}k_(l,o,Cn,ah,gm,a,rr,bs,wo,sa,d,0,-0,0)}}break}while(!0);Br(r)}function k_(r,a,o,l,f,d,b,w,I,F,X,ee,Y,Q){if(r.timeoutHandle=-1,ee=a.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(uu={stylesheets:null,count:0,unsuspend:xA},R_(a),ee=kA(),ee!==null)){r.cancelPendingCommit=ee(B_.bind(null,r,a,d,o,l,f,b,w,I,X,1,Y,Q)),ca(r,d,b,!F);return}B_(r,a,d,o,l,f,b,w,I)}function K1(r){for(var a=r;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var l=0;l<o.length;l++){var f=o[l],d=f.getSnapshot;f=f.value;try{if(!kn(d(),f))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ca(r,a,o,l){a&=~mm,a&=~bs,r.suspendedLanes|=a,r.pingedLanes&=~a,l&&(r.warmLanes|=a),l=r.expirationTimes;for(var f=a;0<f;){var d=31-Dt(f),b=1<<d;l[d]=-1,f&=~b}o!==0&&ht(r,o,a)}function sh(){return(Je&6)===0?(ru(0),!1):!0}function bm(){if(je!==null){if(et===0)var r=je.return;else r=je,_i=ms=null,Ld(r),vo=null,$l=0,r=je;for(;r!==null;)f_(r.alternate,r),r=r.return;je=null}}function Ro(r,a){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,mA(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),bm(),ct=r,je=o=pi(r.current,null),qe=a,et=0,Ln=null,sa=!1,To=Ar(r,a),dm=!1,wo=rr=mm=bs=oa=At=0,Cn=tu=null,gm=!1,(a&8)!==0&&(a|=a&32);var l=r.entangledLanes;if(l!==0)for(r=r.entanglements,l&=a;0<l;){var f=31-Dt(l),d=1<<f;a|=r[f],l&=~d}return Ci=a,Ic(),o}function M_(r,a){Me=null,K.H=$c,a===jl||a===Lc?(a=Xy(),et=3):a===Qy?(a=Xy(),et=4):et=a===Zv?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ln=a,je===null&&(At=1,Zc(r,Zn(a,r.current)))}function P_(){var r=K.H;return K.H=$c,r===null?$c:r}function V_(){var r=K.A;return K.A=Q1,r}function Em(){At=4,sa||(qe&4194048)!==qe&&nr.current!==null||(To=!0),(oa&134217727)===0&&(bs&134217727)===0||ct===null||ca(ct,qe,rr,!1)}function Tm(r,a,o){var l=Je;Je|=2;var f=P_(),d=V_();(ct!==r||qe!==a)&&(ah=null,Ro(r,a)),a=!1;var b=At;e:do try{if(et!==0&&je!==null){var w=je,I=Ln;switch(et){case 8:bm(),b=6;break e;case 3:case 2:case 9:case 6:nr.current===null&&(a=!0);var F=et;if(et=0,Ln=null,Co(r,w,I,F),o&&To){b=0;break e}break;default:F=et,et=0,Ln=null,Co(r,w,I,F)}}X1(),b=At;break}catch(X){M_(r,X)}while(!0);return a&&r.shellSuspendCounter++,_i=ms=null,Je=l,K.H=f,K.A=d,je===null&&(ct=null,qe=0,Ic()),b}function X1(){for(;je!==null;)L_(je)}function Z1(r,a){var o=Je;Je|=2;var l=P_(),f=V_();ct!==r||qe!==a?(ah=null,ih=en()+500,Ro(r,a)):To=Ar(r,a);e:do try{if(et!==0&&je!==null){a=je;var d=Ln;t:switch(et){case 1:et=0,Ln=null,Co(r,a,d,1);break;case 2:case 9:if(Wy(d)){et=0,Ln=null,j_(a);break}a=function(){et!==2&&et!==9||ct!==r||(et=7),Br(r)},d.then(a,a);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Wy(d)?(et=0,Ln=null,j_(a)):(et=0,Ln=null,Co(r,a,d,7));break;case 5:var b=null;switch(je.tag){case 26:b=je.memoizedState;case 5:case 27:var w=je;if(!b||_0(b)){et=0,Ln=null;var I=w.sibling;if(I!==null)je=I;else{var F=w.return;F!==null?(je=F,oh(F)):je=null}break t}}et=0,Ln=null,Co(r,a,d,5);break;case 6:et=0,Ln=null,Co(r,a,d,6);break;case 8:bm(),At=6;break e;default:throw Error(i(462))}}J1();break}catch(X){M_(r,X)}while(!0);return _i=ms=null,K.H=l,K.A=f,Je=o,je!==null?0:(ct=null,qe=0,Ic(),At)}function J1(){for(;je!==null&&!lr();)L_(je)}function L_(r){var a=c_(r.alternate,r,Ci);r.memoizedProps=r.pendingProps,a===null?oh(r):je=a}function j_(r){var a=r,o=a.alternate;switch(a.tag){case 15:case 0:a=i_(o,a,a.pendingProps,a.type,void 0,qe);break;case 11:a=i_(o,a,a.pendingProps,a.type.render,a.ref,qe);break;case 5:Ld(a);default:f_(o,a),a=je=Uy(a,Ci),a=c_(o,a,Ci)}r.memoizedProps=r.pendingProps,a===null?oh(r):je=a}function Co(r,a,o,l){_i=ms=null,Ld(a),vo=null,$l=0;var f=a.return;try{if(H1(r,f,a,o,qe)){At=1,Zc(r,Zn(o,r.current)),je=null;return}}catch(d){if(f!==null)throw je=f,d;At=1,Zc(r,Zn(o,r.current)),je=null;return}a.flags&32768?(Ke||l===1?r=!0:To||(qe&536870912)!==0?r=!1:(sa=r=!0,(l===2||l===9||l===3||l===6)&&(l=nr.current,l!==null&&l.tag===13&&(l.flags|=16384))),U_(a,r)):oh(a)}function oh(r){var a=r;do{if((a.flags&32768)!==0){U_(a,sa);return}r=a.return;var o=q1(a.alternate,a,Ci);if(o!==null){je=o;return}if(a=a.sibling,a!==null){je=a;return}je=a=r}while(a!==null);At===0&&(At=5)}function U_(r,a){do{var o=G1(r.alternate,r);if(o!==null){o.flags&=32767,je=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(r=r.sibling,r!==null)){je=r;return}je=r=o}while(r!==null);At=6,je=null}function B_(r,a,o,l,f,d,b,w,I){r.cancelPendingCommit=null;do lh();while(ln!==0);if((Je&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(d=a.lanes|a.childLanes,d|=fd,xt(r,o,d,b,w,I),r===ct&&(je=ct=null,qe=0),So=a,ua=r,Ao=o,ym=d,vm=f,D_=l,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,rA(ni,function(){return G_(),null})):(r.callbackNode=null,r.callbackPriority=0),l=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=oe.p,oe.p=2,b=Je,Je|=4;try{Y1(r,a,o)}finally{Je=b,oe.p=f,K.T=l}}ln=1,z_(),H_(),F_()}}function z_(){if(ln===1){ln=0;var r=ua,a=So,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=K.T,K.T=null;var l=oe.p;oe.p=2;var f=Je;Je|=4;try{w_(a,r);var d=Mm,b=Ny(r.containerInfo),w=d.focusedElem,I=d.selectionRange;if(b!==w&&w&&w.ownerDocument&&Iy(w.ownerDocument.documentElement,w)){if(I!==null&&od(w)){var F=I.start,X=I.end;if(X===void 0&&(X=F),"selectionStart"in w)w.selectionStart=F,w.selectionEnd=Math.min(X,w.value.length);else{var ee=w.ownerDocument||document,Y=ee&&ee.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),Re=w.textContent.length,Te=Math.min(I.start,Re),at=I.end===void 0?Te:Math.min(I.end,Re);!Q.extend&&Te>at&&(b=at,at=Te,Te=b);var j=Cy(w,Te),k=Cy(w,at);if(j&&k&&(Q.rangeCount!==1||Q.anchorNode!==j.node||Q.anchorOffset!==j.offset||Q.focusNode!==k.node||Q.focusOffset!==k.offset)){var H=ee.createRange();H.setStart(j.node,j.offset),Q.removeAllRanges(),Te>at?(Q.addRange(H),Q.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),Q.addRange(H))}}}}for(ee=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ee.length;w++){var Z=ee[w];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}bh=!!km,Mm=km=null}finally{Je=f,oe.p=l,K.T=o}}r.current=a,ln=2}}function H_(){if(ln===2){ln=0;var r=ua,a=So,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=K.T,K.T=null;var l=oe.p;oe.p=2;var f=Je;Je|=4;try{__(r,a.alternate,a)}finally{Je=f,oe.p=l,K.T=o}}ln=3}}function F_(){if(ln===4||ln===3){ln=0,Jt();var r=ua,a=So,o=Ao,l=D_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ln=5:(ln=0,So=ua=null,q_(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(la=null),tn(o),a=a.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(pt,a,void 0,(a.current.flags&128)===128)}catch{}if(l!==null){a=K.T,f=oe.p,oe.p=2,K.T=null;try{for(var d=r.onRecoverableError,b=0;b<l.length;b++){var w=l[b];d(w.value,{componentStack:w.stack})}}finally{K.T=a,oe.p=f}}(Ao&3)!==0&&lh(),Br(r),f=r.pendingLanes,(o&4194090)!==0&&(f&42)!==0?r===_m?nu++:(nu=0,_m=r):nu=0,ru(0)}}function q_(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Vl(a)))}function lh(r){return z_(),H_(),F_(),G_()}function G_(){if(ln!==5)return!1;var r=ua,a=ym;ym=0;var o=tn(Ao),l=K.T,f=oe.p;try{oe.p=32>o?32:o,K.T=null,o=vm,vm=null;var d=ua,b=Ao;if(ln=0,So=ua=null,Ao=0,(Je&6)!==0)throw Error(i(331));var w=Je;if(Je|=4,I_(d.current),A_(d,d.current,b,o),Je=w,ru(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(pt,d)}catch{}return!0}finally{oe.p=f,K.T=l,q_(r,a)}}function Y_(r,a,o){a=Zn(o,a),a=Xd(r.stateNode,a,2),r=Ji(r,a,2),r!==null&&(Gn(r,2),Br(r))}function lt(r,a,o){if(r.tag===3)Y_(r,r,o);else for(;a!==null;){if(a.tag===3){Y_(a,r,o);break}else if(a.tag===1){var l=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(la===null||!la.has(l))){r=Zn(o,r),o=Kv(2),l=Ji(a,o,2),l!==null&&(Xv(o,l,a,r),Gn(l,2),Br(l));break}}a=a.return}}function wm(r,a,o){var l=r.pingCache;if(l===null){l=r.pingCache=new W1;var f=new Set;l.set(a,f)}else f=l.get(a),f===void 0&&(f=new Set,l.set(a,f));f.has(o)||(dm=!0,f.add(o),r=eA.bind(null,r,a,o),a.then(r,r))}function eA(r,a,o){var l=r.pingCache;l!==null&&l.delete(a),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ct===r&&(qe&o)===o&&(At===4||At===3&&(qe&62914560)===qe&&300>en()-pm?(Je&2)===0&&Ro(r,0):mm|=o,wo===qe&&(wo=0)),Br(r)}function $_(r,a){a===0&&(a=Gi()),r=oo(r,a),r!==null&&(Gn(r,a),Br(r))}function tA(r){var a=r.memoizedState,o=0;a!==null&&(o=a.retryLane),$_(r,o)}function nA(r,a){var o=0;switch(r.tag){case 13:var l=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:l=r.stateNode;break;case 22:l=r.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(a),$_(r,o)}function rA(r,a){return or(r,a)}var uh=null,Io=null,Sm=!1,ch=!1,Am=!1,Es=0;function Br(r){r!==Io&&r.next===null&&(Io===null?uh=Io=r:Io=Io.next=r),ch=!0,Sm||(Sm=!0,aA())}function ru(r,a){if(!Am&&ch){Am=!0;do for(var o=!1,l=uh;l!==null;){if(r!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var b=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-Dt(42|r)+1)-1,d&=f&~(b&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(o=!0,X_(l,d))}else d=qe,d=ai(l,l===ct?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Ar(l,d)||(o=!0,X_(l,d));l=l.next}while(o);Am=!1}}function iA(){Q_()}function Q_(){ch=Sm=!1;var r=0;Es!==0&&(dA()&&(r=Es),Es=0);for(var a=en(),o=null,l=uh;l!==null;){var f=l.next,d=W_(l,a);d===0?(l.next=null,o===null?uh=f:o.next=f,f===null&&(Io=o)):(o=l,(r!==0||(d&3)!==0)&&(ch=!0)),l=f}ru(r)}function W_(r,a){for(var o=r.suspendedLanes,l=r.pingedLanes,f=r.expirationTimes,d=r.pendingLanes&-62914561;0<d;){var b=31-Dt(d),w=1<<b,I=f[b];I===-1?((w&o)===0||(w&l)!==0)&&(f[b]=si(w,a)):I<=a&&(r.expiredLanes|=w),d&=~w}if(a=ct,o=qe,o=ai(r,r===a?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l=r.callbackNode,o===0||r===a&&(et===2||et===9)||r.cancelPendingCommit!==null)return l!==null&&l!==null&&st(l),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Ar(r,o)){if(a=o&-o,a===r.callbackPriority)return a;switch(l!==null&&st(l),tn(o)){case 2:case 8:o=qi;break;case 32:o=ni;break;case 268435456:o=ri;break;default:o=ni}return l=K_.bind(null,r),o=or(o,l),r.callbackPriority=a,r.callbackNode=o,a}return l!==null&&l!==null&&st(l),r.callbackPriority=2,r.callbackNode=null,2}function K_(r,a){if(ln!==0&&ln!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(lh()&&r.callbackNode!==o)return null;var l=qe;return l=ai(r,r===ct?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l===0?null:(O_(r,l,a),W_(r,en()),r.callbackNode!=null&&r.callbackNode===o?K_.bind(null,r):null)}function X_(r,a){if(lh())return null;O_(r,a,!0)}function aA(){gA(function(){(Je&6)!==0?or(Fi,iA):Q_()})}function Rm(){return Es===0&&(Es=Ya()),Es}function Z_(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ws(""+r)}function J_(r,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,r.id&&o.setAttribute("form",r.id),a.parentNode.insertBefore(o,a),r=new FormData(r),o.parentNode.removeChild(o),r}function sA(r,a,o,l,f){if(a==="submit"&&o&&o.stateNode===f){var d=Z_((f[yt]||null).action),b=l.submitter;b&&(a=(a=b[yt]||null)?Z_(a.formAction):b.getAttribute("formAction"),a!==null&&(d=a,b=null));var w=new Ks("action","action",null,l,f);r.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Es!==0){var I=b?J_(f,b):new FormData(f);Yd(o,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(w.preventDefault(),I=b?J_(f,b):new FormData(f),Yd(o,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var Cm=0;Cm<hd.length;Cm++){var Im=hd[Cm],oA=Im.toLowerCase(),lA=Im[0].toUpperCase()+Im.slice(1);gr(oA,"on"+lA)}gr(Oy,"onAnimationEnd"),gr(ky,"onAnimationIteration"),gr(My,"onAnimationStart"),gr("dblclick","onDoubleClick"),gr("focusin","onFocus"),gr("focusout","onBlur"),gr(A1,"onTransitionRun"),gr(R1,"onTransitionStart"),gr(C1,"onTransitionCancel"),gr(Py,"onTransitionEnd"),dr("onMouseEnter",["mouseout","mouseover"]),dr("onMouseLeave",["mouseout","mouseover"]),dr("onPointerEnter",["pointerout","pointerover"]),dr("onPointerLeave",["pointerout","pointerover"]),En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),En("onBeforeInput",["compositionend","keypress","textInput","paste"]),En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(iu));function e0(r,a){a=(a&4)!==0;for(var o=0;o<r.length;o++){var l=r[o],f=l.event;l=l.listeners;e:{var d=void 0;if(a)for(var b=l.length-1;0<=b;b--){var w=l[b],I=w.instance,F=w.currentTarget;if(w=w.listener,I!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=F;try{d(f)}catch(X){Xc(X)}f.currentTarget=null,d=I}else for(b=0;b<l.length;b++){if(w=l[b],I=w.instance,F=w.currentTarget,w=w.listener,I!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=F;try{d(f)}catch(X){Xc(X)}f.currentTarget=null,d=I}}}}function Ue(r,a){var o=a[oi];o===void 0&&(o=a[oi]=new Set);var l=r+"__bubble";o.has(l)||(t0(a,r,2,!1),o.add(l))}function Nm(r,a,o){var l=0;a&&(l|=4),t0(o,r,l,a)}var hh="_reactListening"+Math.random().toString(36).slice(2);function Dm(r){if(!r[hh]){r[hh]=!0,rn.forEach(function(o){o!=="selectionchange"&&(uA.has(o)||Nm(o,!1,r),Nm(o,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[hh]||(a[hh]=!0,Nm("selectionchange",!1,a))}}function t0(r,a,o,l){switch(A0(a)){case 2:var f=VA;break;case 8:f=LA;break;default:f=qm}o=f.bind(null,a,o,r),f=void 0,!Kn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),l?f!==void 0?r.addEventListener(a,o,{capture:!0,passive:f}):r.addEventListener(a,o,!0):f!==void 0?r.addEventListener(a,o,{passive:f}):r.addEventListener(a,o,!1)}function xm(r,a,o,l,f){var d=l;if((a&1)===0&&(a&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var w=l.stateNode.containerInfo;if(w===f)break;if(b===4)for(b=l.return;b!==null;){var I=b.tag;if((I===3||I===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;w!==null;){if(b=fr(w),b===null)return;if(I=b.tag,I===5||I===6||I===26||I===27){l=d=b;continue e}w=w.parentNode}}l=l.return}dc(function(){var F=d,X=Wn(o),ee=[];e:{var Y=Vy.get(r);if(Y!==void 0){var Q=Ks,Re=r;switch(r){case"keypress":if(xr(o)===0)break e;case"keydown":case"keyup":Q=no;break;case"focusin":Re="focus",Q=Js;break;case"focusout":Re="blur",Q=Js;break;case"beforeblur":case"afterblur":Q=Js;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=rd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Ec;break;case Oy:case ky:case My:Q=eo;break;case Py:Q=wc;break;case"scroll":case"scrollend":Q=mc;break;case"wheel":Q=ro;break;case"copy":case"cut":case"paste":Q=to;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Il;break;case"toggle":case"beforetoggle":Q=Ac}var Te=(a&4)!==0,at=!Te&&(r==="scroll"||r==="scrollend"),j=Te?Y!==null?Y+"Capture":null:Y;Te=[];for(var k=F,H;k!==null;){var Z=k;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||j===null||(Z=es(k,j),Z!=null&&Te.push(au(k,Z,H))),at)break;k=k.return}0<Te.length&&(Y=new Q(Y,Re,null,o,X),ee.push({event:Y,listeners:Te}))}}if((a&7)===0){e:{if(Y=r==="mouseover"||r==="pointerover",Q=r==="mouseout"||r==="pointerout",Y&&o!==ci&&(Re=o.relatedTarget||o.fromElement)&&(fr(Re)||Re[nn]))break e;if((Q||Y)&&(Y=X.window===X?X:(Y=X.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(Re=o.relatedTarget||o.toElement,Q=F,Re=Re?fr(Re):null,Re!==null&&(at=u(Re),Te=Re.tag,Re!==at||Te!==5&&Te!==27&&Te!==6)&&(Re=null)):(Q=null,Re=F),Q!==Re)){if(Te=Xn,Z="onMouseLeave",j="onMouseEnter",k="mouse",(r==="pointerout"||r==="pointerover")&&(Te=Il,Z="onPointerLeave",j="onPointerEnter",k="pointer"),at=Q==null?Y:Ce(Q),H=Re==null?Y:Ce(Re),Y=new Te(Z,k+"leave",Q,o,X),Y.target=at,Y.relatedTarget=H,Z=null,fr(X)===F&&(Te=new Te(j,k+"enter",Re,o,X),Te.target=H,Te.relatedTarget=at,Z=Te),at=Z,Q&&Re)t:{for(Te=Q,j=Re,k=0,H=Te;H;H=No(H))k++;for(H=0,Z=j;Z;Z=No(Z))H++;for(;0<k-H;)Te=No(Te),k--;for(;0<H-k;)j=No(j),H--;for(;k--;){if(Te===j||j!==null&&Te===j.alternate)break t;Te=No(Te),j=No(j)}Te=null}else Te=null;Q!==null&&n0(ee,Y,Q,Te,!1),Re!==null&&at!==null&&n0(ee,at,Re,Te,!0)}}e:{if(Y=F?Ce(F):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var de=Ey;else if(Ut(Y))if(Ty)de=T1;else{de=b1;var Le=_1}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?F&&El(F.elementType)&&(de=Ey):de=E1;if(de&&(de=de(r,F))){gi(ee,de,o,X);break e}Le&&Le(r,Y,F),r==="focusout"&&F&&Y.type==="number"&&F.memoizedProps.value!=null&&Qi(Y,"number",Y.value)}switch(Le=F?Ce(F):window,r){case"focusin":(Ut(Le)||Le.contentEditable==="true")&&(io=Le,ld=F,xl=null);break;case"focusout":xl=ld=io=null;break;case"mousedown":ud=!0;break;case"contextmenu":case"mouseup":case"dragend":ud=!1,Dy(ee,o,X);break;case"selectionchange":if(S1)break;case"keydown":case"keyup":Dy(ee,o,X)}var ve;if(Mr)e:{switch(r){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else He?W(r,o)&&(we="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(we="onCompositionStart");we&&(v&&o.locale!=="ko"&&(He||we!=="onCompositionStart"?we==="onCompositionEnd"&&He&&(ve=wl()):(Dr=X,Wi="value"in Dr?Dr.value:Dr.textContent,He=!0)),Le=fh(F,we),0<Le.length&&(we=new Rl(we,r,null,o,X),ee.push({event:we,listeners:Le}),ve?we.data=ve:(ve=ae(o),ve!==null&&(we.data=ve)))),(ve=y?jt(r,o):Fe(r,o))&&(we=fh(F,"onBeforeInput"),0<we.length&&(Le=new Rl("onBeforeInput","beforeinput",null,o,X),ee.push({event:Le,listeners:we}),Le.data=ve)),sA(ee,r,F,o,X)}e0(ee,a)})}function au(r,a,o){return{instance:r,listener:a,currentTarget:o}}function fh(r,a){for(var o=a+"Capture",l=[];r!==null;){var f=r,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=es(r,o),f!=null&&l.unshift(au(r,f,d)),f=es(r,a),f!=null&&l.push(au(r,f,d))),r.tag===3)return l;r=r.return}return[]}function No(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function n0(r,a,o,l,f){for(var d=a._reactName,b=[];o!==null&&o!==l;){var w=o,I=w.alternate,F=w.stateNode;if(w=w.tag,I!==null&&I===l)break;w!==5&&w!==26&&w!==27||F===null||(I=F,f?(F=es(o,d),F!=null&&b.unshift(au(o,F,I))):f||(F=es(o,d),F!=null&&b.push(au(o,F,I)))),o=o.return}b.length!==0&&r.push({event:a,listeners:b})}var cA=/\r\n?/g,hA=/\u0000|\uFFFD/g;function r0(r){return(typeof r=="string"?r:""+r).replace(cA,`
`).replace(hA,"")}function i0(r,a){return a=r0(a),r0(r)===a}function dh(){}function it(r,a,o,l,f,d){switch(o){case"children":typeof l=="string"?a==="body"||a==="textarea"&&l===""||Qn(r,l):(typeof l=="number"||typeof l=="bigint")&&a!=="body"&&Qn(r,""+l);break;case"className":Ir(r,"class",l);break;case"tabIndex":Ir(r,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ir(r,o,l);break;case"style":bl(r,l,d);break;case"data":if(a!=="object"){Ir(r,"data",l);break}case"src":case"href":if(l===""&&(a!=="a"||o!=="href")){r.removeAttribute(o);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(o);break}l=Ws(""+l),r.setAttribute(o,l);break;case"action":case"formAction":if(typeof l=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(o==="formAction"?(a!=="input"&&it(r,a,"name",f.name,f,null),it(r,a,"formEncType",f.formEncType,f,null),it(r,a,"formMethod",f.formMethod,f,null),it(r,a,"formTarget",f.formTarget,f,null)):(it(r,a,"encType",f.encType,f,null),it(r,a,"method",f.method,f,null),it(r,a,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(o);break}l=Ws(""+l),r.setAttribute(o,l);break;case"onClick":l!=null&&(r.onclick=dh);break;case"onScroll":l!=null&&Ue("scroll",r);break;case"onScrollEnd":l!=null&&Ue("scrollend",r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(o=l.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":r.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){r.removeAttribute("xlink:href");break}o=Ws(""+l),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,""+l):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":l===!0?r.setAttribute(o,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,l):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?r.setAttribute(o,l):r.removeAttribute(o);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?r.removeAttribute(o):r.setAttribute(o,l);break;case"popover":Ue("beforetoggle",r),Ue("toggle",r),$i(r,"popover",l);break;case"xlinkActuate":an(r,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":an(r,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":an(r,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":an(r,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":an(r,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":an(r,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":an(r,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":an(r,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":an(r,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":$i(r,"is",l);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=td.get(o)||o,$i(r,o,l))}}function Om(r,a,o,l,f,d){switch(o){case"style":bl(r,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(o=l.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof l=="string"?Qn(r,l):(typeof l=="number"||typeof l=="bigint")&&Qn(r,""+l);break;case"onScroll":l!=null&&Ue("scroll",r);break;case"onScrollEnd":l!=null&&Ue("scrollend",r);break;case"onClick":l!=null&&(r.onclick=dh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yt.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),a=o.slice(2,f?o.length-7:void 0),d=r[yt]||null,d=d!=null?d[o]:null,typeof d=="function"&&r.removeEventListener(a,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(a,l,f);break e}o in r?r[o]=l:l===!0?r.setAttribute(o,""):$i(r,o,l)}}}function un(r,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",r),Ue("load",r);var l=!1,f=!1,d;for(d in o)if(o.hasOwnProperty(d)){var b=o[d];if(b!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:it(r,a,d,b,o,null)}}f&&it(r,a,"srcSet",o.srcSet,o,null),l&&it(r,a,"src",o.src,o,null);return;case"input":Ue("invalid",r);var w=d=b=f=null,I=null,F=null;for(l in o)if(o.hasOwnProperty(l)){var X=o[l];if(X!=null)switch(l){case"name":f=X;break;case"type":b=X;break;case"checked":I=X;break;case"defaultChecked":F=X;break;case"value":d=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:it(r,a,l,X,o,null)}}Xa(r,d,w,I,F,b,f,!1),Qs(r);return;case"select":Ue("invalid",r),l=b=d=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":b=w;break;case"multiple":l=w;default:it(r,a,f,w,o,null)}a=d,o=b,r.multiple=!!l,a!=null?ui(r,!!l,a,!1):o!=null&&ui(r,!!l,o,!0);return;case"textarea":Ue("invalid",r),d=f=l=null;for(b in o)if(o.hasOwnProperty(b)&&(w=o[b],w!=null))switch(b){case"value":l=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:it(r,a,b,w,o,null)}Za(r,l,f,d),Qs(r);return;case"option":for(I in o)if(o.hasOwnProperty(I)&&(l=o[I],l!=null))switch(I){case"selected":r.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:it(r,a,I,l,o,null)}return;case"dialog":Ue("beforetoggle",r),Ue("toggle",r),Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":Ue("load",r);break;case"video":case"audio":for(l=0;l<iu.length;l++)Ue(iu[l],r);break;case"image":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"embed":case"source":case"link":Ue("error",r),Ue("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in o)if(o.hasOwnProperty(F)&&(l=o[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:it(r,a,F,l,o,null)}return;default:if(El(a)){for(X in o)o.hasOwnProperty(X)&&(l=o[X],l!==void 0&&Om(r,a,X,l,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(l=o[w],l!=null&&it(r,a,w,l,o,null))}function fA(r,a,o,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,b=null,w=null,I=null,F=null,X=null;for(Q in o){var ee=o[Q];if(o.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty(Q)||it(r,a,Q,null,l,ee)}}for(var Y in l){var Q=l[Y];if(ee=o[Y],l.hasOwnProperty(Y)&&(Q!=null||ee!=null))switch(Y){case"type":d=Q;break;case"name":f=Q;break;case"checked":F=Q;break;case"defaultChecked":X=Q;break;case"value":b=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:Q!==ee&&it(r,a,Y,Q,l,ee)}}On(r,b,w,I,F,X,d,f);return;case"select":Q=b=w=Y=null;for(d in o)if(I=o[d],o.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Q=I;default:l.hasOwnProperty(d)||it(r,a,d,null,l,I)}for(f in l)if(d=l[f],I=o[f],l.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":Y=d;break;case"defaultValue":w=d;break;case"multiple":b=d;default:d!==I&&it(r,a,f,d,l,I)}a=w,o=b,l=Q,Y!=null?ui(r,!!o,Y,!1):!!l!=!!o&&(a!=null?ui(r,!!o,a,!0):ui(r,!!o,o?[]:"",!1));return;case"textarea":Q=Y=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:it(r,a,w,null,l,f)}for(b in l)if(f=l[b],d=o[b],l.hasOwnProperty(b)&&(f!=null||d!=null))switch(b){case"value":Y=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==d&&it(r,a,b,f,l,d)}nt(r,Y,Q);return;case"option":for(var Re in o)if(Y=o[Re],o.hasOwnProperty(Re)&&Y!=null&&!l.hasOwnProperty(Re))switch(Re){case"selected":r.selected=!1;break;default:it(r,a,Re,null,l,Y)}for(I in l)if(Y=l[I],Q=o[I],l.hasOwnProperty(I)&&Y!==Q&&(Y!=null||Q!=null))switch(I){case"selected":r.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:it(r,a,I,Y,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)Y=o[Te],o.hasOwnProperty(Te)&&Y!=null&&!l.hasOwnProperty(Te)&&it(r,a,Te,null,l,Y);for(F in l)if(Y=l[F],Q=o[F],l.hasOwnProperty(F)&&Y!==Q&&(Y!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,a));break;default:it(r,a,F,Y,l,Q)}return;default:if(El(a)){for(var at in o)Y=o[at],o.hasOwnProperty(at)&&Y!==void 0&&!l.hasOwnProperty(at)&&Om(r,a,at,void 0,l,Y);for(X in l)Y=l[X],Q=o[X],!l.hasOwnProperty(X)||Y===Q||Y===void 0&&Q===void 0||Om(r,a,X,Y,l,Q);return}}for(var j in o)Y=o[j],o.hasOwnProperty(j)&&Y!=null&&!l.hasOwnProperty(j)&&it(r,a,j,null,l,Y);for(ee in l)Y=l[ee],Q=o[ee],!l.hasOwnProperty(ee)||Y===Q||Y==null&&Q==null||it(r,a,ee,Y,l,Q)}var km=null,Mm=null;function mh(r){return r.nodeType===9?r:r.ownerDocument}function a0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s0(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Pm(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Vm=null;function dA(){var r=window.event;return r&&r.type==="popstate"?r===Vm?!1:(Vm=r,!0):(Vm=null,!1)}var o0=typeof setTimeout=="function"?setTimeout:void 0,mA=typeof clearTimeout=="function"?clearTimeout:void 0,l0=typeof Promise=="function"?Promise:void 0,gA=typeof queueMicrotask=="function"?queueMicrotask:typeof l0<"u"?function(r){return l0.resolve(null).then(r).catch(pA)}:o0;function pA(r){setTimeout(function(){throw r})}function ha(r){return r==="head"}function u0(r,a){var o=a,l=0,f=0;do{var d=o.nextSibling;if(r.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(0<l&&8>l){o=l;var b=r.ownerDocument;if(o&1&&su(b.documentElement),o&2&&su(b.body),o&4)for(o=b.head,su(o),b=o.firstChild;b;){var w=b.nextSibling,I=b.nodeName;b[cr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=w}}if(f===0){r.removeChild(d),mu(a);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:l=o.charCodeAt(0)-48;else l=0;o=d}while(o);mu(a)}function Lm(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Lm(o),hr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function yA(r,a,o,l){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!l&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(l){if(!r[cr])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(d=r.getAttribute("rel"),d==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(d!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(d=r.getAttribute("src"),(d!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===d)return r}else return r;if(r=yr(r.nextSibling),r===null)break}return null}function vA(r,a,o){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=yr(r.nextSibling),r===null))return null;return r}function jm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function _A(r,a){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")a();else{var l=function(){a(),o.removeEventListener("DOMContentLoaded",l)};o.addEventListener("DOMContentLoaded",l),r._reactRetry=l}}function yr(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var Um=null;function c0(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return r;a--}else o==="/$"&&a++}r=r.previousSibling}return null}function h0(r,a,o){switch(a=mh(o),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function su(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);hr(r)}var ir=new Map,f0=new Set;function gh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ii=oe.d;oe.d={f:bA,r:EA,D:TA,C:wA,L:SA,m:AA,X:CA,S:RA,M:IA};function bA(){var r=Ii.f(),a=sh();return r||a}function EA(r){var a=$n(r);a!==null&&a.tag===5&&a.type==="form"?Ov(a):Ii.r(r)}var Do=typeof document>"u"?null:document;function d0(r,a,o){var l=Do;if(l&&typeof a=="string"&&a){var f=Ot(a);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),f0.has(f)||(f0.add(f),r={rel:r,crossOrigin:o,href:a},l.querySelector(f)===null&&(a=l.createElement("link"),un(a,"link",r),xe(a),l.head.appendChild(a)))}}function TA(r){Ii.D(r),d0("dns-prefetch",r,null)}function wA(r,a){Ii.C(r,a),d0("preconnect",r,a)}function SA(r,a,o){Ii.L(r,a,o);var l=Do;if(l&&r&&a){var f='link[rel="preload"][as="'+Ot(a)+'"]';a==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Ot(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Ot(o.imageSizes)+'"]')):f+='[href="'+Ot(r)+'"]';var d=f;switch(a){case"style":d=xo(r);break;case"script":d=Oo(r)}ir.has(d)||(r=_({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:r,as:a},o),ir.set(d,r),l.querySelector(f)!==null||a==="style"&&l.querySelector(ou(d))||a==="script"&&l.querySelector(lu(d))||(a=l.createElement("link"),un(a,"link",r),xe(a),l.head.appendChild(a)))}}function AA(r,a){Ii.m(r,a);var o=Do;if(o&&r){var l=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+Ot(l)+'"][href="'+Ot(r)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Oo(r)}if(!ir.has(d)&&(r=_({rel:"modulepreload",href:r},a),ir.set(d,r),o.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(lu(d)))return}l=o.createElement("link"),un(l,"link",r),xe(l),o.head.appendChild(l)}}}function RA(r,a,o){Ii.S(r,a,o);var l=Do;if(l&&r){var f=Ve(l).hoistableStyles,d=xo(r);a=a||"default";var b=f.get(d);if(!b){var w={loading:0,preload:null};if(b=l.querySelector(ou(d)))w.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":a},o),(o=ir.get(d))&&Bm(r,o);var I=b=l.createElement("link");xe(I),un(I,"link",r),I._p=new Promise(function(F,X){I.onload=F,I.onerror=X}),I.addEventListener("load",function(){w.loading|=1}),I.addEventListener("error",function(){w.loading|=2}),w.loading|=4,ph(b,a,l)}b={type:"stylesheet",instance:b,count:1,state:w},f.set(d,b)}}}function CA(r,a){Ii.X(r,a);var o=Do;if(o&&r){var l=Ve(o).hoistableScripts,f=Oo(r),d=l.get(f);d||(d=o.querySelector(lu(f)),d||(r=_({src:r,async:!0},a),(a=ir.get(f))&&zm(r,a),d=o.createElement("script"),xe(d),un(d,"link",r),o.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function IA(r,a){Ii.M(r,a);var o=Do;if(o&&r){var l=Ve(o).hoistableScripts,f=Oo(r),d=l.get(f);d||(d=o.querySelector(lu(f)),d||(r=_({src:r,async:!0,type:"module"},a),(a=ir.get(f))&&zm(r,a),d=o.createElement("script"),xe(d),un(d,"link",r),o.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function m0(r,a,o,l){var f=(f=Ee.current)?gh(f):null;if(!f)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=xo(o.href),o=Ve(f).hoistableStyles,l=o.get(a),l||(l={type:"style",instance:null,count:0,state:null},o.set(a,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=xo(o.href);var d=Ve(f).hoistableStyles,b=d.get(r);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(r,b),(d=f.querySelector(ou(r)))&&!d._p&&(b.instance=d,b.state.loading=5),ir.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ir.set(r,o),d||NA(f,r,o,b.state))),a&&l===null)throw Error(i(528,""));return b}if(a&&l!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Oo(o),o=Ve(f).hoistableScripts,l=o.get(a),l||(l={type:"script",instance:null,count:0,state:null},o.set(a,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function xo(r){return'href="'+Ot(r)+'"'}function ou(r){return'link[rel="stylesheet"]['+r+"]"}function g0(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function NA(r,a,o,l){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=r.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),un(a,"link",o),xe(a),r.head.appendChild(a))}function Oo(r){return'[src="'+Ot(r)+'"]'}function lu(r){return"script[async]"+r}function p0(r,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var l=r.querySelector('style[data-href~="'+Ot(o.href)+'"]');if(l)return a.instance=l,xe(l),l;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return l=(r.ownerDocument||r).createElement("style"),xe(l),un(l,"style",f),ph(l,o.precedence,r),a.instance=l;case"stylesheet":f=xo(o.href);var d=r.querySelector(ou(f));if(d)return a.state.loading|=4,a.instance=d,xe(d),d;l=g0(o),(f=ir.get(f))&&Bm(l,f),d=(r.ownerDocument||r).createElement("link"),xe(d);var b=d;return b._p=new Promise(function(w,I){b.onload=w,b.onerror=I}),un(d,"link",l),a.state.loading|=4,ph(d,o.precedence,r),a.instance=d;case"script":return d=Oo(o.src),(f=r.querySelector(lu(d)))?(a.instance=f,xe(f),f):(l=o,(f=ir.get(d))&&(l=_({},o),zm(l,f)),r=r.ownerDocument||r,f=r.createElement("script"),xe(f),un(f,"link",l),r.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(l=a.instance,a.state.loading|=4,ph(l,o.precedence,r));return a.instance}function ph(r,a,o){for(var l=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,b=0;b<l.length;b++){var w=l[b];if(w.dataset.precedence===a)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(r,d.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(r,a.firstChild))}function Bm(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function zm(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var yh=null;function y0(r,a,o){if(yh===null){var l=new Map,f=yh=new Map;f.set(o,l)}else f=yh,l=f.get(o),l||(l=new Map,f.set(o,l));if(l.has(r))return l;for(l.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var d=o[f];if(!(d[cr]||d[wt]||r==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var b=d.getAttribute(a)||"";b=r+b;var w=l.get(b);w?w.push(d):l.set(b,[d])}}return l}function v0(r,a,o){r=r.ownerDocument||r,r.head.insertBefore(o,a==="title"?r.querySelector("head > title"):null)}function DA(r,a,o){if(o===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function _0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var uu=null;function xA(){}function OA(r,a,o){if(uu===null)throw Error(i(475));var l=uu;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=xo(o.href),d=r.querySelector(ou(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(l.count++,l=vh.bind(l),r.then(l,l)),a.state.loading|=4,a.instance=d,xe(d);return}d=r.ownerDocument||r,o=g0(o),(f=ir.get(f))&&Bm(o,f),d=d.createElement("link"),xe(d);var b=d;b._p=new Promise(function(w,I){b.onload=w,b.onerror=I}),un(d,"link",o),a.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(l.count++,a=vh.bind(l),r.addEventListener("load",a),r.addEventListener("error",a))}}function kA(){if(uu===null)throw Error(i(475));var r=uu;return r.stylesheets&&r.count===0&&Hm(r,r.stylesheets),0<r.count?function(a){var o=setTimeout(function(){if(r.stylesheets&&Hm(r,r.stylesheets),r.unsuspend){var l=r.unsuspend;r.unsuspend=null,l()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(o)}}:null}function vh(){if(this.count--,this.count===0){if(this.stylesheets)Hm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var _h=null;function Hm(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,_h=new Map,a.forEach(MA,r),_h=null,vh.call(r))}function MA(r,a){if(!(a.state.loading&4)){var o=_h.get(r);if(o)var l=o.get(null);else{o=new Map,_h.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var b=f[d];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),l=b)}l&&o.set(null,l)}f=a.instance,b=f.getAttribute("data-precedence"),d=o.get(b)||l,d===l&&o.set(null,f),o.set(b,f),this.count++,l=vh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),a.state.loading|=4}}var cu={$$typeof:ne,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function PA(r,a,o,l,f,d,b,w){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ur(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ur(0),this.hiddenUpdates=ur(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function b0(r,a,o,l,f,d,b,w,I,F,X,ee){return r=new PA(r,a,o,b,w,I,F,ee),a=1,d===!0&&(a|=24),d=Mn(3,null,null,a),r.current=d,d.stateNode=r,a=wd(),a.refCount++,r.pooledCache=a,a.refCount++,d.memoizedState={element:l,isDehydrated:o,cache:a},Cd(d),r}function E0(r){return r?(r=lo,r):lo}function T0(r,a,o,l,f,d){f=E0(f),l.context===null?l.context=f:l.pendingContext=f,l=Zi(a),l.payload={element:o},d=d===void 0?null:d,d!==null&&(l.callback=d),o=Ji(r,l,a),o!==null&&(Un(o,r,a),Bl(o,r,a))}function w0(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<a?o:a}}function Fm(r,a){w0(r,a),(r=r.alternate)&&w0(r,a)}function S0(r){if(r.tag===13){var a=oo(r,67108864);a!==null&&Un(a,r,67108864),Fm(r,67108864)}}var bh=!0;function VA(r,a,o,l){var f=K.T;K.T=null;var d=oe.p;try{oe.p=2,qm(r,a,o,l)}finally{oe.p=d,K.T=f}}function LA(r,a,o,l){var f=K.T;K.T=null;var d=oe.p;try{oe.p=8,qm(r,a,o,l)}finally{oe.p=d,K.T=f}}function qm(r,a,o,l){if(bh){var f=Gm(l);if(f===null)xm(r,a,l,Eh,o),R0(r,l);else if(UA(f,r,a,o,l))l.stopPropagation();else if(R0(r,l),a&4&&-1<jA.indexOf(r)){for(;f!==null;){var d=$n(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var b=xn(d.pendingLanes);if(b!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var I=1<<31-Dt(b);w.entanglements[1]|=I,b&=~I}Br(d),(Je&6)===0&&(ih=en()+500,ru(0))}}break;case 13:w=oo(d,2),w!==null&&Un(w,d,2),sh(),Fm(d,2)}if(d=Gm(l),d===null&&xm(r,a,l,Eh,o),d===f)break;f=d}f!==null&&l.stopPropagation()}else xm(r,a,l,null,o)}}function Gm(r){return r=Wn(r),Ym(r)}var Eh=null;function Ym(r){if(Eh=null,r=fr(r),r!==null){var a=u(r);if(a===null)r=null;else{var o=a.tag;if(o===13){if(r=h(a),r!==null)return r;r=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Eh=r,null}function A0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bs()){case Fi:return 2;case qi:return 8;case ni:case pl:return 32;case ri:return 268435456;default:return 32}default:return 32}}var $m=!1,fa=null,da=null,ma=null,hu=new Map,fu=new Map,ga=[],jA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R0(r,a){switch(r){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":hu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(a.pointerId)}}function du(r,a,o,l,f,d){return r===null||r.nativeEvent!==d?(r={blockedOn:a,domEventName:o,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},a!==null&&(a=$n(a),a!==null&&S0(a)),r):(r.eventSystemFlags|=l,a=r.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),r)}function UA(r,a,o,l,f){switch(a){case"focusin":return fa=du(fa,r,a,o,l,f),!0;case"dragenter":return da=du(da,r,a,o,l,f),!0;case"mouseover":return ma=du(ma,r,a,o,l,f),!0;case"pointerover":var d=f.pointerId;return hu.set(d,du(hu.get(d)||null,r,a,o,l,f)),!0;case"gotpointercapture":return d=f.pointerId,fu.set(d,du(fu.get(d)||null,r,a,o,l,f)),!0}return!1}function C0(r){var a=fr(r.target);if(a!==null){var o=u(a);if(o!==null){if(a=o.tag,a===13){if(a=h(o),a!==null){r.blockedOn=a,Yi(r.priority,function(){if(o.tag===13){var l=jn();l=$e(l);var f=oo(o,l);f!==null&&Un(f,o,l),Fm(o,l)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Th(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var o=Gm(r.nativeEvent);if(o===null){o=r.nativeEvent;var l=new o.constructor(o.type,o);ci=l,o.target.dispatchEvent(l),ci=null}else return a=$n(o),a!==null&&S0(a),r.blockedOn=o,!1;a.shift()}return!0}function I0(r,a,o){Th(r)&&o.delete(a)}function BA(){$m=!1,fa!==null&&Th(fa)&&(fa=null),da!==null&&Th(da)&&(da=null),ma!==null&&Th(ma)&&(ma=null),hu.forEach(I0),fu.forEach(I0)}function wh(r,a){r.blockedOn===a&&(r.blockedOn=null,$m||($m=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,BA)))}var Sh=null;function N0(r){Sh!==r&&(Sh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Sh===r&&(Sh=null);for(var a=0;a<r.length;a+=3){var o=r[a],l=r[a+1],f=r[a+2];if(typeof l!="function"){if(Ym(l||o)===null)continue;break}var d=$n(o);d!==null&&(r.splice(a,3),a-=3,Yd(d,{pending:!0,data:f,method:o.method,action:l},l,f))}}))}function mu(r){function a(I){return wh(I,r)}fa!==null&&wh(fa,r),da!==null&&wh(da,r),ma!==null&&wh(ma,r),hu.forEach(a),fu.forEach(a);for(var o=0;o<ga.length;o++){var l=ga[o];l.blockedOn===r&&(l.blockedOn=null)}for(;0<ga.length&&(o=ga[0],o.blockedOn===null);)C0(o),o.blockedOn===null&&ga.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(l=0;l<o.length;l+=3){var f=o[l],d=o[l+1],b=f[yt]||null;if(typeof d=="function")b||N0(o);else if(b){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,b=d[yt]||null)w=b.formAction;else if(Ym(f)!==null)continue}else w=b.action;typeof w=="function"?o[l+1]=w:(o.splice(l,3),l-=3),N0(o)}}}function Qm(r){this._internalRoot=r}Ah.prototype.render=Qm.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,l=jn();T0(o,l,r,a,null,null)},Ah.prototype.unmount=Qm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;T0(r.current,2,null,r,null,null),sh(),a[nn]=null}};function Ah(r){this._internalRoot=r}Ah.prototype.unstable_scheduleHydration=function(r){if(r){var a=Cr();r={blockedOn:null,target:r,priority:a};for(var o=0;o<ga.length&&a!==0&&a<ga[o].priority;o++);ga.splice(o,0,r),o===0&&C0(r)}};var D0=e.version;if(D0!=="19.1.0")throw Error(i(527,D0,"19.1.0"));oe.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=g(a),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var zA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{pt=Rh.inject(zA),We=Rh}catch{}}return pu.createRoot=function(r,a){if(!s(r))throw Error(i(299));var o=!1,l="",f=Yv,d=$v,b=Qv,w=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks)),a=b0(r,1,!1,null,null,o,l,f,d,b,w,null),r[nn]=a.current,Dm(r),new Qm(a)},pu.hydrateRoot=function(r,a,o){if(!s(r))throw Error(i(299));var l=!1,f="",d=Yv,b=$v,w=Qv,I=null,F=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(d=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks),o.formState!==void 0&&(F=o.formState)),a=b0(r,1,!0,a,o??null,l,f,d,b,w,I,F),a.context=E0(null),o=a.current,l=jn(),l=$e(l),f=Zi(l),f.callback=null,Ji(o,f,l),o=l,a.current.lanes=o,Gn(a,o),Br(a),r[nn]=a.current,Dm(r),new Ah(a)},pu.version="19.1.0",pu}var B0;function ZA(){if(B0)return Xm.exports;B0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Xm.exports=XA(),Xm.exports}var JA=ZA();const eR=YE(JA);/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var z0="popstate";function tR(n={}){function e(i,s){let{pathname:u,search:h,hash:m}=i.location;return wg("",{pathname:u,search:h,hash:m},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:Mu(s)}return rR(e,t,null,n)}function Et(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Zr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nR(){return Math.random().toString(36).substring(2,10)}function H0(n,e){return{usr:n.state,key:n.key,idx:e}}function wg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?nl(e):e,state:t,key:e&&e.key||i||nR()}}function Mu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function nl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function rR(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:u=!1}=i,h=s.history,m="POP",g=null,p=_();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function _(){return(h.state||{idx:null}).idx}function T(){m="POP";let U=_(),G=U==null?null:U-p;p=U,g&&g({action:m,location:z.location,delta:G})}function S(U,G){m="PUSH";let $=wg(z.location,U,G);p=_()+1;let ne=H0($,p),he=z.createHref($);try{h.pushState(ne,"",he)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;s.location.assign(he)}u&&g&&g({action:m,location:z.location,delta:1})}function D(U,G){m="REPLACE";let $=wg(z.location,U,G);p=_();let ne=H0($,p),he=z.createHref($);h.replaceState(ne,"",he),u&&g&&g({action:m,location:z.location,delta:0})}function V(U){return iR(U)}let z={get action(){return m},get location(){return n(s,h)},listen(U){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(z0,T),g=U,()=>{s.removeEventListener(z0,T),g=null}},createHref(U){return e(s,U)},createURL:V,encodeLocation(U){let G=V(U);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:S,replace:D,go(U){return h.go(U)}};return z}function iR(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Et(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Mu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function $E(n,e,t="/"){return aR(n,e,t,!1)}function aR(n,e,t,i){let s=typeof e=="string"?nl(e):e,u=Mi(s.pathname||"/",t);if(u==null)return null;let h=QE(n);sR(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=yR(u);m=gR(h[g],p,i)}return m}function QE(n,e=[],t=[],i=""){let s=(u,h,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Et(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length));let p=Oi([i,g.relativePath]),_=t.concat(g);u.children&&u.children.length>0&&(Et(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),QE(u.children,e,_,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:dR(p,u.index),routesMeta:_})};return n.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))s(u,h);else for(let m of WE(u.path))s(u,h,m)}),e}function WE(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),u=t.replace(/\?$/,"");if(i.length===0)return s?[u,""]:[u];let h=WE(i.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),s&&m.push(...h),m.map(g=>n.startsWith("/")&&g===""?"/":g)}function sR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:mR(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var oR=/^:[\w-]+$/,lR=3,uR=2,cR=1,hR=10,fR=-2,F0=n=>n==="*";function dR(n,e){let t=n.split("/"),i=t.length;return t.some(F0)&&(i+=fR),e&&(i+=uR),t.filter(s=>!F0(s)).reduce((s,u)=>s+(oR.test(u)?lR:u===""?cR:hR),i)}function mR(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function gR(n,e,t=!1){let{routesMeta:i}=n,s={},u="/",h=[];for(let m=0;m<i.length;++m){let g=i[m],p=m===i.length-1,_=u==="/"?e:e.slice(u.length)||"/",T=Xh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},_),S=g.route;if(!T&&p&&t&&!i[i.length-1].route.index&&(T=Xh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!T)return null;Object.assign(s,T.params),h.push({params:s,pathname:Oi([u,T.pathname]),pathnameBase:ER(Oi([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=Oi([u,T.pathnameBase]))}return h}function Xh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=pR(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let u=s[0],h=u.replace(/(.)\/+$/,"$1"),m=s.slice(1);return{params:i.reduce((p,{paramName:_,isOptional:T},S)=>{if(_==="*"){let V=m[S]||"";h=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const D=m[S];return T&&!D?p[_]=void 0:p[_]=(D||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:n}}function pR(n,e=!1,t=!0){Zr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(i.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function yR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Mi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function vR(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?nl(n):n;return{pathname:t?t.startsWith("/")?t:_R(t,e):e,search:TR(i),hash:wR(s)}}function _R(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function tg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function KE(n){let e=bR(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function XE(n,e,t,i=!1){let s;typeof n=="string"?s=nl(n):(s={...n},Et(!s.pathname||!s.pathname.includes("?"),tg("?","pathname","search",s)),Et(!s.pathname||!s.pathname.includes("#"),tg("#","pathname","hash",s)),Et(!s.search||!s.search.includes("#"),tg("#","search","hash",s)));let u=n===""||s.pathname==="",h=u?"/":s.pathname,m;if(h==null)m=t;else{let T=e.length-1;if(!i&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;s.pathname=S.join("/")}m=T>=0?e[T]:"/"}let g=vR(s,m),p=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(p||_)&&(g.pathname+="/"),g}var Oi=n=>n.join("/").replace(/\/\/+/g,"/"),ER=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),TR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,wR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function SR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var ZE=["POST","PUT","PATCH","DELETE"];new Set(ZE);var AR=["GET",...ZE];new Set(AR);var rl=q.createContext(null);rl.displayName="DataRouter";var bf=q.createContext(null);bf.displayName="DataRouterState";q.createContext(!1);var JE=q.createContext({isTransitioning:!1});JE.displayName="ViewTransition";var RR=q.createContext(new Map);RR.displayName="Fetchers";var CR=q.createContext(null);CR.displayName="Await";var ti=q.createContext(null);ti.displayName="Navigation";var Gu=q.createContext(null);Gu.displayName="Location";var Bi=q.createContext({outlet:null,matches:[],isDataRoute:!1});Bi.displayName="Route";var gp=q.createContext(null);gp.displayName="RouteError";function IR(n,{relative:e}={}){Et(Yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=q.useContext(ti),{hash:s,pathname:u,search:h}=$u(n,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:Oi([t,u])),i.createHref({pathname:m,search:h,hash:s})}function Yu(){return q.useContext(Gu)!=null}function Os(){return Et(Yu(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Gu).location}var eT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tT(n){q.useContext(ti).static||q.useLayoutEffect(n)}function ks(){let{isDataRoute:n}=q.useContext(Bi);return n?zR():NR()}function NR(){Et(Yu(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(rl),{basename:e,navigator:t}=q.useContext(ti),{matches:i}=q.useContext(Bi),{pathname:s}=Os(),u=JSON.stringify(KE(i)),h=q.useRef(!1);return tT(()=>{h.current=!0}),q.useCallback((g,p={})=>{if(Zr(h.current,eT),!h.current)return;if(typeof g=="number"){t.go(g);return}let _=XE(g,JSON.parse(u),s,p.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Oi([e,_.pathname])),(p.replace?t.replace:t.push)(_,p.state,p)},[e,t,u,s,n])}q.createContext(null);function $u(n,{relative:e}={}){let{matches:t}=q.useContext(Bi),{pathname:i}=Os(),s=JSON.stringify(KE(t));return q.useMemo(()=>XE(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function DR(n,e){return nT(n,e)}function nT(n,e,t,i){Et(Yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=q.useContext(ti),{matches:u}=q.useContext(Bi),h=u[u.length-1],m=h?h.params:{},g=h?h.pathname:"/",p=h?h.pathnameBase:"/",_=h&&h.route;{let G=_&&_.path||"";rT(g,!_||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let T=Os(),S;if(e){let G=typeof e=="string"?nl(e):e;Et(p==="/"||G.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${G.pathname}" was given in the \`location\` prop.`),S=G}else S=T;let D=S.pathname||"/",V=D;if(p!=="/"){let G=p.replace(/^\//,"").split("/");V="/"+D.replace(/^\//,"").split("/").slice(G.length).join("/")}let z=$E(n,{pathname:V});Zr(_||z!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Zr(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=PR(z&&z.map(G=>Object.assign({},G,{params:Object.assign({},m,G.params),pathname:Oi([p,s.encodeLocation?s.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?p:Oi([p,s.encodeLocation?s.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),u,t,i);return e&&U?q.createElement(Gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},U):U}function xR(){let n=BR(),e=SR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:s},t):null,h)}var OR=q.createElement(xR,null),kR=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?q.createElement(Bi.Provider,{value:this.props.routeContext},q.createElement(gp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MR({routeContext:n,match:e,children:t}){let i=q.useContext(rl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Bi.Provider,{value:n},t)}function PR(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,u=t?.errors;if(u!=null){let g=s.findIndex(p=>p.route.id&&u?.[p.route.id]!==void 0);Et(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),s=s.slice(0,Math.min(s.length,g+1))}let h=!1,m=-1;if(t)for(let g=0;g<s.length;g++){let p=s[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:_,errors:T}=t,S=p.route.loader&&!_.hasOwnProperty(p.route.id)&&(!T||T[p.route.id]===void 0);if(p.route.lazy||S){h=!0,m>=0?s=s.slice(0,m+1):s=[s[0]];break}}}return s.reduceRight((g,p,_)=>{let T,S=!1,D=null,V=null;t&&(T=u&&p.route.id?u[p.route.id]:void 0,D=p.route.errorElement||OR,h&&(m<0&&_===0?(rT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,V=null):m===_&&(S=!0,V=p.route.hydrateFallbackElement||null)));let z=e.concat(s.slice(0,_+1)),U=()=>{let G;return T?G=D:S?G=V:p.route.Component?G=q.createElement(p.route.Component,null):p.route.element?G=p.route.element:G=g,q.createElement(MR,{match:p,routeContext:{outlet:g,matches:z,isDataRoute:t!=null},children:G})};return t&&(p.route.ErrorBoundary||p.route.errorElement||_===0)?q.createElement(kR,{location:t.location,revalidation:t.revalidation,component:D,error:T,children:U(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):U()},null)}function pp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VR(n){let e=q.useContext(rl);return Et(e,pp(n)),e}function LR(n){let e=q.useContext(bf);return Et(e,pp(n)),e}function jR(n){let e=q.useContext(Bi);return Et(e,pp(n)),e}function yp(n){let e=jR(n),t=e.matches[e.matches.length-1];return Et(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function UR(){return yp("useRouteId")}function BR(){let n=q.useContext(gp),e=LR("useRouteError"),t=yp("useRouteError");return n!==void 0?n:e.errors?.[t]}function zR(){let{router:n}=VR("useNavigate"),e=yp("useNavigate"),t=q.useRef(!1);return tT(()=>{t.current=!0}),q.useCallback(async(s,u={})=>{Zr(t.current,eT),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...u}))},[n,e])}var q0={};function rT(n,e,t){!e&&!q0[n]&&(q0[n]=!0,Zr(!1,t))}q.memo(HR);function HR({routes:n,future:e,state:t}){return nT(n,void 0,t,e)}function _a(n){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FR({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:u=!1}){Et(!Yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:h,navigator:s,static:u,future:{}}),[h,s,u]);typeof t=="string"&&(t=nl(t));let{pathname:g="/",search:p="",hash:_="",state:T=null,key:S="default"}=t,D=q.useMemo(()=>{let V=Mi(g,h);return V==null?null:{location:{pathname:V,search:p,hash:_,state:T,key:S},navigationType:i}},[h,g,p,_,T,S,i]);return Zr(D!=null,`<Router basename="${h}"> is not able to match the URL "${g}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:q.createElement(ti.Provider,{value:m},q.createElement(Gu.Provider,{children:e,value:D}))}function qR({children:n,location:e}){return DR(Sg(n),e)}function Sg(n,e=[]){let t=[];return q.Children.forEach(n,(i,s)=>{if(!q.isValidElement(i))return;let u=[...e,s];if(i.type===q.Fragment){t.push.apply(t,Sg(i.props.children,u));return}Et(i.type===_a,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Sg(i.props.children,u)),t.push(h)}),t}var jh="get",Uh="application/x-www-form-urlencoded";function Ef(n){return n!=null&&typeof n.tagName=="string"}function GR(n){return Ef(n)&&n.tagName.toLowerCase()==="button"}function YR(n){return Ef(n)&&n.tagName.toLowerCase()==="form"}function $R(n){return Ef(n)&&n.tagName.toLowerCase()==="input"}function QR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function WR(n,e){return n.button===0&&(!e||e==="_self")&&!QR(n)}var Ch=null;function KR(){if(Ch===null)try{new FormData(document.createElement("form"),0),Ch=!1}catch{Ch=!0}return Ch}var XR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ng(n){return n!=null&&!XR.has(n)?(Zr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uh}"`),null):n}function ZR(n,e){let t,i,s,u,h;if(YR(n)){let m=n.getAttribute("action");i=m?Mi(m,e):null,t=n.getAttribute("method")||jh,s=ng(n.getAttribute("enctype"))||Uh,u=new FormData(n)}else if(GR(n)||$R(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||m.getAttribute("action");if(i=g?Mi(g,e):null,t=n.getAttribute("formmethod")||m.getAttribute("method")||jh,s=ng(n.getAttribute("formenctype"))||ng(m.getAttribute("enctype"))||Uh,u=new FormData(m,n),!KR()){let{name:p,type:_,value:T}=n;if(_==="image"){let S=p?`${p}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else p&&u.append(p,T)}}else{if(Ef(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=jh,i=null,s=Uh,h=n}return u&&s==="text/plain"&&(h=u,u=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function JR(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Mi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function eC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function nC(n,e,t){let i=await Promise.all(n.map(async s=>{let u=e.routes[s.route.id];if(u){let h=await eC(u,t);return h.links?h.links():[]}return[]}));return sC(i.flat(1).filter(tC).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function G0(n,e,t,i,s,u){let h=(g,p)=>t[p]?g.route.id!==t[p].route.id:!0,m=(g,p)=>t[p].pathname!==g.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let _=i.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function rC(n,e,{includeHydrateFallback:t}={}){return iC(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let u=[s.module];return s.clientActionModule&&(u=u.concat(s.clientActionModule)),s.clientLoaderModule&&(u=u.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(u=u.concat(s.hydrateFallbackModule)),s.imports&&(u=u.concat(s.imports)),u}).flat(1))}function iC(n){return[...new Set(n)]}function aC(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function sC(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let u=JSON.stringify(aC(s));return t.has(u)||(t.add(u),i.push({key:u,link:s})),i},[])}function iT(){let n=q.useContext(rl);return vp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function oC(){let n=q.useContext(bf);return vp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var _p=q.createContext(void 0);_p.displayName="FrameworkContext";function aT(){let n=q.useContext(_p);return vp(n,"You must render this element inside a <HydratedRouter> element"),n}function lC(n,e){let t=q.useContext(_p),[i,s]=q.useState(!1),[u,h]=q.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:_,onTouchStart:T}=e,S=q.useRef(null);q.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let z=G=>{G.forEach($=>{h($.isIntersecting)})},U=new IntersectionObserver(z,{threshold:.5});return S.current&&U.observe(S.current),()=>{U.disconnect()}}},[n]),q.useEffect(()=>{if(i){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[i]);let D=()=>{s(!0)},V=()=>{s(!1),h(!1)};return t?n!=="intent"?[u,S,{}]:[u,S,{onFocus:yu(m,D),onBlur:yu(g,V),onMouseEnter:yu(p,D),onMouseLeave:yu(_,V),onTouchStart:yu(T,D)}]:[!1,S,{}]}function yu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function uC({page:n,...e}){let{router:t}=iT(),i=q.useMemo(()=>$E(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?q.createElement(hC,{page:n,matches:i,...e}):null}function cC(n){let{manifest:e,routeModules:t}=aT(),[i,s]=q.useState([]);return q.useEffect(()=>{let u=!1;return nC(n,e,t).then(h=>{u||s(h)}),()=>{u=!0}},[n,e,t]),i}function hC({page:n,matches:e,...t}){let i=Os(),{manifest:s,routeModules:u}=aT(),{basename:h}=iT(),{loaderData:m,matches:g}=oC(),p=q.useMemo(()=>G0(n,e,g,s,i,"data"),[n,e,g,s,i]),_=q.useMemo(()=>G0(n,e,g,s,i,"assets"),[n,e,g,s,i]),T=q.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let V=new Set,z=!1;if(e.forEach(G=>{let $=s.routes[G.route.id];!$||!$.hasLoader||(!p.some(ne=>ne.route.id===G.route.id)&&G.route.id in m&&u[G.route.id]?.shouldRevalidate||$.hasClientLoader?z=!0:V.add(G.route.id))}),V.size===0)return[];let U=JR(n,h,"data");return z&&V.size>0&&U.searchParams.set("_routes",e.filter(G=>V.has(G.route.id)).map(G=>G.route.id).join(",")),[U.pathname+U.search]},[h,m,i,s,p,e,n,u]),S=q.useMemo(()=>rC(_,s),[_,s]),D=cC(_);return q.createElement(q.Fragment,null,T.map(V=>q.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...t})),S.map(V=>q.createElement("link",{key:V,rel:"modulepreload",href:V,...t})),D.map(({key:V,link:z})=>q.createElement("link",{key:V,...z})))}function fC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var sT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sT&&(window.__reactRouterVersion="7.7.0")}catch{}function dC({basename:n,children:e,window:t}){let i=q.useRef();i.current==null&&(i.current=tR({window:t,v5Compat:!0}));let s=i.current,[u,h]=q.useState({action:s.action,location:s.location}),m=q.useCallback(g=>{q.startTransition(()=>h(g))},[h]);return q.useLayoutEffect(()=>s.listen(m),[s,m]),q.createElement(FR,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:s})}var oT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tf=q.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:u,replace:h,state:m,target:g,to:p,preventScrollReset:_,viewTransition:T,...S},D){let{basename:V}=q.useContext(ti),z=typeof p=="string"&&oT.test(p),U,G=!1;if(typeof p=="string"&&z&&(U=p,sT))try{let C=new URL(window.location.href),O=p.startsWith("//")?new URL(C.protocol+p):new URL(p),P=Mi(O.pathname,V);O.origin===C.origin&&P!=null?p=P+O.search+O.hash:G=!0}catch{Zr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=IR(p,{relative:s}),[ne,he,fe]=lC(i,S),ge=pC(p,{replace:h,state:m,target:g,preventScrollReset:_,relative:s,viewTransition:T});function M(C){e&&e(C),C.defaultPrevented||ge(C)}let R=q.createElement("a",{...S,...fe,href:U||$,onClick:G||u?e:M,ref:fC(D,he),target:g,"data-discover":!z&&t==="render"?"true":void 0});return ne&&!z?q.createElement(q.Fragment,null,R,q.createElement(uC,{page:$})):R});Tf.displayName="Link";var bu=q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:u,to:h,viewTransition:m,children:g,...p},_){let T=$u(h,{relative:p.relative}),S=Os(),D=q.useContext(bf),{navigator:V,basename:z}=q.useContext(ti),U=D!=null&&EC(T)&&m===!0,G=V.encodeLocation?V.encodeLocation(T).pathname:T.pathname,$=S.pathname,ne=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||($=$.toLowerCase(),ne=ne?ne.toLowerCase():null,G=G.toLowerCase()),ne&&z&&(ne=Mi(ne,z)||ne);const he=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let fe=$===G||!s&&$.startsWith(G)&&$.charAt(he)==="/",ge=ne!=null&&(ne===G||!s&&ne.startsWith(G)&&ne.charAt(G.length)==="/"),M={isActive:fe,isPending:ge,isTransitioning:U},R=fe?e:void 0,C;typeof i=="function"?C=i(M):C=[i,fe?"active":null,ge?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(M):u;return q.createElement(Tf,{...p,"aria-current":R,className:C,ref:_,style:O,to:h,viewTransition:m},typeof g=="function"?g(M):g)});bu.displayName="NavLink";var mC=q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:u,method:h=jh,action:m,onSubmit:g,relative:p,preventScrollReset:_,viewTransition:T,...S},D)=>{let V=_C(),z=bC(m,{relative:p}),U=h.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&oT.test(m),$=ne=>{if(g&&g(ne),ne.defaultPrevented)return;ne.preventDefault();let he=ne.nativeEvent.submitter,fe=he?.getAttribute("formmethod")||h;V(he||ne.currentTarget,{fetcherKey:e,method:fe,navigate:t,replace:s,state:u,relative:p,preventScrollReset:_,viewTransition:T})};return q.createElement("form",{ref:D,method:U,action:z,onSubmit:i?g:$,...S,"data-discover":!G&&n==="render"?"true":void 0})});mC.displayName="Form";function gC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lT(n){let e=q.useContext(rl);return Et(e,gC(n)),e}function pC(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:u,viewTransition:h}={}){let m=ks(),g=Os(),p=$u(n,{relative:u});return q.useCallback(_=>{if(WR(_,e)){_.preventDefault();let T=t!==void 0?t:Mu(g)===Mu(p);m(n,{replace:T,state:i,preventScrollReset:s,relative:u,viewTransition:h})}},[g,m,p,t,i,e,n,s,u,h])}var yC=0,vC=()=>`__${String(++yC)}__`;function _C(){let{router:n}=lT("useSubmit"),{basename:e}=q.useContext(ti),t=UR();return q.useCallback(async(i,s={})=>{let{action:u,method:h,encType:m,formData:g,body:p}=ZR(i,e);if(s.navigate===!1){let _=s.fetcherKey||vC();await n.fetch(_,t,s.action||u,{preventScrollReset:s.preventScrollReset,formData:g,body:p,formMethod:s.method||h,formEncType:s.encType||m,flushSync:s.flushSync})}else await n.navigate(s.action||u,{preventScrollReset:s.preventScrollReset,formData:g,body:p,formMethod:s.method||h,formEncType:s.encType||m,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function bC(n,{relative:e}={}){let{basename:t}=q.useContext(ti),i=q.useContext(Bi);Et(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),u={...$u(n||".",{relative:e})},h=Os();if(n==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(_=>_==="")){m.delete("index"),g.filter(T=>T).forEach(T=>m.append("index",T));let _=m.toString();u.search=_?`?${_}`:""}}return(!n||n===".")&&s.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Oi([t,u.pathname])),Mu(u)}function EC(n,e={}){let t=q.useContext(JE);Et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=lT("useViewTransitionState"),s=$u(n,{relative:e.relative});if(!t.isTransitioning)return!1;let u=Mi(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=Mi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Xh(s.pathname,h)!=null||Xh(s.pathname,u)!=null}const TC=()=>{};var Ag={},Y0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},wC=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const u=n[t++];e[i++]=String.fromCharCode((s&31)<<6|u&63)}else if(s>239&&s<365){const u=n[t++],h=n[t++],m=n[t++],g=((s&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const u=n[t++],h=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(u&63)<<6|h&63)}}return e.join("")},cT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const u=n[s],h=s+1<n.length,m=h?n[s+1]:0,g=s+2<n.length,p=g?n[s+2]:0,_=u>>2,T=(u&3)<<4|m>>4;let S=(m&15)<<2|p>>6,D=p&63;g||(D=64,h||(S=64)),i.push(t[_],t[T],t[S],t[D])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(uT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):wC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const u=t[n.charAt(s++)],m=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const T=s<n.length?t[n.charAt(s)]:64;if(++s,u==null||m==null||p==null||T==null)throw new SC;const S=u<<2|m>>4;if(i.push(S),p!==64){const D=m<<4&240|p>>2;if(i.push(D),T!==64){const V=p<<6&192|T;i.push(V)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class SC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AC=function(n){const e=uT(n);return cT.encodeByteArray(e,!0)},Zh=function(n){return AC(n).replace(/\./g,"")},hT=function(n){try{return cT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Ag<"u")return Ag;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=()=>RC().__FIREBASE_DEFAULTS__,IC=()=>{if(typeof process>"u"||typeof Y0>"u")return;const n=Y0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},NC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&hT(n[1]);return e&&JSON.parse(e)},wf=()=>{try{return TC()||CC()||IC()||NC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},fT=n=>{var e,t;return(t=(e=wf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},DC=n=>{const e=fT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},dT=()=>{var n;return(n=wf())===null||n===void 0?void 0:n.config},mT=n=>{var e;return(e=wf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gT(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Zh(JSON.stringify(t)),Zh(JSON.stringify(h)),""].join(".")}const Iu={};function kC(){const n={prod:[],emulator:[]};for(const e of Object.keys(Iu))Iu[e]?n.emulator.push(e):n.prod.push(e);return n}function MC(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let $0=!1;function pT(n,e){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||Iu[n]===e||Iu[n]||$0)return;Iu[n]=e;function t(S){return`__firebase__banner__${S}`}const i="__firebase__banner",u=kC().prod.length>0;function h(){const S=document.getElementById(i);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,D){S.setAttribute("width","24"),S.setAttribute("id",D),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{$0=!0,h()},S}function _(S,D){S.setAttribute("id",D),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=MC(i),D=t("text"),V=document.getElementById(D)||document.createElement("span"),z=t("learnmore"),U=document.getElementById(z)||document.createElement("a"),G=t("preprendIcon"),$=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ne=S.element;m(ne),_(U,z);const he=p();g($,G),ne.append($,V,U,he),document.body.appendChild(ne)}u?(V.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function VC(){var n;const e=(n=wf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(Ag.process)==="[object process]"}catch{return!1}}function LC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function UC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BC(){const n=_n();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function zC(){return!VC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HC(){try{return typeof indexedDB=="object"}catch{return!1}}function FC(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var u;e(((u=s.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="FirebaseError";class Tr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=qC,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qu.prototype.create)}}class Qu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,u=this.errors[e],h=u?GC(u,i):"Error",m=`${this.serviceName}: ${h} (${s}).`;return new Tr(s,m,i)}}function GC(n,e){return n.replace(YC,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const YC=/\{\$([^}]+)}/g;function $C(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Pi(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const u=n[s],h=e[s];if(Q0(u)&&Q0(h)){if(!Pi(u,h))return!1}else if(u!==h)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function Q0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Eu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,u]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(u)}}),e}function Tu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function QC(n,e){const t=new WC(n,e);return t.subscribe.bind(t)}class WC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");KC(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=rg),s.error===void 0&&(s.error=rg),s.complete===void 0&&(s.complete=rg);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function rg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(n){return n&&n._delegate?n._delegate:n}class Cs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new xC;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),s=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(s)return null;throw u}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JC(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:s});i.resolve(u)}catch{}}}}clearInstance(e=Ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ts){return this.instances.has(e)}getOptions(e=Ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);i===m&&h.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),u=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;u.add(e),this.onInitCallbacks.set(s,u);const h=this.instances.get(s);return h&&e(h,s),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ZC(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ts){return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZC(n){return n===Ts?void 0:n}function JC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new XC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const tI={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},nI=Be.INFO,rI={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},iI=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=rI[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bp{constructor(e){this.name=e,this._logLevel=nI,this._logHandler=iI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const aI=(n,e)=>e.some(t=>n instanceof t);let W0,K0;function sI(){return W0||(W0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oI(){return K0||(K0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yT=new WeakMap,Rg=new WeakMap,vT=new WeakMap,ig=new WeakMap,Ep=new WeakMap;function lI(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{t(Aa(n.result)),s()},h=()=>{i(n.error),s()};n.addEventListener("success",u),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&yT.set(t,n)}).catch(()=>{}),Ep.set(e,n),e}function uI(n){if(Rg.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{t(),s()},h=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});Rg.set(n,e)}let Cg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Rg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||vT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Aa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function cI(n){Cg=n(Cg)}function hI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(ag(this),e,...t);return vT.set(i,e.sort?e.sort():[e]),Aa(i)}:oI().includes(n)?function(...e){return n.apply(ag(this),e),Aa(yT.get(this))}:function(...e){return Aa(n.apply(ag(this),e))}}function fI(n){return typeof n=="function"?hI(n):(n instanceof IDBTransaction&&uI(n),aI(n,sI())?new Proxy(n,Cg):n)}function Aa(n){if(n instanceof IDBRequest)return lI(n);if(ig.has(n))return ig.get(n);const e=fI(n);return e!==n&&(ig.set(n,e),Ep.set(e,n)),e}const ag=n=>Ep.get(n);function dI(n,e,{blocked:t,upgrade:i,blocking:s,terminated:u}={}){const h=indexedDB.open(n,e),m=Aa(h);return i&&h.addEventListener("upgradeneeded",g=>{i(Aa(h.result),g.oldVersion,g.newVersion,Aa(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),s&&g.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const mI=["get","getKey","getAll","getAllKeys","count"],gI=["put","add","delete","clear"],sg=new Map;function X0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(sg.get(e))return sg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=gI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||mI.includes(t)))return;const u=async function(h,...m){const g=this.transaction(h,s?"readwrite":"readonly");let p=g.store;return i&&(p=p.index(m.shift())),(await Promise.all([p[t](...m),s&&g.done]))[0]};return sg.set(e,u),u}cI(n=>({...n,get:(e,t,i)=>X0(e,t)||n.get(e,t,i),has:(e,t)=>!!X0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(yI(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function yI(n){const e=n.getComponent();return e?.type==="VERSION"}const Ig="@firebase/app",Z0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new bp("@firebase/app"),vI="@firebase/app-compat",_I="@firebase/analytics-compat",bI="@firebase/analytics",EI="@firebase/app-check-compat",TI="@firebase/app-check",wI="@firebase/auth",SI="@firebase/auth-compat",AI="@firebase/database",RI="@firebase/data-connect",CI="@firebase/database-compat",II="@firebase/functions",NI="@firebase/functions-compat",DI="@firebase/installations",xI="@firebase/installations-compat",OI="@firebase/messaging",kI="@firebase/messaging-compat",MI="@firebase/performance",PI="@firebase/performance-compat",VI="@firebase/remote-config",LI="@firebase/remote-config-compat",jI="@firebase/storage",UI="@firebase/storage-compat",BI="@firebase/firestore",zI="@firebase/ai",HI="@firebase/firestore-compat",FI="firebase",qI="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="[DEFAULT]",GI={[Ig]:"fire-core",[vI]:"fire-core-compat",[bI]:"fire-analytics",[_I]:"fire-analytics-compat",[TI]:"fire-app-check",[EI]:"fire-app-check-compat",[wI]:"fire-auth",[SI]:"fire-auth-compat",[AI]:"fire-rtdb",[RI]:"fire-data-connect",[CI]:"fire-rtdb-compat",[II]:"fire-fn",[NI]:"fire-fn-compat",[DI]:"fire-iid",[xI]:"fire-iid-compat",[OI]:"fire-fcm",[kI]:"fire-fcm-compat",[MI]:"fire-perf",[PI]:"fire-perf-compat",[VI]:"fire-rc",[LI]:"fire-rc-compat",[jI]:"fire-gcs",[UI]:"fire-gcs-compat",[BI]:"fire-fst",[HI]:"fire-fst-compat",[zI]:"fire-vertex","fire-js":"fire-js",[FI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=new Map,YI=new Map,Dg=new Map;function J0(n,e){try{n.container.addComponent(e)}catch(t){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Yo(n){const e=n.name;if(Dg.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;Dg.set(e,n);for(const t of Jh.values())J0(t,n);for(const t of YI.values())J0(t,n);return!0}function Tp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ar(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ra=new Qu("app","Firebase",$I);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ra.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=qI;function _T(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ng,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw Ra.create("bad-app-name",{appName:String(s)});if(t||(t=dT()),!t)throw Ra.create("no-options");const u=Jh.get(s);if(u){if(Pi(t,u.options)&&Pi(i,u.config))return u;throw Ra.create("duplicate-app",{appName:s})}const h=new eI(s);for(const g of Dg.values())h.addComponent(g);const m=new QI(t,i,h);return Jh.set(s,m),m}function bT(n=Ng){const e=Jh.get(n);if(!e&&n===Ng&&dT())return _T();if(!e)throw Ra.create("no-app",{appName:n});return e}function Ca(n,e,t){var i;let s=(i=GI[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const u=s.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${s}" with version "${e}":`];u&&m.push(`library name "${s}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(m.join(" "));return}Yo(new Cs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="firebase-heartbeat-database",KI=1,Pu="firebase-heartbeat-store";let og=null;function ET(){return og||(og=dI(WI,KI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Pu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ra.create("idb-open",{originalErrorMessage:n.message})})),og}async function XI(n){try{const t=(await ET()).transaction(Pu),i=await t.objectStore(Pu).get(TT(n));return await t.done,i}catch(e){if(e instanceof Tr)Vi.warn(e.message);else{const t=Ra.create("idb-get",{originalErrorMessage:e?.message});Vi.warn(t.message)}}}async function eb(n,e){try{const i=(await ET()).transaction(Pu,"readwrite");await i.objectStore(Pu).put(e,TT(n)),await i.done}catch(t){if(t instanceof Tr)Vi.warn(t.message);else{const i=Ra.create("idb-set",{originalErrorMessage:t?.message});Vi.warn(i.message)}}}function TT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=1024,JI=30;class eN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new nN(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=tb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:s}),this._heartbeatsCache.heartbeats.length>JI){const h=rN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Vi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=tb(),{heartbeatsToSend:i,unsentEntries:s}=tN(this._heartbeatsCache.heartbeats),u=Zh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Vi.warn(t),""}}}function tb(){return new Date().toISOString().substring(0,10)}function tN(n,e=ZI){const t=[];let i=n.slice();for(const s of n){const u=t.find(h=>h.agent===s.agent);if(u){if(u.dates.push(s.date),nb(t)>e){u.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),nb(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class nN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HC()?FC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await XI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return eb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return eb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function nb(n){return Zh(JSON.stringify({version:2,heartbeats:n})).length}function rN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(n){Yo(new Cs("platform-logger",e=>new pI(e),"PRIVATE")),Yo(new Cs("heartbeat",e=>new eN(e),"PRIVATE")),Ca(Ig,Z0,n),Ca(Ig,Z0,"esm2017"),Ca("fire-js","")}iN("");function wp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function wT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aN=wT,ST=new Qu("auth","Firebase",wT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new bp("@firebase/auth");function sN(n,...e){ef.logLevel<=Be.WARN&&ef.warn(`Auth (${al}): ${n}`,...e)}function Bh(n,...e){ef.logLevel<=Be.ERROR&&ef.error(`Auth (${al}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(n,...e){throw Sp(n,...e)}function qr(n,...e){return Sp(n,...e)}function AT(n,e,t){const i=Object.assign(Object.assign({},aN()),{[e]:t});return new Qu("auth","Firebase",i).create(e,{appName:n.name})}function ki(n){return AT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return ST.create(n,...e)}function Se(n,e,...t){if(!n)throw Sp(e,...t)}function Di(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Bh(e),new Error(e)}function Li(n,e){n||Di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function oN(){return rb()==="http:"||rb()==="https:"}function rb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oN()||jC()||"connection"in navigator)?navigator.onLine:!0}function uN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,t){this.shortDelay=e,this.longDelay=t,Li(t>e,"Short delay should be less than long delay!"),this.isMobile=PC()||UC()}get(){return lN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(n,e){Li(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fN=new Ku(3e4,6e4);function Ua(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function zi(n,e,t,i,s={}){return CT(n,s,async()=>{let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});const m=Wu(Object.assign({key:n.config.apiKey},h)).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:g},u);return LC()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&il(n.emulatorConfig.host)&&(p.credentials="include"),RT.fetch()(await IT(n,n.config.apiHost,t,m),p)})}async function CT(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},cN),e);try{const s=new mN(n),u=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Ih(n,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ih(n,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Ih(n,"email-already-in-use",h);if(g==="USER_DISABLED")throw Ih(n,"user-disabled",h);const _=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw AT(n,_,p);Er(n,_)}}catch(s){if(s instanceof Tr)throw s;Er(n,"network-request-failed",{message:String(s)})}}async function Xu(n,e,t,i,s={}){const u=await zi(n,e,t,i,s);return"mfaPendingCredential"in u&&Er(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function IT(n,e,t,i){const s=`${e}${t}?${i}`,u=n,h=u.config.emulator?Ap(n.config,s):`${n.config.apiScheme}://${s}`;return hN.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function dN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(qr(this.auth,"network-request-failed")),fN.get())})}}function Ih(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=qr(n,e,i);return s.customData._tokenResponse=t,s}function ib(n){return n!==void 0&&n.enterprise!==void 0}class gN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return dN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pN(n,e){return zi(n,"GET","/v2/recaptchaConfig",Ua(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(n,e){return zi(n,"POST","/v1/accounts:delete",e)}async function tf(n,e){return zi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vN(n,e=!1){const t=Gt(n),i=await t.getIdToken(e),s=Rp(i);Se(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const u=typeof s.firebase=="object"?s.firebase:void 0,h=u?.sign_in_provider;return{claims:s,token:i,authTime:Nu(lg(s.auth_time)),issuedAtTime:Nu(lg(s.iat)),expirationTime:Nu(lg(s.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function lg(n){return Number(n)*1e3}function Rp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Bh("JWT malformed, contained fewer than 3 sections"),null;try{const s=hT(t);return s?JSON.parse(s):(Bh("Failed to decode base64 JWT payload"),null)}catch(s){return Bh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function ab(n){const e=Rp(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Tr&&_N(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function _N({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nu(this.lastLoginAt),this.creationTime=Nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nf(n){var e;const t=n.auth,i=await n.getIdToken(),s=await $o(n,tf(t,{idToken:i}));Se(s?.users.length,t,"internal-error");const u=s.users[0];n._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?NT(u.providerUserInfo):[],m=TN(n.providerData,h),g=n.isAnonymous,p=!(n.email&&u.passwordHash)&&!m?.length,_=g?p:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Og(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(n,T)}async function EN(n){const e=Gt(n);await nf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TN(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function NT(n){return n.map(e=>{var{providerId:t}=e,i=wp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(n,e){const t=await CT(n,{},async()=>{const i=Wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:u}=n.config,h=await IT(n,s,"/v1/token",`key=${u}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:i};return n.emulatorConfig&&il(n.emulatorConfig.host)&&(g.credentials="include"),RT.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function SN(n,e){return zi(n,"POST","/v2/accounts:revokeToken",Ua(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ab(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=ab(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:u}=await wN(e,t);this.updateTokensAndExpiration(i,s,Number(u))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:u}=t,h=new zo;return i&&(Se(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),s&&(Se(typeof s=="string","internal-error",{appName:e}),h.accessToken=s),u&&(Se(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zo,this.toJSON())}_performRefresh(){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class br{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,u=wp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Og(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await $o(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return vN(this,e)}reload(){return EN(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new br(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await nf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ar(this.auth.app))return Promise.reject(ki(this.auth));const e=await this.getIdToken();return await $o(this,yN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,u,h,m,g,p,_;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,S=(s=t.email)!==null&&s!==void 0?s:void 0,D=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,V=(h=t.photoURL)!==null&&h!==void 0?h:void 0,z=(m=t.tenantId)!==null&&m!==void 0?m:void 0,U=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,G=(p=t.createdAt)!==null&&p!==void 0?p:void 0,$=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:ne,emailVerified:he,isAnonymous:fe,providerData:ge,stsTokenManager:M}=t;Se(ne&&M,e,"internal-error");const R=zo.fromJSON(this.name,M);Se(typeof ne=="string",e,"internal-error"),ya(T,e.name),ya(S,e.name),Se(typeof he=="boolean",e,"internal-error"),Se(typeof fe=="boolean",e,"internal-error"),ya(D,e.name),ya(V,e.name),ya(z,e.name),ya(U,e.name),ya(G,e.name),ya($,e.name);const C=new br({uid:ne,auth:e,email:S,emailVerified:he,displayName:T,isAnonymous:fe,photoURL:V,phoneNumber:D,tenantId:z,stsTokenManager:R,createdAt:G,lastLoginAt:$});return ge&&Array.isArray(ge)&&(C.providerData=ge.map(O=>Object.assign({},O))),U&&(C._redirectEventId=U),C}static async _fromIdTokenResponse(e,t,i=!1){const s=new zo;s.updateFromServerResponse(t);const u=new br({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await nf(u),u}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Se(s.localId!==void 0,"internal-error");const u=s.providerUserInfo!==void 0?NT(s.providerUserInfo):[],h=!(s.email&&s.passwordHash)&&!u?.length,m=new zo;m.updateFromIdToken(i);const g=new br({uid:s.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Og(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!u?.length};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=new Map;function xi(n){Li(n instanceof Function,"Expected a class definition");let e=sb.get(n);return e?(Li(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,sb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}DT.type="NONE";const ob=DT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(n,e,t){return`firebase:${n}:${e}:${t}`}class Ho{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:u}=this.auth;this.fullUserKey=zh(this.userKey,s.apiKey,u),this.fullPersistenceKey=zh("persistence",s.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await tf(this.auth,{idToken:e}).catch(()=>{});return t?br._fromGetAccountInfoResponse(this.auth,t,e):null}return br._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ho(xi(ob),e,i);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=s[0]||xi(ob);const h=zh(i,e.config.apiKey,e.name);let m=null;for(const p of t)try{const _=await p._get(h);if(_){let T;if(typeof _=="string"){const S=await tf(e,{idToken:_}).catch(()=>{});if(!S)break;T=await br._fromGetAccountInfoResponse(e,S,_)}else T=br._fromJSON(e,_);p!==u&&(m=T),u=p;break}}catch{}const g=s.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Ho(u,e,i):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new Ho(u,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VT(e))return"Blackberry";if(LT(e))return"Webos";if(OT(e))return"Safari";if((e.includes("chrome/")||kT(e))&&!e.includes("edge/"))return"Chrome";if(PT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function xT(n=_n()){return/firefox\//i.test(n)}function OT(n=_n()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kT(n=_n()){return/crios\//i.test(n)}function MT(n=_n()){return/iemobile/i.test(n)}function PT(n=_n()){return/android/i.test(n)}function VT(n=_n()){return/blackberry/i.test(n)}function LT(n=_n()){return/webos/i.test(n)}function Cp(n=_n()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function AN(n=_n()){var e;return Cp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RN(){return BC()&&document.documentMode===10}function jT(n=_n()){return Cp(n)||PT(n)||LT(n)||VT(n)||/windows phone/i.test(n)||MT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(n,e=[]){let t;switch(n){case"Browser":t=lb(_n());break;case"Worker":t=`${lb(_n())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${al}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(n,e={}){return zi(n,"GET","/v2/passwordPolicy",Ua(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=6;class DN{constructor(e){var t,i,s,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:NN,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,u,h,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(i=g.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),g.isValid&&(g.isValid=(s=g.containsLowercaseLetter)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ub(this),this.idTokenSubscription=new ub(this),this.beforeStateQueue=new CN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ST,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=xi(t)),this._initializationPromise=this.queue(async()=>{var i,s,u;if(!this._deleted&&(this.persistenceManager=await Ho.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await tf(this,{idToken:e}),i=await br._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ar(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=s?._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===m)&&g?.user&&(s=g.user,u=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ar(this.app))return Promise.reject(ki(this));const t=e?Gt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ar(this.app)?Promise.reject(ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ar(this.app)?Promise.reject(ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IN(this),t=new DN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await SN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&xi(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await Ho.create(this,[xi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,i,s);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&sN(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ms(n){return Gt(n)}class ub{constructor(e){this.auth=e,this.observer=null,this.addObserver=QC(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ON(n){Sf=n}function BT(n){return Sf.loadJS(n)}function kN(){return Sf.recaptchaEnterpriseScript}function MN(){return Sf.gapiScript}function PN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class VN{constructor(){this.enterprise=new LN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class LN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const jN="recaptcha-enterprise",zT="NO_RECAPTCHA";class UN{constructor(e){this.type=jN,this.auth=Ms(e)}async verify(e="verify",t=!1){async function i(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{pN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new gN(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,h(p.siteKey)}}).catch(g=>{m(g)})})}function s(u,h,m){const g=window.grecaptcha;ib(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{h(p)}).catch(()=>{h(zT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new VN().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{i(this.auth).then(m=>{if(!t&&ib(window.grecaptcha))s(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=kN();g.length!==0&&(g+=m),BT(g).then(()=>{s(m,u,h)}).catch(p=>{h(p)})}}).catch(m=>{h(m)})})}}async function cb(n,e,t,i=!1,s=!1){const u=new UN(n);let h;if(s)h=zT;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return i?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function kg(n,e,t,i,s){var u;if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await cb(n,e,t,t==="getOobCode");return i(n,h)}else return i(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await cb(n,e,t,t==="getOobCode");return i(n,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(n,e){const t=Tp(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),u=t.getOptions();if(Pi(u,e??{}))return s;Er(s,"already-initialized")}return t.initialize({options:e})}function zN(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(xi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function HN(n,e,t){const i=Ms(n);Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,u=HT(e),{host:h,port:m}=FN(e),g=m===null?"":`:${m}`,p={url:`${u}//${h}${g}/`},_=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Se(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Se(Pi(p,i.config.emulator)&&Pi(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,il(h)?(gT(`${u}//${h}${g}`),pT("Auth",!0)):qN()}function HT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function FN(n){const e=HT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const u=s[1];return{host:u,port:hb(i.substr(u.length+1))}}else{const[u,h]=i.split(":");return{host:u,port:hb(h)}}}function hb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function qN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Di("not implemented")}_getIdTokenResponse(e){return Di("not implemented")}_linkToIdToken(e,t){return Di("not implemented")}_getReauthenticationResolver(e){return Di("not implemented")}}async function GN(n,e){return zi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(n,e){return Xu(n,"POST","/v1/accounts:signInWithPassword",Ua(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(n,e){return Xu(n,"POST","/v1/accounts:signInWithEmailLink",Ua(n,e))}async function QN(n,e){return Xu(n,"POST","/v1/accounts:signInWithEmailLink",Ua(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends Ip{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Vu(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Vu(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kg(e,t,"signInWithPassword",YN);case"emailLink":return $N(e,{email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kg(e,i,"signUpPassword",GN);case"emailLink":return QN(e,{idToken:t,email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(n,e){return Xu(n,"POST","/v1/accounts:signInWithIdp",Ua(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="http://localhost";class Is extends Ip{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Is(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,u=wp(t,["providerId","signInMethod"]);if(!i||!s)return null;const h=new Is(i,s);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Fo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Fo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fo(e,t)}buildRequest(){const e={requestUri:WN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Wu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XN(n){const e=Eu(Tu(n)).link,t=e?Eu(Tu(e)).deep_link_id:null,i=Eu(Tu(n)).deep_link_id;return(i?Eu(Tu(i)).link:null)||i||t||e||n}class Np{constructor(e){var t,i,s,u,h,m;const g=Eu(Tu(e)),p=(t=g.apiKey)!==null&&t!==void 0?t:null,_=(i=g.oobCode)!==null&&i!==void 0?i:null,T=KN((s=g.mode)!==null&&s!==void 0?s:null);Se(p&&_&&T,"argument-error"),this.apiKey=p,this.operation=T,this.code=_,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=g.lang)!==null&&h!==void 0?h:null,this.tenantId=(m=g.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=XN(e);try{return new Np(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.providerId=sl.PROVIDER_ID}static credential(e,t){return Vu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Np.parseLink(t);return Se(i,"argument-error"),Vu._fromEmailAndCode(e,i.code,i.tenantId)}}sl.PROVIDER_ID="password";sl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends FT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends Zu{constructor(){super("facebook.com")}static credential(e){return Is._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ba.credential(e.oauthAccessToken)}catch{return null}}}ba.FACEBOOK_SIGN_IN_METHOD="facebook.com";ba.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends Zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Is._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ea.credentialFromTaggedObject(e)}static credentialFromError(e){return Ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ea.credential(t,i)}catch{return null}}}Ea.GOOGLE_SIGN_IN_METHOD="google.com";Ea.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends Zu{constructor(){super("github.com")}static credential(e){return Is._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ta.credentialFromTaggedObject(e)}static credentialFromError(e){return Ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ta.credential(e.oauthAccessToken)}catch{return null}}}Ta.GITHUB_SIGN_IN_METHOD="github.com";Ta.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends Zu{constructor(){super("twitter.com")}static credential(e,t){return Is._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return wa.credential(t,i)}catch{return null}}}wa.TWITTER_SIGN_IN_METHOD="twitter.com";wa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(n,e){return Xu(n,"POST","/v1/accounts:signUp",Ua(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const u=await br._fromIdTokenResponse(e,i,s),h=fb(i);return new Ns({user:u,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=fb(i);return new Ns({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function fb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends Tr{constructor(e,t,i,s){var u;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,rf.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new rf(e,t,i,s)}}function qT(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?rf._fromErrorAndOperation(n,u,e,i):u})}async function JN(n,e,t=!1){const i=await $o(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ns._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(n,e,t=!1){const{auth:i}=n;if(ar(i.app))return Promise.reject(ki(i));const s="reauthenticate";try{const u=await $o(n,qT(i,s,e,n),t);Se(u.idToken,i,"internal-error");const h=Rp(u.idToken);Se(h,i,"internal-error");const{sub:m}=h;return Se(n.uid===m,i,"user-mismatch"),Ns._forOperation(n,s,u)}catch(u){throw u?.code==="auth/user-not-found"&&Er(i,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GT(n,e,t=!1){if(ar(n.app))return Promise.reject(ki(n));const i="signIn",s=await qT(n,i,e),u=await Ns._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(u.user),u}async function tD(n,e){return GT(Ms(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YT(n){const e=Ms(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function nD(n,e,t){if(ar(n.app))return Promise.reject(ki(n));const i=Ms(n),h=await kg(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZN).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&YT(n),g}),m=await Ns._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(m.user),m}function rD(n,e,t){return ar(n.app)?Promise.reject(ki(n)):tD(Gt(n),sl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&YT(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(n,e){return zi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Gt(n),u={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await $o(i,iD(i.auth,u));i.displayName=h.displayName||null,i.photoURL=h.photoUrl||null;const m=i.providerData.find(({providerId:g})=>g==="password");m&&(m.displayName=i.displayName,m.photoURL=i.photoURL),await i._updateTokensIfNecessary(h)}function sD(n,e,t,i){return Gt(n).onIdTokenChanged(e,t,i)}function oD(n,e,t){return Gt(n).beforeAuthStateChanged(e,t)}function lD(n,e,t,i){return Gt(n).onAuthStateChanged(e,t,i)}function uD(n){return Gt(n).signOut()}const af="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(af,"1"),this.storage.removeItem(af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=1e3,hD=10;class QT extends $T{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},u=this.storage.getItem(i);RN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,hD):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},cD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}QT.type="LOCAL";const fD=QT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT extends $T{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}WT.type="SESSION";const KT=WT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new Af(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:u}=t.data,h=this.handlersMap[s];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const m=Array.from(h).map(async p=>p(t.origin,u)),g=await dD(m);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Af.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const p=Dp("",20);s.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:s,onMessage(T){const S=T;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(_),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),s.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(){return window}function gD(n){Gr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(){return typeof Gr().WorkerGlobalScope<"u"&&typeof Gr().importScripts=="function"}async function pD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yD(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function vD(){return XT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="firebaseLocalStorageDb",_D=1,sf="firebaseLocalStorage",JT="fbase_key";class Ju{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Rf(n,e){return n.transaction([sf],e?"readwrite":"readonly").objectStore(sf)}function bD(){const n=indexedDB.deleteDatabase(ZT);return new Ju(n).toPromise()}function Mg(){const n=indexedDB.open(ZT,_D);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(sf,{keyPath:JT})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(sf)?e(i):(i.close(),await bD(),e(await Mg()))})})}async function db(n,e,t){const i=Rf(n,!0).put({[JT]:e,value:t});return new Ju(i).toPromise()}async function ED(n,e){const t=Rf(n,!1).get(e),i=await new Ju(t).toPromise();return i===void 0?null:i.value}function mb(n,e){const t=Rf(n,!0).delete(e);return new Ju(t).toPromise()}const TD=800,wD=3;class ew{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>wD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Af._getInstance(vD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await pD(),!this.activeServiceWorker)return;this.sender=new mD(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mg();return await db(e,af,"1"),await mb(e,af),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>db(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>ED(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>mb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const u=Rf(s,!1).getAll();return new Ju(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:u}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ew.type="LOCAL";const SD=ew;new Ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(n,e){return e?xi(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp extends Ip{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function RD(n){return GT(n.auth,new xp(n),n.bypassAuthState)}function CD(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),eD(t,new xp(n),n.bypassAuthState)}async function ID(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),JN(t,new xp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,t,i,s,u=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:i,tenantId:u||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RD;case"linkViaPopup":case"linkViaRedirect":return ID;case"reauthViaPopup":case"reauthViaRedirect":return CD;default:Er(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=new Ku(2e3,1e4);class jo extends tw{constructor(e,t,i,s,u){super(e,t,s,u),this.provider=i,this.authWindow=null,this.pollId=null,jo.currentPopupAction&&jo.currentPopupAction.cancel(),jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Li(this.filter.length===1,"Popup operations only handle one event");const e=Dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ND.get())};e()}}jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="pendingRedirect",Hh=new Map;class xD extends tw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Hh.get(this.auth._key());if(!e){try{const i=await OD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Hh.set(this.auth._key(),e)}return this.bypassAuthState||Hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OD(n,e){const t=PD(e),i=MD(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function kD(n,e){Hh.set(n._key(),e)}function MD(n){return xi(n._redirectPersistence)}function PD(n){return zh(DD,n.config.apiKey,n.name)}async function VD(n,e,t=!1){if(ar(n.app))return Promise.reject(ki(n));const i=Ms(n),s=AD(i,e),h=await new xD(i,s,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=10*60*1e3;class jD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!nw(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(qr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LD&&this.cachedEventUids.clear(),this.cachedEventUids.has(gb(e))}saveEventToCache(e){this.cachedEventUids.add(gb(e)),this.lastProcessedEventTime=Date.now()}}function gb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function nw({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function UD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(n,e={}){return zi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HD=/^https?/;async function FD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await BD(n);for(const t of e)try{if(qD(t))return}catch{}Er(n,"unauthorized-domain")}function qD(n){const e=xg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!HD.test(t))return!1;if(zD.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=new Ku(3e4,6e4);function pb(){const n=Gr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function YD(n){return new Promise((e,t)=>{var i,s,u;function h(){pb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pb(),t(qr(n,"network-request-failed"))},timeout:GD.get()})}if(!((s=(i=Gr().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((u=Gr().gapi)===null||u===void 0)&&u.load)h();else{const m=PN("iframefcb");return Gr()[m]=()=>{gapi.load?h():t(qr(n,"network-request-failed"))},BT(`${MN()}?onload=${m}`).catch(g=>t(g))}}).catch(e=>{throw Fh=null,e})}let Fh=null;function $D(n){return Fh=Fh||YD(n),Fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=new Ku(5e3,15e3),WD="__/auth/iframe",KD="emulator/auth/iframe",XD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JD(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ap(e,KD):`https://${n.config.authDomain}/${WD}`,i={apiKey:e.apiKey,appName:n.name,v:al},s=ZD.get(n.config.apiHost);s&&(i.eid=s);const u=n._getFrameworks();return u.length&&(i.fw=u.join(",")),`${t}?${Wu(i).slice(1)}`}async function ex(n){const e=await $D(n),t=Gr().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:JD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XD,dontclear:!0},i=>new Promise(async(s,u)=>{await i.restyle({setHideOnLeave:!1});const h=qr(n,"network-request-failed"),m=Gr().setTimeout(()=>{u(h)},QD.get());function g(){Gr().clearTimeout(m),s(i)}i.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nx=500,rx=600,ix="_blank",ax="http://localhost";class yb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sx(n,e,t,i=nx,s=rx){const u=Math.max((window.screen.availHeight-s)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const g=Object.assign(Object.assign({},tx),{width:i.toString(),height:s.toString(),top:u,left:h}),p=_n().toLowerCase();t&&(m=kT(p)?ix:t),xT(p)&&(e=e||ax,g.scrollbars="yes");const _=Object.entries(g).reduce((S,[D,V])=>`${S}${D}=${V},`,"");if(AN(p)&&m!=="_self")return ox(e||"",m),new yb(null);const T=window.open(e||"",m,_);Se(T,n,"popup-blocked");try{T.focus()}catch{}return new yb(T)}function ox(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="__/auth/handler",ux="emulator/auth/handler",cx=encodeURIComponent("fac");async function vb(n,e,t,i,s,u){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:al,eventId:s};if(e instanceof FT){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",$C(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))h[_]=T}if(e instanceof Zu){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(h.scopes=_.join(","))}n.tenantId&&(h.tid=n.tenantId);const m=h;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const g=await n._getAppCheckToken(),p=g?`#${cx}=${encodeURIComponent(g)}`:"";return`${hx(n)}?${Wu(m).slice(1)}${p}`}function hx({config:n}){return n.emulator?Ap(n,ux):`https://${n.authDomain}/${lx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="webStorageSupport";class fx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KT,this._completeRedirectFn=VD,this._overrideRedirectResult=kD}async _openPopup(e,t,i,s){var u;Li((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await vb(e,t,i,xg(),s);return sx(e,h,Dp())}async _openRedirect(e,t,i,s){await this._originValidation(e);const u=await vb(e,t,i,xg(),s);return gD(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:u}=this.eventManagers[t];return s?Promise.resolve(s):(Li(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await ex(e),i=new jD(e);return t.register("authEvent",s=>(Se(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ug,{type:ug},s=>{var u;const h=(u=s?.[0])===null||u===void 0?void 0:u[ug];h!==void 0&&t(!!h),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=FD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return jT()||OT()||Cp()}}const dx=fx;var _b="@firebase/auth",bb="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function px(n){Yo(new Cs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=i.options;Se(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UT(n)},p=new xN(i,s,u,g);return zN(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Yo(new Cs("auth-internal",e=>{const t=Ms(e.getProvider("auth").getImmediate());return(i=>new mx(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ca(_b,bb,gx(n)),Ca(_b,bb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=5*60,vx=mT("authIdTokenMaxAge")||yx;let Eb=null;const _x=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>vx)return;const s=t?.token;Eb!==s&&(Eb=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function bx(n=bT()){const e=Tp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=BN(n,{popupRedirectResolver:dx,persistence:[SD,fD,KT]}),i=mT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const h=_x(u.toString());oD(t,h,()=>h(t.currentUser)),sD(t,m=>h(m))}}const s=fT("auth");return s&&HN(t,`http://${s}`),t}function Ex(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ON({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const u=qr("internal-error");u.customData=s,t(u)},i.type="text/javascript",i.charset="UTF-8",Ex().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});px("Browser");var Tb={},wb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Tb<"u"?Tb:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ia,rw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function C(){}C.prototype=R.prototype,M.D=R.prototype,M.prototype=new C,M.prototype.constructor=M,M.C=function(O,P,L){for(var N=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)N[mt-2]=arguments[mt];return R.prototype[P].apply(O,N)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,R,C){C||(C=0);var O=Array(16);if(typeof R=="string")for(var P=0;16>P;++P)O[P]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(P=0;16>P;++P)O[P]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=M.g[0],C=M.g[1],P=M.g[2];var L=M.g[3],N=R+(L^C&(P^L))+O[0]+3614090360&4294967295;R=C+(N<<7&4294967295|N>>>25),N=L+(P^R&(C^P))+O[1]+3905402710&4294967295,L=R+(N<<12&4294967295|N>>>20),N=P+(C^L&(R^C))+O[2]+606105819&4294967295,P=L+(N<<17&4294967295|N>>>15),N=C+(R^P&(L^R))+O[3]+3250441966&4294967295,C=P+(N<<22&4294967295|N>>>10),N=R+(L^C&(P^L))+O[4]+4118548399&4294967295,R=C+(N<<7&4294967295|N>>>25),N=L+(P^R&(C^P))+O[5]+1200080426&4294967295,L=R+(N<<12&4294967295|N>>>20),N=P+(C^L&(R^C))+O[6]+2821735955&4294967295,P=L+(N<<17&4294967295|N>>>15),N=C+(R^P&(L^R))+O[7]+4249261313&4294967295,C=P+(N<<22&4294967295|N>>>10),N=R+(L^C&(P^L))+O[8]+1770035416&4294967295,R=C+(N<<7&4294967295|N>>>25),N=L+(P^R&(C^P))+O[9]+2336552879&4294967295,L=R+(N<<12&4294967295|N>>>20),N=P+(C^L&(R^C))+O[10]+4294925233&4294967295,P=L+(N<<17&4294967295|N>>>15),N=C+(R^P&(L^R))+O[11]+2304563134&4294967295,C=P+(N<<22&4294967295|N>>>10),N=R+(L^C&(P^L))+O[12]+1804603682&4294967295,R=C+(N<<7&4294967295|N>>>25),N=L+(P^R&(C^P))+O[13]+4254626195&4294967295,L=R+(N<<12&4294967295|N>>>20),N=P+(C^L&(R^C))+O[14]+2792965006&4294967295,P=L+(N<<17&4294967295|N>>>15),N=C+(R^P&(L^R))+O[15]+1236535329&4294967295,C=P+(N<<22&4294967295|N>>>10),N=R+(P^L&(C^P))+O[1]+4129170786&4294967295,R=C+(N<<5&4294967295|N>>>27),N=L+(C^P&(R^C))+O[6]+3225465664&4294967295,L=R+(N<<9&4294967295|N>>>23),N=P+(R^C&(L^R))+O[11]+643717713&4294967295,P=L+(N<<14&4294967295|N>>>18),N=C+(L^R&(P^L))+O[0]+3921069994&4294967295,C=P+(N<<20&4294967295|N>>>12),N=R+(P^L&(C^P))+O[5]+3593408605&4294967295,R=C+(N<<5&4294967295|N>>>27),N=L+(C^P&(R^C))+O[10]+38016083&4294967295,L=R+(N<<9&4294967295|N>>>23),N=P+(R^C&(L^R))+O[15]+3634488961&4294967295,P=L+(N<<14&4294967295|N>>>18),N=C+(L^R&(P^L))+O[4]+3889429448&4294967295,C=P+(N<<20&4294967295|N>>>12),N=R+(P^L&(C^P))+O[9]+568446438&4294967295,R=C+(N<<5&4294967295|N>>>27),N=L+(C^P&(R^C))+O[14]+3275163606&4294967295,L=R+(N<<9&4294967295|N>>>23),N=P+(R^C&(L^R))+O[3]+4107603335&4294967295,P=L+(N<<14&4294967295|N>>>18),N=C+(L^R&(P^L))+O[8]+1163531501&4294967295,C=P+(N<<20&4294967295|N>>>12),N=R+(P^L&(C^P))+O[13]+2850285829&4294967295,R=C+(N<<5&4294967295|N>>>27),N=L+(C^P&(R^C))+O[2]+4243563512&4294967295,L=R+(N<<9&4294967295|N>>>23),N=P+(R^C&(L^R))+O[7]+1735328473&4294967295,P=L+(N<<14&4294967295|N>>>18),N=C+(L^R&(P^L))+O[12]+2368359562&4294967295,C=P+(N<<20&4294967295|N>>>12),N=R+(C^P^L)+O[5]+4294588738&4294967295,R=C+(N<<4&4294967295|N>>>28),N=L+(R^C^P)+O[8]+2272392833&4294967295,L=R+(N<<11&4294967295|N>>>21),N=P+(L^R^C)+O[11]+1839030562&4294967295,P=L+(N<<16&4294967295|N>>>16),N=C+(P^L^R)+O[14]+4259657740&4294967295,C=P+(N<<23&4294967295|N>>>9),N=R+(C^P^L)+O[1]+2763975236&4294967295,R=C+(N<<4&4294967295|N>>>28),N=L+(R^C^P)+O[4]+1272893353&4294967295,L=R+(N<<11&4294967295|N>>>21),N=P+(L^R^C)+O[7]+4139469664&4294967295,P=L+(N<<16&4294967295|N>>>16),N=C+(P^L^R)+O[10]+3200236656&4294967295,C=P+(N<<23&4294967295|N>>>9),N=R+(C^P^L)+O[13]+681279174&4294967295,R=C+(N<<4&4294967295|N>>>28),N=L+(R^C^P)+O[0]+3936430074&4294967295,L=R+(N<<11&4294967295|N>>>21),N=P+(L^R^C)+O[3]+3572445317&4294967295,P=L+(N<<16&4294967295|N>>>16),N=C+(P^L^R)+O[6]+76029189&4294967295,C=P+(N<<23&4294967295|N>>>9),N=R+(C^P^L)+O[9]+3654602809&4294967295,R=C+(N<<4&4294967295|N>>>28),N=L+(R^C^P)+O[12]+3873151461&4294967295,L=R+(N<<11&4294967295|N>>>21),N=P+(L^R^C)+O[15]+530742520&4294967295,P=L+(N<<16&4294967295|N>>>16),N=C+(P^L^R)+O[2]+3299628645&4294967295,C=P+(N<<23&4294967295|N>>>9),N=R+(P^(C|~L))+O[0]+4096336452&4294967295,R=C+(N<<6&4294967295|N>>>26),N=L+(C^(R|~P))+O[7]+1126891415&4294967295,L=R+(N<<10&4294967295|N>>>22),N=P+(R^(L|~C))+O[14]+2878612391&4294967295,P=L+(N<<15&4294967295|N>>>17),N=C+(L^(P|~R))+O[5]+4237533241&4294967295,C=P+(N<<21&4294967295|N>>>11),N=R+(P^(C|~L))+O[12]+1700485571&4294967295,R=C+(N<<6&4294967295|N>>>26),N=L+(C^(R|~P))+O[3]+2399980690&4294967295,L=R+(N<<10&4294967295|N>>>22),N=P+(R^(L|~C))+O[10]+4293915773&4294967295,P=L+(N<<15&4294967295|N>>>17),N=C+(L^(P|~R))+O[1]+2240044497&4294967295,C=P+(N<<21&4294967295|N>>>11),N=R+(P^(C|~L))+O[8]+1873313359&4294967295,R=C+(N<<6&4294967295|N>>>26),N=L+(C^(R|~P))+O[15]+4264355552&4294967295,L=R+(N<<10&4294967295|N>>>22),N=P+(R^(L|~C))+O[6]+2734768916&4294967295,P=L+(N<<15&4294967295|N>>>17),N=C+(L^(P|~R))+O[13]+1309151649&4294967295,C=P+(N<<21&4294967295|N>>>11),N=R+(P^(C|~L))+O[4]+4149444226&4294967295,R=C+(N<<6&4294967295|N>>>26),N=L+(C^(R|~P))+O[11]+3174756917&4294967295,L=R+(N<<10&4294967295|N>>>22),N=P+(R^(L|~C))+O[2]+718787259&4294967295,P=L+(N<<15&4294967295|N>>>17),N=C+(L^(P|~R))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+L&4294967295}i.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var C=R-this.blockSize,O=this.B,P=this.h,L=0;L<R;){if(P==0)for(;L<=C;)s(this,M,L),L+=this.blockSize;if(typeof M=="string"){for(;L<R;)if(O[P++]=M.charCodeAt(L++),P==this.blockSize){s(this,O),P=0;break}}else for(;L<R;)if(O[P++]=M[L++],P==this.blockSize){s(this,O),P=0;break}}this.h=P,this.o+=R},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var C=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=C&255,C/=256;for(this.u(M),M=Array(16),R=C=0;4>R;++R)for(var O=0;32>O;O+=8)M[C++]=this.g[R]>>>O&255;return M};function u(M,R){var C=m;return Object.prototype.hasOwnProperty.call(C,M)?C[M]:C[M]=R(M)}function h(M,R){this.h=R;for(var C=[],O=!0,P=M.length-1;0<=P;P--){var L=M[P]|0;O&&L==R||(C[P]=L,O=!1)}this.g=C}var m={};function g(M){return-128<=M&&128>M?u(M,function(R){return new h([R|0],0>R?-1:0)}):new h([M|0],0>M?-1:0)}function p(M){if(isNaN(M)||!isFinite(M))return T;if(0>M)return U(p(-M));for(var R=[],C=1,O=0;M>=C;O++)R[O]=M/C|0,C*=4294967296;return new h(R,0)}function _(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return U(_(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(R,8)),O=T,P=0;P<M.length;P+=8){var L=Math.min(8,M.length-P),N=parseInt(M.substring(P,P+L),R);8>L?(L=p(Math.pow(R,L)),O=O.j(L).add(p(N))):(O=O.j(C),O=O.add(p(N)))}return O}var T=g(0),S=g(1),D=g(16777216);n=h.prototype,n.m=function(){if(z(this))return-U(this).m();for(var M=0,R=1,C=0;C<this.g.length;C++){var O=this.i(C);M+=(0<=O?O:4294967296+O)*R,R*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(V(this))return"0";if(z(this))return"-"+U(this).toString(M);for(var R=p(Math.pow(M,6)),C=this,O="";;){var P=he(C,R).g;C=G(C,P.j(R));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(M);if(C=P,V(C))return L+O;for(;6>L.length;)L="0"+L;O=L+O}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function V(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function z(M){return M.h==-1}n.l=function(M){return M=G(this,M),z(M)?-1:V(M)?0:1};function U(M){for(var R=M.g.length,C=[],O=0;O<R;O++)C[O]=~M.g[O];return new h(C,~M.h).add(S)}n.abs=function(){return z(this)?U(this):this},n.add=function(M){for(var R=Math.max(this.g.length,M.g.length),C=[],O=0,P=0;P<=R;P++){var L=O+(this.i(P)&65535)+(M.i(P)&65535),N=(L>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);O=N>>>16,L&=65535,N&=65535,C[P]=N<<16|L}return new h(C,C[C.length-1]&-2147483648?-1:0)};function G(M,R){return M.add(U(R))}n.j=function(M){if(V(this)||V(M))return T;if(z(this))return z(M)?U(this).j(U(M)):U(U(this).j(M));if(z(M))return U(this.j(U(M)));if(0>this.l(D)&&0>M.l(D))return p(this.m()*M.m());for(var R=this.g.length+M.g.length,C=[],O=0;O<2*R;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var P=0;P<M.g.length;P++){var L=this.i(O)>>>16,N=this.i(O)&65535,mt=M.i(P)>>>16,ut=M.i(P)&65535;C[2*O+2*P]+=N*ut,$(C,2*O+2*P),C[2*O+2*P+1]+=L*ut,$(C,2*O+2*P+1),C[2*O+2*P+1]+=N*mt,$(C,2*O+2*P+1),C[2*O+2*P+2]+=L*mt,$(C,2*O+2*P+2)}for(O=0;O<R;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=R;O<2*R;O++)C[O]=0;return new h(C,0)};function $(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function ne(M,R){this.g=M,this.h=R}function he(M,R){if(V(R))throw Error("division by zero");if(V(M))return new ne(T,T);if(z(M))return R=he(U(M),R),new ne(U(R.g),U(R.h));if(z(R))return R=he(M,U(R)),new ne(U(R.g),R.h);if(30<M.g.length){if(z(M)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var C=S,O=R;0>=O.l(M);)C=fe(C),O=fe(O);var P=ge(C,1),L=ge(O,1);for(O=ge(O,2),C=ge(C,2);!V(O);){var N=L.add(O);0>=N.l(M)&&(P=P.add(C),L=N),O=ge(O,1),C=ge(C,1)}return R=G(M,P.j(R)),new ne(P,R)}for(P=T;0<=M.l(R);){for(C=Math.max(1,Math.floor(M.m()/R.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),L=p(C),N=L.j(R);z(N)||0<N.l(M);)C-=O,L=p(C),N=L.j(R);V(L)&&(L=S),P=P.add(L),M=G(M,N)}return new ne(P,M)}n.A=function(M){return he(this,M).h},n.and=function(M){for(var R=Math.max(this.g.length,M.g.length),C=[],O=0;O<R;O++)C[O]=this.i(O)&M.i(O);return new h(C,this.h&M.h)},n.or=function(M){for(var R=Math.max(this.g.length,M.g.length),C=[],O=0;O<R;O++)C[O]=this.i(O)|M.i(O);return new h(C,this.h|M.h)},n.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),C=[],O=0;O<R;O++)C[O]=this.i(O)^M.i(O);return new h(C,this.h^M.h)};function fe(M){for(var R=M.g.length+1,C=[],O=0;O<R;O++)C[O]=M.i(O)<<1|M.i(O-1)>>>31;return new h(C,M.h)}function ge(M,R){var C=R>>5;R%=32;for(var O=M.g.length-C,P=[],L=0;L<O;L++)P[L]=0<R?M.i(L+C)>>>R|M.i(L+C+1)<<32-R:M.i(L+C);return new h(P,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,rw=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=_,Ia=h}).apply(typeof wb<"u"?wb:typeof self<"u"?self:typeof window<"u"?window:{});var Sb={},Nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Sb<"u"?Sb:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iw,wu,aw,qh,Pg,sw,ow,lw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nh=="object"&&Nh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function s(c,y){if(y)e:{var v=i;c=c.split(".");for(var A=0;A<c.length-1;A++){var B=c[A];if(!(B in v))break e;v=v[B]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,A=!1,B={next:function(){if(!A&&v<c.length){var W=v++;return{value:y(W,c[W]),done:!1}}return A=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}s("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,A),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function S(c,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,S.apply(null,arguments)}function D(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function V(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,B,W){for(var ae=Array(arguments.length-2),He=2;He<arguments.length;He++)ae[He-2]=arguments[He];return y.prototype[B].apply(A,ae)}}function z(c){const y=c.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function U(c,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(g(A)){const B=c.length||0,W=A.length||0;c.length=B+W;for(let ae=0;ae<W;ae++)c[B+ae]=A[ae]}else c.push(A)}}class G{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function $(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function he(c){return he[" "](c),c}he[" "]=function(){};var fe=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function ge(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function M(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let v,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(v in A)c[v]=A[v];for(let W=0;W<C.length;W++)v=C[W],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function P(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function L(c){m.setTimeout(()=>{throw c},0)}function N(){var c=ke;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class mt{constructor(){this.h=this.g=null}add(y,v){const A=ut.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ut=new G(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,pe=!1,ke=new mt,x=()=>{const c=m.Promise.resolve(void 0);oe=()=>{c.then(J)}};var J=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){L(v)}var y=ut;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function De(c,y){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(fe){e:{try{he(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ee[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}V(De,ie);var Ee={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function Lt(c,y,v,A,B){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=B,this.key=++Ye,this.da=this.fa=!1}function Hn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Dn(c){this.src=c,this.g={},this.h=0}Dn.prototype.add=function(c,y,v,A,B){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var ae=or(c,y,A,B);return-1<ae?(y=c[ae],v||(y.fa=!1)):(y=new Lt(y,this.src,W,!!A,B),y.fa=v,c.push(y)),y};function Fn(c,y){var v=y.type;if(v in c.g){var A=c.g[v],B=Array.prototype.indexOf.call(A,y,void 0),W;(W=0<=B)&&Array.prototype.splice.call(A,B,1),W&&(Hn(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function or(c,y,v,A){for(var B=0;B<c.length;++B){var W=c[B];if(!W.da&&W.listener==y&&W.capture==!!v&&W.ha==A)return B}return-1}var st="closure_lm_"+(1e6*Math.random()|0),lr={};function Jt(c,y,v,A,B){if(Array.isArray(y)){for(var W=0;W<y.length;W++)Jt(c,y[W],v,A,B);return null}return v=zs(v),c&&c[gt]?c.K(y,v,p(A)?!!A.capture:!1,B):en(c,y,v,!1,A,B)}function en(c,y,v,A,B,W){if(!y)throw Error("Invalid event type");var ae=p(B)?!!B.capture:!!B,He=ri(c);if(He||(c[st]=He=new Dn(c)),v=He.add(y,v,A,ae,W),v.proxy)return v;if(A=Bs(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)ye||(B=ae),B===void 0&&(B=!1),c.addEventListener(y.toString(),A,B);else if(c.attachEvent)c.attachEvent(ni(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Bs(){function c(v){return y.call(c.src,c.listener,v)}const y=pl;return c}function Fi(c,y,v,A,B){if(Array.isArray(y))for(var W=0;W<y.length;W++)Fi(c,y[W],v,A,B);else A=p(A)?!!A.capture:!!A,v=zs(v),c&&c[gt]?(c=c.i,y=String(y).toString(),y in c.g&&(W=c.g[y],v=or(W,v,A,B),-1<v&&(Hn(W[v]),Array.prototype.splice.call(W,v,1),W.length==0&&(delete c.g[y],c.h--)))):c&&(c=ri(c))&&(y=c.g[y.toString()],c=-1,y&&(c=or(y,v,A,B)),(v=-1<c?y[c]:null)&&qi(v))}function qi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[gt])Fn(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(ni(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=ri(y))?(Fn(v,c),v.h==0&&(v.src=null,y[st]=null)):Hn(c)}}}function ni(c){return c in lr?lr[c]:lr[c]="on"+c}function pl(c,y){if(c.da)c=!0;else{y=new De(y,this);var v=c.listener,A=c.ha||c.src;c.fa&&qi(c),c=v.call(A,y)}return c}function ri(c){return c=c[st],c instanceof Dn?c:null}var qa="__closure_events_fn_"+(1e9*Math.random()>>>0);function zs(c){return typeof c=="function"?c:(c[qa]||(c[qa]=function(y){return c.handleEvent(y)}),c[qa])}function pt(){se.call(this),this.i=new Dn(this),this.M=this,this.F=null}V(pt,se),pt.prototype[gt]=!0,pt.prototype.removeEventListener=function(c,y,v,A){Fi(this,c,y,v,A)};function We(c,y){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new ie(y,c);else if(y instanceof ie)y.target=y.target||c;else{var B=y;y=new ie(A,c),O(y,B)}if(B=!0,v)for(var W=v.length-1;0<=W;W--){var ae=y.g=v[W];B=bn(ae,A,!0,y)&&B}if(ae=y.g=c,B=bn(ae,A,!0,y)&&B,B=bn(ae,A,!1,y)&&B,v)for(W=0;W<v.length;W++)ae=y.g=v[W],B=bn(ae,A,!1,y)&&B}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],A=0;A<v.length;A++)Hn(v[A]);delete c.g[y],c.h--}}this.F=null},pt.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},pt.prototype.L=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function bn(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,W=0;W<y.length;++W){var ae=y[W];if(ae&&!ae.da&&ae.capture==v){var He=ae.listener,jt=ae.ha||ae.src;ae.fa&&Fn(c.i,ae),B=He.call(jt,A)!==!1&&B}}return B&&!A.defaultPrevented}function Dt(c,y,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Ga(c){c.g=Dt(()=>{c.g=null,c.i&&(c.i=!1,Ga(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Hs extends se{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ga(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ii(c){se.call(this),this.h=c,this.g={}}V(ii,se);var qn=[];function Sr(c){ge(c.g,function(y,v){this.g.hasOwnProperty(v)&&qi(y)},c),c.g={}}ii.prototype.N=function(){ii.aa.N.call(this),Sr(this)},ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xn=m.JSON.stringify,ai=m.JSON.parse,Ar=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function si(){}si.prototype.h=null;function Ya(c){return c.h||(c.h=c.i())}function Gi(){}var ur={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gn(){ie.call(this,"d")}V(Gn,ie);function xt(){ie.call(this,"c")}V(xt,ie);var ht={},Rr=null;function $e(){return Rr=Rr||new pt}ht.La="serverreachability";function tn(c){ie.call(this,ht.La,c)}V(tn,ie);function Cr(c){const y=$e();We(y,new tn(y))}ht.STAT_EVENT="statevent";function Yi(c,y){ie.call(this,ht.STAT_EVENT,c),this.stat=y}V(Yi,ie);function ot(c){const y=$e();We(y,new Yi(y,c))}ht.Ma="timingevent";function wt(c,y){ie.call(this,ht.Ma,c),this.size=y}V(wt,ie);function yt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function nn(){this.g=!0}nn.prototype.xa=function(){this.g=!1};function oi(c,y,v,A,B,W){c.info(function(){if(c.g)if(W)for(var ae="",He=W.split("&"),jt=0;jt<He.length;jt++){var Fe=He[jt].split("=");if(1<Fe.length){var Qt=Fe[0];Fe=Fe[1];var Ut=Qt.split("_");ae=2<=Ut.length&&Ut[1]=="type"?ae+(Qt+"="+Fe+"&"):ae+(Qt+"=redacted&")}}else ae=null;else ae=W;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+y+`
`+v+`
`+ae})}function $a(c,y,v,A,B,W,ae){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+y+`
`+v+`
`+W+" "+ae})}function Yn(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+cr(c,v)+(A?" "+A:"")})}function Fs(c,y){c.info(function(){return"TIMEOUT: "+y})}nn.prototype.info=function(){};function cr(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var B=A[1];if(Array.isArray(B)&&!(1>B.length)){var W=B[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ae=1;ae<B.length;ae++)B[ae]=""}}}}return xn(v)}catch{return y}}var hr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$n;function Ce(){}V(Ce,si),Ce.prototype.g=function(){return new XMLHttpRequest},Ce.prototype.i=function(){return{}},$n=new Ce;function Ve(c,y,v,A){this.j=c,this.i=y,this.l=v,this.R=A||1,this.U=new ii(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xe}function xe(){this.i=null,this.g="",this.h=!1}var rn={},Yt={};function En(c,y,v){c.L=1,c.v=Za(On(y)),c.m=v,c.P=!0,dr(c,null)}function dr(c,y){c.F=Date.now(),Qa(c),c.A=On(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Tl(v.i,"t",A),c.C=0,v=c.j.J,c.h=new xe,c.g=wc(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Hs(S(c.Y,c,c.g),c.O)),y=c.U,v=c.g,A=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(qn[0]=B.toString()),B=qn);for(var W=0;W<B.length;W++){var ae=Jt(v,B[W],A||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Cr(),oi(c.i,c.u,c.A,c.l,c.R,c.m)}Ve.prototype.ca=function(c){c=c.target;const y=this.M;y&&Xn(c)==3?y.j():this.Y(c)},Ve.prototype.Y=function(c){try{if(c==this.g)e:{const Ut=Xn(this.g);var y=this.g.Ba();const gi=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||gc(this.g)))){this.J||Ut!=4||y==7||(y==8||0>=gi?Cr(3):Cr(2)),$i(this);var v=this.g.Z();this.X=v;t:if(qs(this)){var A=gc(this.g);c="";var B=A.length,W=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),Ir(this);var ae="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(W&&y==B-1)});A.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,$a(this.i,this.u,this.A,this.l,this.R,Ut,v),this.o){if(this.T&&!this.K){t:{if(this.g){var He,jt=this.g;if((He=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(He)){var Fe=He;break t}}Fe=null}if(v=Fe)Yn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wa(this,v);else{this.o=!1,this.s=3,ot(12),an(this),Ir(this);break e}}if(this.P){v=!0;let sn;for(;!this.J&&this.C<ae.length;)if(sn=uc(this,ae),sn==Yt){Ut==4&&(this.s=4,ot(14),v=!1),Yn(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==rn){this.s=4,ot(15),Yn(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else Yn(this.i,this.l,sn,null),Wa(this,sn);if(qs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||ae.length!=0||this.h.h||(this.s=1,ot(16),v=!1),this.o=this.o&&v,!v)Yn(this.i,this.l,ae,"[Invalid Chunked Response]"),an(this),Ir(this);else if(0<ae.length&&!this.W){this.W=!0;var Qt=this.j;Qt.g==this&&Qt.ba&&!Qt.M&&(Qt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),ss(Qt),Qt.M=!0,ot(11))}}else Yn(this.i,this.l,ae,null),Wa(this,ae);Ut==4&&an(this),this.o&&!this.J&&(Ut==4?bc(this.j,this):(this.o=!1,Qa(this)))}else rd(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),an(this),Ir(this)}}}catch{}finally{}};function qs(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function uc(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?Yt:(v=Number(y.substring(v,A)),isNaN(v)?rn:(A+=1,A+v>y.length?Yt:(y=y.slice(A,A+v),c.C=A+v,y)))}Ve.prototype.cancel=function(){this.J=!0,an(this)};function Qa(c){c.S=Date.now()+c.I,cc(c,c.I)}function cc(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=yt(S(c.ba,c),y)}function $i(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Ve.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Fs(this.i,this.A),this.L!=2&&(Cr(),ot(17)),an(this),this.s=2,Ir(this)):cc(this,this.S-c)};function Ir(c){c.j.G==0||c.J||bc(c.j,c)}function an(c){$i(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Sr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Wa(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||yl(v.h,c))){if(!c.K&&yl(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)no(v),eo(v);else break e;Cl(v),ot(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=yt(S(v.Za,v),6e3));if(1>=Ys(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else mi(v,11)}else if((c.K||v.g==c)&&no(v),!$(y))for(B=v.Da.g.parse(y),y=0;y<B.length;y++){let Fe=B[y];if(v.T=Fe[0],Fe=Fe[1],v.G==2)if(Fe[0]=="c"){v.K=Fe[1],v.ia=Fe[2];const Qt=Fe[3];Qt!=null&&(v.la=Qt,v.j.info("VER="+v.la));const Ut=Fe[4];Ut!=null&&(v.Aa=Ut,v.j.info("SVER="+v.Aa));const gi=Fe[5];gi!=null&&typeof gi=="number"&&0<gi&&(A=1.5*gi,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const sn=c.g;if(sn){const Pr=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pr){var W=A.h;W.g||Pr.indexOf("spdy")==-1&&Pr.indexOf("quic")==-1&&Pr.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&($s(W,W.h),W.h=null))}if(A.D){const Nl=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;Nl&&(A.ya=Nl,nt(A.I,A.D,Nl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var ae=c;if(A.qa=Tc(A,A.J?A.ia:null,A.W),ae.K){Tn(A.h,ae);var He=ae,jt=A.L;jt&&(He.I=jt),He.B&&($i(He),Qa(He)),A.g=ae}else vc(A);0<v.i.length&&to(v)}else Fe[0]!="stop"&&Fe[0]!="close"||mi(v,7);else v.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?mi(v,7):Al(v):Fe[0]!="noop"&&v.l&&v.l.ta(Fe),v.v=0)}}Cr(4)}catch{}}var hc=class{constructor(c,y){this.g=c,this.map=y}};function li(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ys(c){return c.h?1:c.g?c.g.size:0}function yl(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function $s(c,y){c.g?c.g.add(y):c.h=y}function Tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}li.prototype.cancel=function(){if(this.i=vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function vl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return z(c.i)}function Jf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],v=c.length,A=0;A<v;A++)y.push(c[A]);return y}y=[],v=0;for(A in c)y[v++]=c[A];return y}function Qs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const A in c)y[v++]=A;return y}}}function _l(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Qs(c),A=Jf(c),B=A.length,W=0;W<B;W++)y.call(void 0,A[W],v&&v[W],c)}var Ka=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ed(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),B=null;if(0<=A){var W=c[v].substring(0,A);B=c[v].substring(A+1)}else W=c[v];y(W,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Ot(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ot){this.h=c.h,Xa(this,c.j),this.o=c.o,this.g=c.g,Qi(this,c.s),this.l=c.l;var y=c.i,v=new ci;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),ui(this,v),this.m=c.m}else c&&(y=String(c).match(Ka))?(this.h=!1,Xa(this,y[1]||"",!0),this.o=Qn(y[2]||""),this.g=Qn(y[3]||"",!0),Qi(this,y[4]),this.l=Qn(y[5]||"",!0),ui(this,y[6]||"",!0),this.m=Qn(y[7]||"")):(this.h=!1,this.i=new ci(null,this.h))}Ot.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ja(y,bl,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ja(y,bl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ja(v,v.charAt(0)=="/"?td:El,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ja(v,Ws)),c.join("")};function On(c){return new Ot(c)}function Xa(c,y,v){c.j=v?Qn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Qi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ui(c,y,v){y instanceof ci?(c.i=y,dc(c.i,c.h)):(v||(y=Ja(y,nd)),c.i=new ci(y,c.h))}function nt(c,y,v){c.i.set(y,v)}function Za(c){return nt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Qn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ja(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,fc),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function fc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var bl=/[#\/\?@]/g,El=/[#\?:]/g,td=/[#\?]/g,nd=/[#\?@]/g,Ws=/#/g;function ci(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Wn(c){c.g||(c.g=new Map,c.h=0,c.i&&ed(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}n=ci.prototype,n.add=function(c,y){Wn(this),this.i=null,c=Nr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function hi(c,y){Wn(c),y=Nr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function fi(c,y){return Wn(c),y=Nr(c,y),c.g.has(y)}n.forEach=function(c,y){Wn(this),this.g.forEach(function(v,A){v.forEach(function(B){c.call(y,B,A,this)},this)},this)},n.na=function(){Wn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const B=c[A];for(let W=0;W<B.length;W++)v.push(y[A])}return v},n.V=function(c){Wn(this);let y=[];if(typeof c=="string")fi(this,c)&&(y=y.concat(this.g.get(Nr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},n.set=function(c,y){return Wn(this),this.i=null,c=Nr(this,c),fi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Tl(c,y,v){hi(c,y),0<v.length&&(c.i=null,c.g.set(Nr(c,y),z(v)),c.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const W=encodeURIComponent(String(A)),ae=this.V(A);for(A=0;A<ae.length;A++){var B=W;ae[A]!==""&&(B+="="+encodeURIComponent(String(ae[A]))),c.push(B)}}return this.i=c.join("&")};function Nr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function dc(c,y){y&&!c.j&&(Wn(c),c.i=null,c.g.forEach(function(v,A){var B=A.toLowerCase();A!=B&&(hi(this,A),Tl(this,B,v))},c)),c.j=y}function es(c,y){const v=new nn;if(m.Image){const A=new Image;A.onload=D(Kn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=D(Kn,v,"TestLoadImage: error",!1,y,A),A.onabort=D(Kn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=D(Kn,v,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function mr(c,y){const v=new nn,A=new AbortController,B=setTimeout(()=>{A.abort(),Kn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(W=>{clearTimeout(B),W.ok?Kn(v,"TestPingServer: ok",!0,y):Kn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Kn(v,"TestPingServer: error",!1,y)})}function Kn(c,y,v,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(v)}catch{}}function ts(){this.g=new Ar}function Dr(c,y,v){const A=v||"";try{_l(c,function(B,W){let ae=B;p(B)&&(ae=xn(B)),y.push(A+W+"="+encodeURIComponent(ae))})}catch(B){throw y.push(A+"type="+encodeURIComponent("_badmap")),B}}function Wi(c){this.l=c.Ub||null,this.j=c.eb||!1}V(Wi,si),Wi.prototype.g=function(){return new di(this.l,this.j)},Wi.prototype.i=function(c){return function(){return c}}({});function di(c,y){pt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(di,pt),n=di.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Or(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Or(this)),this.g&&(this.readyState=3,Or(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function wl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?xr(this):Or(this),this.readyState==3&&wl(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,xr(this))},n.Qa=function(c){this.g&&(this.response=c,xr(this))},n.ga=function(){this.g&&xr(this)};function xr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Or(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Or(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Sl(c){let y="";return ge(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function $t(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Sl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):nt(c,y,v))}function Xe(c){pt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Xe,pt);var Ks=/^https?$/i,ns=["POST","PUT"];n=Xe.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$n.g(),this.v=this.o?Ya(this.o):Ya($n),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(W){mc(this,W);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)v.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const W of A.keys())v.set(W,A.get(W));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(W=>W.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ns,y,void 0))||A||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ae]of v)this.g.setRequestHeader(W,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rs(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){mc(this,W)}};function mc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Xs(c),kr(c)}function Xs(c){c.A||(c.A=!0,We(c,"complete"),We(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,We(this,"complete"),We(this,"abort"),kr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kr(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Zs(this):this.bb())},n.bb=function(){Zs(this)};function Zs(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Xn(c)!=4||c.Z()!=2)){if(c.u&&Xn(c)==4)Dt(c.Ea,0,c);else if(We(c,"readystatechange"),Xn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=ae===0){var B=String(c.D).match(Ka)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),A=!Ks.test(B?B.toLowerCase():"")}v=A}if(v)We(c,"complete"),We(c,"success");else{c.m=6;try{var W=2<Xn(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",Xs(c)}}finally{kr(c)}}}}function kr(c,y){if(c.g){rs(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||We(c,"ready");try{v.onreadystatechange=A}catch{}}}function rs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ai(y)}};function gc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function rd(c){const y={};c=(c.g&&2<=Xn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if($(c[A]))continue;var v=P(c[A]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const W=y[B]||[];y[B]=W,W.push(v)}M(y,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function is(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Js(c){this.Aa=0,this.i=[],this.j=new nn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=is("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=is("baseRetryDelayMs",5e3,c),this.cb=is("retryDelaySeedMs",1e4,c),this.Wa=is("forwardChannelMaxRetries",2,c),this.wa=is("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new li(c&&c.concurrentRequestLimit),this.Da=new ts,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Js.prototype,n.la=8,n.G=1,n.connect=function(c,y,v,A){ot(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Tc(this,null,this.W),to(this)};function Al(c){if(pc(c),c.G==3){var y=c.U++,v=On(c.I);if(nt(v,"SID",c.K),nt(v,"RID",y),nt(v,"TYPE","terminate"),as(c,v),y=new Ve(c,c.j,y),y.L=2,y.v=Za(On(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=wc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Qa(y)}Ec(c)}function eo(c){c.g&&(ss(c),c.g.cancel(),c.g=null)}function pc(c){eo(c),c.u&&(m.clearTimeout(c.u),c.u=null),no(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function to(c){if(!Gs(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||x(),pe||(oe(),pe=!0),ke.add(y,c),c.B=0}}function id(c,y){return Ys(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=yt(S(c.Ga,c,y),Il(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new Ve(this,this.j,c);let W=this.o;if(this.S&&(W?(W=R(W),O(W,this.S)):W=this.S),this.m!==null||this.O||(B.H=W,W=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=yc(this,B,y),v=On(this.I),nt(v,"RID",c),nt(v,"CVER",22),this.D&&nt(v,"X-HTTP-Session-Id",this.D),as(this,v),W&&(this.O?y="headers="+encodeURIComponent(String(Sl(W)))+"&"+y:this.m&&$t(v,this.m,W)),$s(this.h,B),this.Ua&&nt(v,"TYPE","init"),this.P?(nt(v,"$req",y),nt(v,"SID","null"),B.T=!0,En(B,v,null)):En(B,v,y),this.G=2}}else this.G==3&&(c?Rl(this,c):this.i.length==0||Gs(this.h)||Rl(this))};function Rl(c,y){var v;y?v=y.l:v=c.U++;const A=On(c.I);nt(A,"SID",c.K),nt(A,"RID",v),nt(A,"AID",c.T),as(c,A),c.m&&c.o&&$t(A,c.m,c.o),v=new Ve(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=yc(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),$s(c.h,v),En(v,A,y)}function as(c,y){c.H&&ge(c.H,function(v,A){nt(y,A,v)}),c.l&&_l({},function(v,A){nt(y,A,v)})}function yc(c,y,v){v=Math.min(c.i.length,v);var A=c.l?S(c.l.Na,c.l,c):null;e:{var B=c.i;let W=-1;for(;;){const ae=["count="+v];W==-1?0<v?(W=B[0].g,ae.push("ofs="+W)):W=0:ae.push("ofs="+W);let He=!0;for(let jt=0;jt<v;jt++){let Fe=B[jt].g;const Qt=B[jt].map;if(Fe-=W,0>Fe)W=Math.max(0,B[jt].g-100),He=!1;else try{Dr(Qt,ae,"req"+Fe+"_")}catch{A&&A(Qt)}}if(He){A=ae.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,A}function vc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||x(),pe||(oe(),pe=!0),ke.add(y,c),c.v=0}}function Cl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=yt(S(c.Fa,c),Il(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,_c(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=yt(S(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),eo(this),_c(this))};function ss(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function _c(c){c.g=new Ve(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=On(c.qa);nt(y,"RID","rpc"),nt(y,"SID",c.K),nt(y,"AID",c.T),nt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&nt(y,"TO",c.ja),nt(y,"TYPE","xmlhttp"),as(c,y),c.m&&c.o&&$t(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Za(On(y)),v.m=null,v.P=!0,dr(v,c)}n.Za=function(){this.C!=null&&(this.C=null,eo(this),Cl(this),ot(19))};function no(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function bc(c,y){var v=null;if(c.g==y){no(c),ss(c),c.g=null;var A=2}else if(yl(c.h,y))v=y.D,Tn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;A=$e(),We(A,new wt(A,v)),to(c)}else vc(c);else if(B=y.s,B==3||B==0&&0<y.X||!(A==1&&id(c,y)||A==2&&Cl(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),B){case 1:mi(c,5);break;case 4:mi(c,10);break;case 3:mi(c,6);break;default:mi(c,2)}}}function Il(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function mi(c,y){if(c.j.info("Error code "+y),y==2){var v=S(c.fb,c),A=c.Xa;const B=!A;A=new Ot(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Xa(A,"https"),Za(A),B?es(A.toString(),v):mr(A.toString(),v)}else ot(2);c.G=0,c.l&&c.l.sa(y),Ec(c),pc(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Ec(c){if(c.G=0,c.ka=[],c.l){const y=vl(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function Tc(c,y,v){var A=v instanceof Ot?On(v):new Ot(v);if(A.g!="")y&&(A.g=y+"."+A.g),Qi(A,A.s);else{var B=m.location;A=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var W=new Ot(null);A&&Xa(W,A),y&&(W.g=y),B&&Qi(W,B),v&&(W.l=v),A=W}return v=c.D,y=c.ya,v&&y&&nt(A,v,y),nt(A,"VER",c.la),as(c,A),A}function wc(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Xe(new Wi({eb:v})):new Xe(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sc(){}n=Sc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ro(){}ro.prototype.g=function(c,y){return new wn(c,y)};function wn(c,y){pt.call(this),this.g=new Js(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!$(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!$(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Mr(this)}V(wn,pt),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Al(this.g)},wn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=xn(c),c=v);y.i.push(new hc(y.Ya++,c)),y.G==3&&to(y)},wn.prototype.N=function(){this.g.l=null,delete this.j,Al(this.g),delete this.g,wn.aa.N.call(this)};function Ac(c){Gn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}V(Ac,Gn);function Rc(){xt.call(this),this.status=1}V(Rc,xt);function Mr(c){this.g=c}V(Mr,Sc),Mr.prototype.ua=function(){We(this.g,"a")},Mr.prototype.ta=function(c){We(this.g,new Ac(c))},Mr.prototype.sa=function(c){We(this.g,new Rc)},Mr.prototype.ra=function(){We(this.g,"b")},ro.prototype.createWebChannel=ro.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,lw=function(){return new ro},ow=function(){return $e()},sw=ht,Pg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hr.NO_ERROR=0,hr.TIMEOUT=8,hr.HTTP_ERROR=6,qh=hr,fr.COMPLETE="complete",aw=fr,Gi.EventType=ur,ur.OPEN="a",ur.CLOSE="b",ur.ERROR="c",ur.MESSAGE="d",pt.prototype.listen=pt.prototype.K,wu=Gi,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,iw=Xe}).apply(typeof Nh<"u"?Nh:typeof self<"u"?self:typeof window<"u"?window:{});const Ab="@firebase/firestore",Rb="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new bp("@firebase/firestore");function Mo(){return Ds.logLevel}function ce(n,...e){if(Ds.logLevel<=Be.DEBUG){const t=e.map(Op);Ds.debug(`Firestore (${ol}): ${n}`,...t)}}function ji(n,...e){if(Ds.logLevel<=Be.ERROR){const t=e.map(Op);Ds.error(`Firestore (${ol}): ${n}`,...t)}}function xa(n,...e){if(Ds.logLevel<=Be.WARN){const t=e.map(Op);Ds.warn(`Firestore (${ol}): ${n}`,...t)}}function Op(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,uw(n,i,t)}function uw(n,e,t){let i=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw ji(i),new Error(i)}function Ze(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||uw(e,s,i)}function Ne(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Tr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Tx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yn.UNAUTHENTICATED))}shutdown(){}}class wx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Sx{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0,42304);let i=this.i;const s=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let u=new Na;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Na,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await s(this.currentUser)})},m=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Na)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ze(typeof i.accessToken=="string",31837,{l:i}),new cw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class Ax{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Rx{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new Ax(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cx{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ar(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0,3512);const i=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>i(u))};const s=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?s(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Cb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Cb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=Ix(40);for(let u=0;u<s.length;++u)i.length<20&&s[u]<t&&(i+=e.charAt(s[u]%62))}return i}}function Pe(n,e){return n<e?-1:n>e?1:0}function Vg(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),s=e.codePointAt(t);if(i!==s){if(i<128&&s<128)return Pe(i,s);{const u=hw(),h=Nx(u.encode(Ib(n,t)),u.encode(Ib(e,t)));return h!==0?h:Pe(i,s)}}t+=i>65535?2:1}return Pe(n.length,e.length)}function Ib(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Nx(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Pe(n[t],e[t]);return Pe(n.length,e.length)}function Qo(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="__name__";class Fr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ae(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Fr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const u=Fr.compareSegments(e.get(s),t.get(s));if(u!==0)return u}return Pe(e.length,t.length)}static compareSegments(e,t){const i=Fr.isNumericId(e),s=Fr.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?Fr.extractNumericId(e).compare(Fr.extractNumericId(t)):Vg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ia.fromString(e.substring(4,e.length-2))}}class ft extends Fr{construct(e,t,i){return new ft(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new ft(t)}static emptyPath(){return new ft([])}}const Dx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Fr{construct(e,t,i){return new hn(e,t,i)}static isValidIdentifier(e){return Dx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nb}static keyField(){return new hn([Nb])}static fromServerFormat(e){const t=[];let i="",s=0;const u=()=>{if(i.length===0)throw new me(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;s<e.length;){const m=e[s];if(m==="\\"){if(s+1===e.length)throw new me(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[s+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new me(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,s+=2}else m==="`"?(h=!h,s++):m!=="."||h?(i+=m,s++):(u(),s++)}if(u(),h)throw new me(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(t)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(ft.fromString(e))}static fromName(e){return new be(ft.fromString(e).popFirst(5))}static empty(){return new be(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(n,e,t){if(!t)throw new me(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xx(n,e,t,i){if(e===!0&&i===!0)throw new me(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Db(n){if(!be.isDocumentKey(n))throw new me(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xb(n){if(be.isDocumentKey(n))throw new me(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Mp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae(12329,{type:typeof n})}function Yr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Mp(n);throw new me(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(n,e){const t={typeString:n};return e&&(t.value=e),t}function ec(n,e){if(!dw(n))throw new me(re.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const s=e[i].typeString,u="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const h=n[i];if(s&&typeof h!==s){t=`JSON field '${i}' must be a ${s}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${i}' field to equal '${u.value}'`;break}}if(t)throw new me(re.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=-62135596800,kb=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*kb);return new dt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ob)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kb}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ec(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ob;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:Vt("string",dt._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new dt(0,0))}static max(){return new Ie(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=-1;function Ox(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Ie.fromTimestamp(i===1e9?new dt(t+1,0):new dt(t,i));return new Oa(s,be.empty(),e)}function kx(n){return new Oa(n.readTime,n.key,Lu)}class Oa{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Oa(Ie.min(),be.empty(),Lu)}static max(){return new Oa(Ie.max(),be.empty(),Lu)}}function Mx(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(n.documentKey,e.documentKey),t!==0?t:Pe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Vx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==Px)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((i,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,i)=>{t(e)})}static reject(e){return new te((t,i)=>{i(e)})}static waitFor(e){return new te((t,i)=>{let s=0,u=0,h=!1;e.forEach(m=>{++s,m.next(()=>{++u,h&&u===s&&t()},g=>i(g))}),h=!0,u===s&&t()})}static or(e){let t=te.resolve(!1);for(const i of e)t=t.next(s=>s?te.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,u)=>{i.push(t.call(this,s,u))}),this.waitFor(i)}static mapArray(e,t){return new te((i,s)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;t(e[p]).next(_=>{h[p]=_,++m,m===u&&i(h)},_=>s(_))}})}static doWhile(e,t){return new te((i,s)=>{const u=()=>{e()===!0?t().next(()=>{u()},s):i()};u()})}}function Lx(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ul(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this._e(i),this.ae=i=>t.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Cf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=-1;function If(n){return n==null}function of(n){return n===0&&1/n==-1/0}function jx(n){return typeof n=="number"&&Number.isInteger(n)&&!of(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="";function Ux(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Mb(e)),e=Bx(n.get(t),e);return Mb(e)}function Bx(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const u=n.charAt(s);switch(u){case"\0":t+="";break;case mw:t+="";break;default:t+=u}}return t}function Mb(n){return n+mw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ba(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,t){this.comparator=e,this.root=t||cn.EMPTY}insert(e,t){return new Tt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dh(this.root,e,this.comparator,!0)}}class Dh{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?i(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,t,i,s,u){this.key=e,this.value=t,this.color=i??cn.RED,this.left=s??cn.EMPTY,this.right=u??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,u){return new cn(e??this.key,t??this.value,i??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const u=i(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,i),null):u===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return cn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,i,s,u){return this}insert(e,t,i){return new cn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Vb(this.data.getIterator())}getIteratorFrom(e){return new Vb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=i.getNext().key;if(this.comparator(s,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class Vb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new zn([])}unionWith(e){let t=new qt(hn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new pw("Invalid base64 string: "+u):u}}(e);return new dn(t)}static fromUint8Array(e){const t=function(s){let u="";for(let h=0;h<s.length;++h)u+=String.fromCharCode(s[h]);return u}(e);return new dn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const zx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ka(n){if(Ze(!!n,39018),typeof n=="string"){let e=0;const t=zx.exec(n);if(Ze(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:It(n.seconds),nanos:It(n.nanos)}}function It(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ma(n){return typeof n=="string"?dn.fromBase64String(n):dn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="server_timestamp",vw="__type__",_w="__previous_value__",bw="__local_write_time__";function Vp(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[vw])===null||t===void 0?void 0:t.stringValue)===yw}function Nf(n){const e=n.mapValue.fields[_w];return Vp(e)?Nf(e):e}function ju(n){const e=ka(n.mapValue.fields[bw].timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,t,i,s,u,h,m,g,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=_}}const lf="(default)";class Uu{constructor(e,t){this.projectId=e,this.database=t||lf}static empty(){return new Uu("","")}get isDefaultDatabase(){return this.database===lf}isEqual(e){return e instanceof Uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="__type__",Fx="__max__",xh={mapValue:{}},Tw="__vector__",uf="value";function Pa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Vp(n)?4:Gx(n)?9007199254740991:qx(n)?10:11:Ae(28295,{value:n})}function Jr(n,e){if(n===e)return!0;const t=Pa(n);if(t!==Pa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ju(n).isEqual(ju(e));case 3:return function(s,u){if(typeof s.timestampValue=="string"&&typeof u.timestampValue=="string"&&s.timestampValue.length===u.timestampValue.length)return s.timestampValue===u.timestampValue;const h=ka(s.timestampValue),m=ka(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,u){return Ma(s.bytesValue).isEqual(Ma(u.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,u){return It(s.geoPointValue.latitude)===It(u.geoPointValue.latitude)&&It(s.geoPointValue.longitude)===It(u.geoPointValue.longitude)}(n,e);case 2:return function(s,u){if("integerValue"in s&&"integerValue"in u)return It(s.integerValue)===It(u.integerValue);if("doubleValue"in s&&"doubleValue"in u){const h=It(s.doubleValue),m=It(u.doubleValue);return h===m?of(h)===of(m):isNaN(h)&&isNaN(m)}return!1}(n,e);case 9:return Qo(n.arrayValue.values||[],e.arrayValue.values||[],Jr);case 10:case 11:return function(s,u){const h=s.mapValue.fields||{},m=u.mapValue.fields||{};if(Pb(h)!==Pb(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Jr(h[g],m[g])))return!1;return!0}(n,e);default:return Ae(52216,{left:n})}}function Bu(n,e){return(n.values||[]).find(t=>Jr(t,e))!==void 0}function Wo(n,e){if(n===e)return 0;const t=Pa(n),i=Pa(e);if(t!==i)return Pe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pe(n.booleanValue,e.booleanValue);case 2:return function(u,h){const m=It(u.integerValue||u.doubleValue),g=It(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(n,e);case 3:return Lb(n.timestampValue,e.timestampValue);case 4:return Lb(ju(n),ju(e));case 5:return Vg(n.stringValue,e.stringValue);case 6:return function(u,h){const m=Ma(u),g=Ma(h);return m.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const _=Pe(m[p],g[p]);if(_!==0)return _}return Pe(m.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Pe(It(u.latitude),It(h.latitude));return m!==0?m:Pe(It(u.longitude),It(h.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return jb(n.arrayValue,e.arrayValue);case 10:return function(u,h){var m,g,p,_;const T=u.fields||{},S=h.fields||{},D=(m=T[uf])===null||m===void 0?void 0:m.arrayValue,V=(g=S[uf])===null||g===void 0?void 0:g.arrayValue,z=Pe(((p=D?.values)===null||p===void 0?void 0:p.length)||0,((_=V?.values)===null||_===void 0?void 0:_.length)||0);return z!==0?z:jb(D,V)}(n.mapValue,e.mapValue);case 11:return function(u,h){if(u===xh.mapValue&&h===xh.mapValue)return 0;if(u===xh.mapValue)return 1;if(h===xh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=h.fields||{},_=Object.keys(p);g.sort(),_.sort();for(let T=0;T<g.length&&T<_.length;++T){const S=Vg(g[T],_[T]);if(S!==0)return S;const D=Wo(m[g[T]],p[_[T]]);if(D!==0)return D}return Pe(g.length,_.length)}(n.mapValue,e.mapValue);default:throw Ae(23264,{le:t})}}function Lb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Pe(n,e);const t=ka(n),i=ka(e),s=Pe(t.seconds,i.seconds);return s!==0?s:Pe(t.nanos,i.nanos)}function jb(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const u=Wo(t[s],i[s]);if(u)return u}return Pe(t.length,i.length)}function Ko(n){return Lg(n)}function Lg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ka(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ma(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return be.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const u of t.values||[])s?s=!1:i+=",",i+=Lg(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",u=!0;for(const h of i)u?u=!1:s+=",",s+=`${h}:${Lg(t.fields[h])}`;return s+"}"}(n.mapValue):Ae(61005,{value:n})}function Gh(n){switch(Pa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nf(n);return e?16+Gh(e):16;case 5:return 2*n.stringValue.length;case 6:return Ma(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,u)=>s+Gh(u),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return Ba(i.fields,(u,h)=>{s+=u.length+Gh(h)}),s}(n.mapValue);default:throw Ae(13486,{value:n})}}function jg(n){return!!n&&"integerValue"in n}function Lp(n){return!!n&&"arrayValue"in n}function Ub(n){return!!n&&"nullValue"in n}function Bb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yh(n){return!!n&&"mapValue"in n}function qx(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ew])===null||t===void 0?void 0:t.stringValue)===Tw}function Du(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ba(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Du(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Du(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Gx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Fx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Yh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Du(t)}setAll(e){let t=hn.emptyPath(),i={},s=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,i,s),i={},s=[],t=m.popLast()}h?i[m.lastSegment()]=Du(h):s.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,i,s)}delete(e){const t=this.field(e.popLast());Yh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];Yh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){Ba(t,(s,u)=>e[s]=u);for(const s of i)delete e[s]}clone(){return new Nn(Du(this.value))}}function ww(n){const e=[];return Ba(n.fields,(t,i)=>{const s=new hn([t]);if(Yh(i)){const u=ww(i.mapValue).fields;if(u.length===0)e.push(s);else for(const h of u)e.push(s.child(h))}else e.push(s)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,t,i,s,u,h,m){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new vn(e,0,Ie.min(),Ie.min(),Ie.min(),Nn.empty(),0)}static newFoundDocument(e,t,i,s){return new vn(e,1,t,Ie.min(),i,s,0)}static newNoDocument(e,t){return new vn(e,2,t,Ie.min(),Ie.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new vn(e,3,t,Ie.min(),Ie.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,t){this.position=e,this.inclusive=t}}function zb(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const u=e[s],h=n.position[s];if(u.field.isKeyField()?i=be.comparator(be.fromName(h.referenceValue),t.key):i=Wo(h,t.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function Hb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Jr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,t="asc"){this.field=e,this.dir=t}}function Yx(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{}class Ft extends Sw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Qx(e,t,i):t==="array-contains"?new Xx(e,i):t==="in"?new Zx(e,i):t==="not-in"?new Jx(e,i):t==="array-contains-any"?new eO(e,i):new Ft(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Wx(e,i):new Kx(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Wo(t,this.value)):t!==null&&Pa(this.value)===Pa(t)&&this.matchesComparison(Wo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends Sw{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new ei(e,t)}matches(e){return Aw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Aw(n){return n.op==="and"}function Rw(n){return $x(n)&&Aw(n)}function $x(n){for(const e of n.filters)if(e instanceof ei)return!1;return!0}function Ug(n){if(n instanceof Ft)return n.field.canonicalString()+n.op.toString()+Ko(n.value);if(Rw(n))return n.filters.map(e=>Ug(e)).join(",");{const e=n.filters.map(t=>Ug(t)).join(",");return`${n.op}(${e})`}}function Cw(n,e){return n instanceof Ft?function(i,s){return s instanceof Ft&&i.op===s.op&&i.field.isEqual(s.field)&&Jr(i.value,s.value)}(n,e):n instanceof ei?function(i,s){return s instanceof ei&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((u,h,m)=>u&&Cw(h,s.filters[m]),!0):!1}(n,e):void Ae(19439)}function Iw(n){return n instanceof Ft?function(t){return`${t.field.canonicalString()} ${t.op} ${Ko(t.value)}`}(n):n instanceof ei?function(t){return t.op.toString()+" {"+t.getFilters().map(Iw).join(" ,")+"}"}(n):"Filter"}class Qx extends Ft{constructor(e,t,i){super(e,t,i),this.key=be.fromName(i.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class Wx extends Ft{constructor(e,t){super(e,"in",t),this.keys=Nw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Kx extends Ft{constructor(e,t){super(e,"not-in",t),this.keys=Nw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Nw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>be.fromName(i.referenceValue))}class Xx extends Ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Lp(t)&&Bu(t.arrayValue,this.value)}}class Zx extends Ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Bu(this.value.arrayValue,t)}}class Jx extends Ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Bu(this.value.arrayValue,t)}}class eO extends Ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Lp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Bu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,t=null,i=[],s=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=u,this.startAt=h,this.endAt=m,this.Pe=null}}function Fb(n,e=null,t=[],i=[],s=null,u=null,h=null){return new tO(n,e,t,i,s,u,h)}function jp(n){const e=Ne(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Ug(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(u){return u.field.canonicalString()+u.dir}(i)).join(","),If(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ko(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ko(i)).join(",")),e.Pe=t}return e.Pe}function Up(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Yx(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Cw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Hb(n.startAt,e.startAt)&&Hb(n.endAt,e.endAt)}function Bg(n){return be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,t=null,i=[],s=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function nO(n,e,t,i,s,u,h,m){return new Df(n,e,t,i,s,u,h,m)}function xf(n){return new Df(n)}function qb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function rO(n){return n.collectionGroup!==null}function xu(n){const e=Ne(n);if(e.Te===null){e.Te=[];const t=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),t.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new qt(hn.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Te.push(new hf(u,i))}),t.has(hn.keyField().canonicalString())||e.Te.push(new hf(hn.keyField(),i))}return e.Te}function $r(n){const e=Ne(n);return e.Ie||(e.Ie=iO(e,xu(n))),e.Ie}function iO(n,e){if(n.limitType==="F")return Fb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const u=s.dir==="desc"?"asc":"desc";return new hf(s.field,u)});const t=n.endAt?new cf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new cf(n.startAt.position,n.startAt.inclusive):null;return Fb(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function zg(n,e,t){return new Df(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Of(n,e){return Up($r(n),$r(e))&&n.limitType===e.limitType}function Dw(n){return`${jp($r(n))}|lt:${n.limitType}`}function Po(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>Iw(s)).join(", ")}]`),If(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Ko(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Ko(s)).join(",")),`Target(${i})`}($r(n))}; limitType=${n.limitType})`}function kf(n,e){return e.isFoundDocument()&&function(i,s){const u=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):be.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(n,e)&&function(i,s){for(const u of xu(i))if(!u.field.isKeyField()&&s.data.field(u.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const u of i.filters)if(!u.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(h,m,g){const p=zb(h,m,g);return h.inclusive?p<=0:p<0}(i.startAt,xu(i),s)||i.endAt&&!function(h,m,g){const p=zb(h,m,g);return h.inclusive?p>=0:p>0}(i.endAt,xu(i),s))}(n,e)}function aO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function xw(n){return(e,t)=>{let i=!1;for(const s of xu(n)){const u=sO(s,e,t);if(u!==0)return u;i=i||s.field.isKeyField()}return 0}}function sO(n,e,t){const i=n.field.isKeyField()?be.comparator(e.key,t.key):function(u,h,m){const g=h.data.field(u),p=m.data.field(u);return g!==null&&p!==null?Wo(g,p):Ae(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ae(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,u]of i)if(this.equalsFn(s,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ba(this.inner,(t,i)=>{for(const[s,u]of i)e(s,u)})}isEmpty(){return gw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=new Tt(be.comparator);function Ui(){return oO}const Ow=new Tt(be.comparator);function Su(...n){let e=Ow;for(const t of n)e=e.insert(t.key,t);return e}function kw(n){let e=Ow;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ss(){return Ou()}function Mw(){return Ou()}function Ou(){return new Ps(n=>n.toString(),(n,e)=>n.isEqual(e))}const lO=new Tt(be.comparator),uO=new qt(be.comparator);function ze(...n){let e=uO;for(const t of n)e=e.add(t);return e}const cO=new qt(Pe);function hO(){return cO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:of(e)?"-0":e}}function Pw(n){return{integerValue:""+n}}function fO(n,e){return jx(e)?Pw(e):Bp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(){this._=void 0}}function dO(n,e,t){return n instanceof zu?function(s,u){const h={fields:{[vw]:{stringValue:yw},[bw]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return u&&Vp(u)&&(u=Nf(u)),u&&(h.fields[_w]=u),{mapValue:h}}(t,e):n instanceof Xo?Lw(n,e):n instanceof Zo?jw(n,e):function(s,u){const h=Vw(s,u),m=Gb(h)+Gb(s.Ee);return jg(h)&&jg(s.Ee)?Pw(m):Bp(s.serializer,m)}(n,e)}function mO(n,e,t){return n instanceof Xo?Lw(n,e):n instanceof Zo?jw(n,e):t}function Vw(n,e){return n instanceof ff?function(i){return jg(i)||function(u){return!!u&&"doubleValue"in u}(i)}(e)?e:{integerValue:0}:null}class zu extends Mf{}class Xo extends Mf{constructor(e){super(),this.elements=e}}function Lw(n,e){const t=Uw(e);for(const i of n.elements)t.some(s=>Jr(s,i))||t.push(i);return{arrayValue:{values:t}}}class Zo extends Mf{constructor(e){super(),this.elements=e}}function jw(n,e){let t=Uw(e);for(const i of n.elements)t=t.filter(s=>!Jr(s,i));return{arrayValue:{values:t}}}class ff extends Mf{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Gb(n){return It(n.integerValue||n.doubleValue)}function Uw(n){return Lp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,t){this.field=e,this.transform=t}}function gO(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof Xo&&s instanceof Xo||i instanceof Zo&&s instanceof Zo?Qo(i.elements,s.elements,Jr):i instanceof ff&&s instanceof ff?Jr(i.Ee,s.Ee):i instanceof zu&&s instanceof zu}(n.transform,e.transform)}class pO{constructor(e,t){this.version=e,this.transformResults=t}}class Qr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qr}static exists(e){return new Qr(void 0,e)}static updateTime(e){return new Qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $h(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Pf{}function Bw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Hw(n.key,Qr.none()):new tc(n.key,n.data,Qr.none());{const t=n.data,i=Nn.empty();let s=new qt(hn.comparator);for(let u of e.fields)if(!s.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?i.delete(u):i.set(u,h),s=s.add(u)}return new za(n.key,i,new zn(s.toArray()),Qr.none())}}function yO(n,e,t){n instanceof tc?function(s,u,h){const m=s.value.clone(),g=$b(s.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(n,e,t):n instanceof za?function(s,u,h){if(!$h(s.precondition,u))return void u.convertToUnknownDocument(h.version);const m=$b(s.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(zw(s)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(n,e,t):function(s,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function ku(n,e,t,i){return n instanceof tc?function(u,h,m,g){if(!$h(u.precondition,h))return m;const p=u.value.clone(),_=Qb(u.fieldTransforms,g,h);return p.setAll(_),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof za?function(u,h,m,g){if(!$h(u.precondition,h))return m;const p=Qb(u.fieldTransforms,g,h),_=h.data;return _.setAll(zw(u)),_.setAll(p),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(u,h,m){return $h(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(n,e,t)}function vO(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),u=Vw(i.transform,s||null);u!=null&&(t===null&&(t=Nn.empty()),t.set(i.field,u))}return t||null}function Yb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Qo(i,s,(u,h)=>gO(u,h))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class tc extends Pf{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class za extends Pf{constructor(e,t,i,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function zw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function $b(n,e,t){const i=new Map;Ze(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let s=0;s<t.length;s++){const u=n[s],h=u.transform,m=e.data.field(u.field);i.set(u.field,mO(h,m,t[s]))}return i}function Qb(n,e,t){const i=new Map;for(const s of n){const u=s.transform,h=t.data.field(s.field);i.set(s.field,dO(u,h,e))}return i}class Hw extends Pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _O extends Pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&yO(u,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ku(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ku(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Mw();return this.mutations.forEach(s=>{const u=e.get(s.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(s.key)?null:m;const g=Bw(h,m);g!==null&&i.set(s.key,g),h.isValidDocument()||h.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ze())}isEqual(e){return this.batchId===e.batchId&&Qo(this.mutations,e.mutations,(t,i)=>Yb(t,i))&&Qo(this.baseMutations,e.baseMutations,(t,i)=>Yb(t,i))}}class Hp{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){Ze(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let s=function(){return lO}();const u=e.mutations;for(let h=0;h<u.length;h++)s=s.insert(u[h].key,i[h].version);return new Hp(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Ge;function wO(n){switch(n){case re.OK:return Ae(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ae(15467,{code:n})}}function Fw(n){if(n===void 0)return ji("GRPC error has no .code"),re.UNKNOWN;switch(n){case Pt.OK:return re.OK;case Pt.CANCELLED:return re.CANCELLED;case Pt.UNKNOWN:return re.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return re.INTERNAL;case Pt.UNAVAILABLE:return re.UNAVAILABLE;case Pt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Pt.NOT_FOUND:return re.NOT_FOUND;case Pt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Pt.ABORTED:return re.ABORTED;case Pt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Pt.DATA_LOSS:return re.DATA_LOSS;default:return Ae(39323,{code:n})}}(Ge=Pt||(Pt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=new Ia([4294967295,4294967295],0);function Wb(n){const e=hw().encode(n),t=new rw;return t.update(e),new Uint8Array(t.digest())}function Kb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ia([t,i],0),new Ia([s,u],0)]}class Fp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Au(`Invalid padding: ${t}`);if(i<0)throw new Au(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Au(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Au(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Ia.fromNumber(this.fe)}pe(e,t,i){let s=e.add(t.multiply(Ia.fromNumber(i)));return s.compare(SO)===1&&(s=new Ia([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=Wb(e),[i,s]=Kb(t);for(let u=0;u<this.hashCount;u++){const h=this.pe(i,s,u);if(!this.ye(h))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Fp(u,s,t);return i.forEach(m=>h.insert(m)),h}insert(e){if(this.fe===0)return;const t=Wb(e),[i,s]=Kb(t);for(let u=0;u<this.hashCount;u++){const h=this.pe(i,s,u);this.we(h)}}we(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,t,i,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,nc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Vf(Ie.min(),s,new Tt(Pe),Ui(),ze())}}class nc{constructor(e,t,i,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new nc(i,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,t,i,s){this.Se=e,this.removedTargetIds=t,this.key=i,this.be=s}}class qw{constructor(e,t){this.targetId=e,this.De=t}}class Gw{constructor(e,t,i=dn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class Xb{constructor(){this.ve=0,this.Ce=Zb(),this.Fe=dn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ze(),t=ze(),i=ze();return this.Ce.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:Ae(38017,{changeType:u})}}),new nc(this.Fe,this.Me,e,t,i)}ke(){this.xe=!1,this.Ce=Zb()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class AO{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ui(),this.je=Oh(),this.Je=Oh(),this.He=new Tt(Pe)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const i=this.tt(t);switch(e.state){case 0:this.nt(t)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),i.Be(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((i,s)=>{this.nt(s)&&t(s)})}it(e){const t=e.targetId,i=e.De.count,s=this.st(t);if(s){const u=s.target;if(Bg(u))if(i===0){const h=new be(u.path);this.Xe(t,h,vn.newNoDocument(h,Ie.min()))}else Ze(i===1,20013,{expectedCount:i});else{const h=this.ot(t);if(h!==i){const m=this._t(e),g=m?this.ut(m,e,h):1;if(g!==0){this.rt(t);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,p)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:u=0}=t;let h,m;try{h=Ma(i).toUint8Array()}catch(g){if(g instanceof pw)return xa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Fp(h,s,u)}catch(g){return xa(g instanceof Au?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.fe===0?null:m}ut(e,t,i){return t.De.count===i-this.ht(e,t.targetId)?0:2}ht(e,t){const i=this.We.getRemoteKeysForTarget(t);let s=0;return i.forEach(u=>{const h=this.We.lt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(t,u,null),s++)}),s}Pt(e){const t=new Map;this.Ge.forEach((u,h)=>{const m=this.st(h);if(m){if(u.current&&Bg(m.target)){const g=new be(m.target.path);this.Tt(g).has(h)||this.It(h,g)||this.Xe(h,g,vn.newNoDocument(g,e))}u.Ne&&(t.set(h,u.Le()),u.ke())}});let i=ze();this.Je.forEach((u,h)=>{let m=!0;h.forEachWhile(g=>{const p=this.st(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(i=i.add(u))}),this.ze.forEach((u,h)=>h.setReadTime(e));const s=new Vf(e,t,this.He,this.ze,i);return this.ze=Ui(),this.je=Oh(),this.Je=Oh(),this.He=new Tt(Pe),s}Ze(e,t){if(!this.nt(e))return;const i=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,i),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,i){if(!this.nt(e))return;const s=this.tt(e);this.It(e,t)?s.qe(t,1):s.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),i&&(this.ze=this.ze.insert(t,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Xb,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new qt(Pe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new qt(Pe),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Xb),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Oh(){return new Tt(be.comparator)}function Zb(){return new Tt(be.comparator)}const RO={asc:"ASCENDING",desc:"DESCENDING"},CO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IO={and:"AND",or:"OR"};class NO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Hg(n,e){return n.useProto3Json||If(e)?e:{value:e}}function df(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function DO(n,e){return df(n,e.toTimestamp())}function Wr(n){return Ze(!!n,49232),Ie.fromTimestamp(function(t){const i=ka(t);return new dt(i.seconds,i.nanos)}(n))}function qp(n,e){return Fg(n,e).canonicalString()}function Fg(n,e){const t=function(s){return new ft(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function $w(n){const e=ft.fromString(n);return Ze(Zw(e),10190,{key:e.toString()}),e}function qg(n,e){return qp(n.databaseId,e.path)}function cg(n,e){const t=$w(e);if(t.get(1)!==n.databaseId.projectId)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new be(Ww(t))}function Qw(n,e){return qp(n.databaseId,e)}function xO(n){const e=$w(n);return e.length===4?ft.emptyPath():Ww(e)}function Gg(n){return new ft(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ww(n){return Ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Jb(n,e,t){return{name:qg(n,e),fields:t.value.mapValue.fields}}function OO(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],u=function(p,_){return p.useProto3Json?(Ze(_===void 0||typeof _=="string",58123),dn.fromBase64String(_||"")):(Ze(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),dn.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(p){const _=p.code===void 0?re.UNKNOWN:Fw(p.code);return new me(_,p.message||"")}(h);t=new Gw(i,s,u,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=cg(n,i.document.name),u=Wr(i.document.updateTime),h=i.document.createTime?Wr(i.document.createTime):Ie.min(),m=new Nn({mapValue:{fields:i.document.fields}}),g=vn.newFoundDocument(s,u,h,m),p=i.targetIds||[],_=i.removedTargetIds||[];t=new Qh(p,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=cg(n,i.document),u=i.readTime?Wr(i.readTime):Ie.min(),h=vn.newNoDocument(s,u),m=i.removedTargetIds||[];t=new Qh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=cg(n,i.document),u=i.removedTargetIds||[];t=new Qh([],u,s,null)}else{if(!("filter"in e))return Ae(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:u}=i,h=new TO(s,u),m=i.targetId;t=new qw(m,h)}}return t}function kO(n,e){let t;if(e instanceof tc)t={update:Jb(n,e.key,e.value)};else if(e instanceof Hw)t={delete:qg(n,e.key)};else if(e instanceof za)t={update:Jb(n,e.key,e.data),updateMask:HO(e.fieldMask)};else{if(!(e instanceof _O))return Ae(16599,{Rt:e.type});t={verify:qg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(u,h){const m=h.transform;if(m instanceof zu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Xo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Zo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ff)return{fieldPath:h.field.canonicalString(),increment:m.Ee};throw Ae(20930,{transform:h.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,u){return u.updateTime!==void 0?{updateTime:DO(s,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)}(n,e.precondition)),t}function MO(n,e){return n&&n.length>0?(Ze(e!==void 0,14353),n.map(t=>function(s,u){let h=s.updateTime?Wr(s.updateTime):Wr(u);return h.isEqual(Ie.min())&&(h=Wr(u)),new pO(h,s.transformResults||[])}(t,e))):[]}function PO(n,e){return{documents:[Qw(n,e.path)]}}function VO(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Qw(n,s);const u=function(p){if(p.length!==0)return Xw(ei.create(p,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(p){if(p.length!==0)return p.map(_=>function(S){return{field:Vo(S.field),direction:UO(S.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=Hg(n,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{Vt:t,parent:s}}function LO(n){let e=xO(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){Ze(i===1,65062);const _=t.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=function(T){const S=Kw(T);return S instanceof ei&&Rw(S)?S.getFilters():[S]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(S=>function(V){return new hf(Lo(V.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(S))}(t.orderBy));let m=null;t.limit&&(m=function(T){let S;return S=typeof T=="object"?T.value:T,If(S)?null:S}(t.limit));let g=null;t.startAt&&(g=function(T){const S=!!T.before,D=T.values||[];return new cf(D,S)}(t.startAt));let p=null;return t.endAt&&(p=function(T){const S=!T.before,D=T.values||[];return new cf(D,S)}(t.endAt)),nO(e,s,h,u,m,"F",g,p)}function jO(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Kw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Lo(t.unaryFilter.field);return Ft.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Lo(t.unaryFilter.field);return Ft.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Lo(t.unaryFilter.field);return Ft.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Lo(t.unaryFilter.field);return Ft.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ft.create(Lo(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ei.create(t.compositeFilter.filters.map(i=>Kw(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(t.compositeFilter.op))}(n):Ae(30097,{filter:n})}function UO(n){return RO[n]}function BO(n){return CO[n]}function zO(n){return IO[n]}function Vo(n){return{fieldPath:n.canonicalString()}}function Lo(n){return hn.fromServerFormat(n.fieldPath)}function Xw(n){return n instanceof Ft?function(t){if(t.op==="=="){if(Bb(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NAN"}};if(Ub(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Bb(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NAN"}};if(Ub(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(t.field),op:BO(t.op),value:t.value}}}(n):n instanceof ei?function(t){const i=t.getFilters().map(s=>Xw(s));return i.length===1?i[0]:{compositeFilter:{op:zO(t.op),filters:i}}}(n):Ae(54877,{filter:n})}function HO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Zw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t,i,s,u=Ie.min(),h=Ie.min(),m=dn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.gt=e}}function qO(n){const e=LO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?zg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.Dn=new YO}addToCollectionParentIndex(e,t){return this.Dn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Oa.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Oa.min())}updateCollectionGroup(e,t,i){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class YO{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new qt(ft.comparator),u=!s.has(i);return this.index[t]=s.add(i),u}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new qt(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jw=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(Jw,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Jo(0)}static ur(){return new Jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="LruGarbageCollector",$O=1048576;function nE([n,e],[t,i]){const s=Pe(n,t);return s===0?Pe(e,i):s}class QO{constructor(e){this.Tr=e,this.buffer=new qt(nE),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();nE(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class WO{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ce(tE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ul(t)?ce(tE,"Ignoring IndexedDB error during garbage collection: ",t):await ll(t)}await this.Rr(3e5)})}}class KO{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Cf.ue);const i=new QO(t);return this.Vr.forEachTarget(e,s=>i.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>i.Er(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(eE)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eE):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let i,s,u,h,m,g,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),s=this.params.maximumSequenceNumbersToCollect):s=T,h=Date.now(),this.nthSequenceNumber(e,s))).next(T=>(i=T,m=Date.now(),this.removeTargets(e,i,t))).next(T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(p=Date.now(),Mo()<=Be.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${s} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(p-g)+`ms
Total Duration: ${p-_}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:T})))}}function XO(n,e){return new KO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.changes=new Ps(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?te.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&ku(i.mutation,s,zn.empty(),dt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ze()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ze()){const s=Ss();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(u=>{let h=Su();return u.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=Ss();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ze()))}populateOverlays(e,t,i){const s=[];return i.forEach(u=>{t.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,i,s){let u=Ui();const h=Ou(),m=function(){return Ou()}();return t.forEach((g,p)=>{const _=i.get(p.key);s.has(p.key)&&(_===void 0||_.mutation instanceof za)?u=u.insert(p.key,p):_!==void 0?(h.set(p.key,_.mutation.getFieldMask()),ku(_.mutation,p,_.mutation.getFieldMask(),dt.now())):h.set(p.key,zn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((p,_)=>h.set(p,_)),t.forEach((p,_)=>{var T;return m.set(p,new JO(_,(T=h.get(p))!==null&&T!==void 0?T:null))}),m))}recalculateAndSaveOverlays(e,t){const i=Ou();let s=new Tt((h,m)=>h-m),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(g=>{const p=t.get(g);if(p===null)return;let _=i.get(g)||zn.empty();_=m.applyToLocalView(p,_),i.set(g,_);const T=(s.get(m.batchId)||ze()).add(g);s=s.insert(m.batchId,T)})}).next(()=>{const h=[],m=s.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,_=g.value,T=Mw();_.forEach(S=>{if(!u.has(S)){const D=Bw(t.get(S),i.get(S));D!==null&&T.set(S,D),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,p,T))}return te.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(h){return be.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):rO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(u=>{const h=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-u.size):te.resolve(Ss());let m=Lu,g=u;return h.next(p=>te.forEach(p,(_,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(_)?te.resolve():this.remoteDocumentCache.getEntry(e,_).next(S=>{g=g.insert(_,S)}))).next(()=>this.populateOverlays(e,p,u)).next(()=>this.computeViews(e,g,p,ze())).next(_=>({batchId:m,changes:kw(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next(i=>{let s=Su();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const u=t.collectionGroup;let h=Su();return this.indexManager.getCollectionParents(e,u).next(m=>te.forEach(m,g=>{const p=function(T,S){return new Df(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,i,s).next(_=>{_.forEach((T,S)=>{h=h.insert(T,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,s){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,u,s))).next(h=>{u.forEach((g,p)=>{const _=p.getKey();h.get(_)===null&&(h=h.insert(_,vn.newInvalidDocument(_)))});let m=Su();return h.forEach((g,p)=>{const _=u.get(g);_!==void 0&&ku(_.mutation,p,zn.empty(),dt.now()),kf(t,p)&&(m=m.insert(g,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return te.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Wr(s.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(s){return{name:s.name,query:qO(s.bundledQuery),readTime:Wr(s.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this.overlays=new Tt(be.comparator),this.kr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ss();return te.forEach(t,s=>this.getOverlay(e,s).next(u=>{u!==null&&i.set(s,u)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,u)=>{this.wt(e,t,u)}),te.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.kr.get(i);return s!==void 0&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(i)),te.resolve()}getOverlaysForCollection(e,t,i){const s=Ss(),u=t.length+1,h=new be(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>i&&s.set(g.getKey(),g)}return te.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let u=new Tt((p,_)=>p-_);const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let _=u.get(p.largestBatchId);_===null&&(_=Ss(),u=u.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const m=Ss(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,_)=>m.set(p,_)),!(m.size()>=s)););return te.resolve(m)}wt(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const h=this.kr.get(s.largestBatchId).delete(i.key);this.kr.set(s.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new EO(t,i));let u=this.kr.get(t);u===void 0&&(u=ze(),this.kr.set(t,u)),this.kr.set(t,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(){this.qr=new qt(Zt.Qr),this.$r=new qt(Zt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const i=new Zt(e,t);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Wr(new Zt(e,t))}Gr(e,t){e.forEach(i=>this.removeReference(i,t))}zr(e){const t=new be(new ft([])),i=new Zt(t,e),s=new Zt(t,e+1),u=[];return this.$r.forEachInRange([i,s],h=>{this.Wr(h),u.push(h.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new be(new ft([])),i=new Zt(t,e),s=new Zt(t,e+1);let u=ze();return this.$r.forEachInRange([i,s],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Zt(e,0),i=this.qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Zt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return be.comparator(e.key,t.key)||Pe(e.Hr,t.Hr)}static Ur(e,t){return Pe(e.Hr,t.Hr)||be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new qt(Zt.Qr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new bO(u,t,i,s);this.mutationQueue.push(h);for(const m of s)this.Yr=this.Yr.add(new Zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,t){return te.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Xr(i),u=s<0?0:s;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Pp:this.er-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Zt(t,0),s=new Zt(t,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([i,s],h=>{const m=this.Zr(h.Hr);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new qt(Pe);return t.forEach(s=>{const u=new Zt(s,0),h=new Zt(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],m=>{i=i.add(m.Hr)})}),te.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let u=i;be.isDocumentKey(u)||(u=u.child(""));const h=new Zt(new be(u),0);let m=new qt(Pe);return this.Yr.forEachWhile(g=>{const p=g.key.path;return!!i.isPrefixOf(p)&&(p.length===s&&(m=m.add(g.Hr)),!0)},h),te.resolve(this.ei(m))}ei(e){const t=[];return e.forEach(i=>{const s=this.Zr(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Ze(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return te.forEach(t.mutations,s=>{const u=new Zt(s.key,t.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,t){const i=new Zt(t,0),s=this.Yr.firstAfterOrEqual(i);return te.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.ni=e,this.docs=function(){return new Tt(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),u=s?s.size:0,h=this.ni(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return te.resolve(i?i.document.mutableCopy():vn.newInvalidDocument(t))}getEntries(e,t){let i=Ui();return t.forEach(s=>{const u=this.docs.get(s);i=i.insert(s,u?u.document.mutableCopy():vn.newInvalidDocument(s))}),te.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let u=Ui();const h=t.path,m=new be(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:_}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||Mx(kx(_),i)<=0||(s.has(_.key)||kf(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,t,i,s){Ae(9500)}ri(e,t){return te.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new sk(this)}getSize(e){return te.resolve(this.size)}}class sk extends ZO{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.Or.addEntry(e,s)):this.Or.removeEntry(i)}),te.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this.persistence=e,this.ii=new Ps(t=>jp(t),Up),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.si=0,this.oi=new Gp,this.targetCount=0,this._i=Jo.ar()}forEachTarget(e,t){return this.ii.forEach((i,s)=>t(s)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.si&&(this.si=t),te.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Jo(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.hr(t),te.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,i){let s=0;const u=[];return this.ii.forEach((h,m)=>{m.sequenceNumber<=t&&i.get(m.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),s++)}),te.waitFor(u).next(()=>s)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const i=this.ii.get(t)||null;return te.resolve(i)}addMatchingKeys(e,t,i){return this.oi.Kr(t,i),te.resolve()}removeMatchingKeys(e,t,i){this.oi.Gr(t,i);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(h=>{u.push(s.markPotentiallyOrphaned(e,h))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const i=this.oi.Jr(t);return te.resolve(i)}containsKey(e,t){return te.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,t){this.ai={},this.overlays={},this.ui=new Cf(0),this.ci=!1,this.ci=!0,this.li=new rk,this.referenceDelegate=e(this),this.hi=new ok(this),this.indexManager=new GO,this.remoteDocumentCache=function(s){return new ak(s)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new FO(t),this.Ti=new tk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ai[e.toKey()];return i||(i=new ik(t,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,i){ce("MemoryPersistence","Starting transaction:",e);const s=new lk(this.ui.next());return this.referenceDelegate.Ii(),i(s).next(u=>this.referenceDelegate.di(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Ei(e,t){return te.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,t)))}}class lk extends Vx{constructor(e){super(),this.currentSequenceNumber=e}}class Yp{constructor(e){this.persistence=e,this.Ai=new Gp,this.Ri=null}static Vi(e){return new Yp(e)}get mi(){if(this.Ri)return this.Ri;throw Ae(60996)}addReference(e,t,i){return this.Ai.addReference(i,t),this.mi.delete(i.toString()),te.resolve()}removeReference(e,t,i){return this.Ai.removeReference(i,t),this.mi.add(i.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(s=>this.mi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.mi.add(u.toString()))}).next(()=>i.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.mi,i=>{const s=be.fromPath(i);return this.fi(e,s).next(u=>{u||t.removeEntry(s,Ie.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(i=>{i?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return te.or([()=>te.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class mf{constructor(e,t){this.persistence=e,this.gi=new Ps(i=>Ux(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=XO(this,t)}static Vi(e,t){return new mf(e,t)}Ii(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}yr(e){let t=0;return this.gr(e,i=>{t++}).next(()=>t)}gr(e,t){return te.forEach(this.gi,(i,s)=>this.Sr(e,i,s).next(u=>u?te.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),u=s.newChangeBuffer();return s.ri(e,h=>this.Sr(e,h,t).next(m=>{m||(i++,u.removeEntry(h,Ie.min()))})).next(()=>u.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),te.resolve()}removeReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),te.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Gh(e.data.value)),t}Sr(e,t,i){return te.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.gi.get(t);return te.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Is=i,this.ds=s}static Es(e,t){let i=ze(),s=ze();for(const u of t.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new $p(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return zC()?8:Lx(_n())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,i,s){const u={result:null};return this.ps(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ys(e,t,s,i).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new uk;return this.ws(e,t,h).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,t,h,m.size)})}).next(()=>u.result)}Ss(e,t,i,s){return i.documentReadCount<this.Vs?(Mo()<=Be.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Po(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(Mo()<=Be.DEBUG&&ce("QueryEngine","Query:",Po(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.fs*s?(Mo()<=Be.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Po(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$r(t))):te.resolve())}ps(e,t){if(qb(t))return te.resolve(null);let i=$r(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=zg(t,null,"F"),i=$r(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(u=>{const h=ze(...u);return this.gs.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,i).next(g=>{const p=this.bs(t,m);return this.Ds(t,p,h,g.readTime)?this.ps(e,zg(t,null,"F")):this.vs(e,p,t,g)}))})))}ys(e,t,i,s){return qb(t)||s.isEqual(Ie.min())?te.resolve(null):this.gs.getDocuments(e,i).next(u=>{const h=this.bs(t,u);return this.Ds(t,h,i,s)?te.resolve(null):(Mo()<=Be.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Po(t)),this.vs(e,h,t,Ox(s,Lu)).next(m=>m))})}bs(e,t){let i=new qt(xw(e));return t.forEach((s,u)=>{kf(e,u)&&(i=i.add(u))}),i}Ds(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}ws(e,t,i){return Mo()<=Be.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Po(t)),this.gs.getDocumentsMatchingQuery(e,t,Oa.min(),i)}vs(e,t,i,s){return this.gs.getDocumentsMatchingQuery(e,i,s).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="LocalStore",hk=3e8;class fk{constructor(e,t,i,s){this.persistence=e,this.Cs=t,this.serializer=s,this.Fs=new Tt(Pe),this.Ms=new Ps(u=>jp(u),Up),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ek(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function dk(n,e,t,i){return new fk(n,e,t,i)}async function tS(n,e){const t=Ne(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(u=>(s=u,t.Ns(e),t.mutationQueue.getAllMutationBatches(i))).next(u=>{const h=[],m=[];let g=ze();for(const p of s){h.push(p.batchId);for(const _ of p.mutations)g=g.add(_.key)}for(const p of u){m.push(p.batchId);for(const _ of p.mutations)g=g.add(_.key)}return t.localDocuments.getDocuments(i,g).next(p=>({Bs:p,removedBatchIds:h,addedBatchIds:m}))})})}function mk(n,e){const t=Ne(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),u=t.Os.newChangeBuffer({trackRemovals:!0});return function(m,g,p,_){const T=p.batch,S=T.keys();let D=te.resolve();return S.forEach(V=>{D=D.next(()=>_.getEntry(g,V)).next(z=>{const U=p.docVersions.get(V);Ze(U!==null,48541),z.version.compareTo(U)<0&&(T.applyToRemoteDocument(z,p),z.isValidDocument()&&(z.setReadTime(p.commitVersion),_.addEntry(z)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(g,T))}(t,i,e,u).next(()=>u.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(m){let g=ze();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function nS(n){const e=Ne(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function gk(n,e){const t=Ne(n),i=e.snapshotVersion;let s=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Os.newChangeBuffer({trackRemovals:!0});s=t.Fs;const m=[];e.targetChanges.forEach((_,T)=>{const S=s.get(T);if(!S)return;m.push(t.hi.removeMatchingKeys(u,_.removedDocuments,T).next(()=>t.hi.addMatchingKeys(u,_.addedDocuments,T)));let D=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?D=D.withResumeToken(dn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,i)),s=s.insert(T,D),function(z,U,G){return z.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=hk?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(S,D,_)&&m.push(t.hi.updateTargetData(u,D))});let g=Ui(),p=ze();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))}),m.push(pk(u,h,e.documentUpdates).next(_=>{g=_.Ls,p=_.ks})),!i.isEqual(Ie.min())){const _=t.hi.getLastRemoteSnapshotVersion(u).next(T=>t.hi.setTargetsMetadata(u,u.currentSequenceNumber,i));m.push(_)}return te.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,g,p)).next(()=>g)}).then(u=>(t.Fs=s,u))}function pk(n,e,t){let i=ze(),s=ze();return t.forEach(u=>i=i.add(u)),e.getEntries(n,i).next(u=>{let h=Ui();return t.forEach((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(m)),g.isNoDocument()&&g.version.isEqual(Ie.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):ce(Qp,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)}),{Ls:h,ks:s}})}function yk(n,e){const t=Ne(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Pp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function vk(n,e){const t=Ne(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.hi.getTargetData(i,e).next(u=>u?(s=u,te.resolve(s)):t.hi.allocateTargetId(i).next(h=>(s=new Sa(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.hi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.Fs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(i.targetId,i),t.Ms.set(e,i.targetId)),i})}async function Yg(n,e,t){const i=Ne(n),s=i.Fs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",u,h=>i.persistence.referenceDelegate.removeTarget(h,s))}catch(h){if(!ul(h))throw h;ce(Qp,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(s.target)}function rE(n,e,t){const i=Ne(n);let s=Ie.min(),u=ze();return i.persistence.runTransaction("Execute query","readwrite",h=>function(g,p,_){const T=Ne(g),S=T.Ms.get(_);return S!==void 0?te.resolve(T.Fs.get(S)):T.hi.getTargetData(p,_)}(i,h,$r(e)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(h,m.targetId).next(g=>{u=g})}).next(()=>i.Cs.getDocumentsMatchingQuery(h,e,t?s:Ie.min(),t?u:ze())).next(m=>(_k(i,aO(e),m),{documents:m,qs:u})))}function _k(n,e,t){let i=n.xs.get(e)||Ie.min();t.forEach((s,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)}),n.xs.set(e,i)}class iE{constructor(){this.activeTargetIds=hO()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bk{constructor(){this.Fo=new iE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,i){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new iE,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="ConnectivityMonitor";class sE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ce(aE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ce(aE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh=null;function $g(){return kh===null?kh=function(){return 268435456+Math.round(2147483648*Math.random())}():kh++,"0x"+kh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="RestConnection",Tk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wk{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${i}/databases/${s}`,this.Ko=this.databaseId.database===lf?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Wo(e,t,i,s,u){const h=$g(),m=this.Go(e,t.toUriEncodedString());ce(hg,`Sending RPC '${e}' ${h}:`,m,i);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,s,u);const{host:p}=new URL(m),_=il(p);return this.jo(e,m,g,i,_).then(T=>(ce(hg,`Received RPC '${e}' ${h}: `,T),T),T=>{throw xa(hg,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",i),T})}Jo(e,t,i,s,u,h){return this.Wo(e,t,i,s,u)}zo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ol}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),i&&i.headers.forEach((s,u)=>e[u]=s)}Go(e,t){const i=Tk[e];return`${this.$o}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class Ak extends wk{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,i,s,u){const h=$g();return new Promise((m,g)=>{const p=new iw;p.setWithCredentials(!0),p.listenOnce(aw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case qh.NO_ERROR:const T=p.getResponseJson();ce(pn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case qh.TIMEOUT:ce(pn,`RPC '${e}' ${h} timed out`),g(new me(re.DEADLINE_EXCEEDED,"Request time out"));break;case qh.HTTP_ERROR:const S=p.getStatus();if(ce(pn,`RPC '${e}' ${h} failed with status:`,S,"response text:",p.getResponseText()),S>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const V=D?.error;if(V&&V.status&&V.message){const z=function(G){const $=G.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf($)>=0?$:re.UNKNOWN}(V.status);g(new me(z,V.message))}else g(new me(re.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new me(re.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{c_:e,streamId:h,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{ce(pn,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(s);ce(pn,`RPC '${e}' ${h} sending request:`,s),p.send(t,"POST",_,i,15)})}P_(e,t,i){const s=$g(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=lw(),m=ow(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const _=u.join("");ce(pn,`Creating RPC '${e}' stream ${s}: ${_}`,g);const T=h.createWebChannel(_,g);this.T_(T);let S=!1,D=!1;const V=new Sk({Ho:U=>{D?ce(pn,`Not sending because RPC '${e}' stream ${s} is closed:`,U):(S||(ce(pn,`Opening RPC '${e}' stream ${s} transport.`),T.open(),S=!0),ce(pn,`RPC '${e}' stream ${s} sending:`,U),T.send(U))},Yo:()=>T.close()}),z=(U,G,$)=>{U.listen(G,ne=>{try{$(ne)}catch(he){setTimeout(()=>{throw he},0)}})};return z(T,wu.EventType.OPEN,()=>{D||(ce(pn,`RPC '${e}' stream ${s} transport opened.`),V.s_())}),z(T,wu.EventType.CLOSE,()=>{D||(D=!0,ce(pn,`RPC '${e}' stream ${s} transport closed`),V.__(),this.I_(T))}),z(T,wu.EventType.ERROR,U=>{D||(D=!0,xa(pn,`RPC '${e}' stream ${s} transport errored. Name:`,U.name,"Message:",U.message),V.__(new me(re.UNAVAILABLE,"The operation could not be completed")))}),z(T,wu.EventType.MESSAGE,U=>{var G;if(!D){const $=U.data[0];Ze(!!$,16349);const ne=$,he=ne?.error||((G=ne[0])===null||G===void 0?void 0:G.error);if(he){ce(pn,`RPC '${e}' stream ${s} received error:`,he);const fe=he.status;let ge=function(C){const O=Pt[C];if(O!==void 0)return Fw(O)}(fe),M=he.message;ge===void 0&&(ge=re.INTERNAL,M="Unknown error status: "+fe+" with message "+he.message),D=!0,V.__(new me(ge,M)),T.close()}else ce(pn,`RPC '${e}' stream ${s} received:`,$),V.a_($)}}),z(m,sw.STAT_EVENT,U=>{U.stat===Pg.PROXY?ce(pn,`RPC '${e}' stream ${s} detected buffering proxy`):U.stat===Pg.NOPROXY&&ce(pn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{V.o_()},0),V}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function fg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(n){return new NO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,t,i=1e3,s=1.5,u=6e4){this.Fi=e,this.timerId=t,this.d_=i,this.E_=s,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),s=Math.max(0,t-i);s>0&&ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="PersistentStream";class iS{constructor(e,t,i,s,u,h,m,g){this.Fi=e,this.w_=i,this.S_=s,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new rS(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(ji(t.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.b_===t&&this.W_(i,s)},i=>{e(()=>{const s=new me(re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(s)})})}W_(e,t){const i=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{i(()=>this.G_(s))}),this.stream.onMessage(s=>{i(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ce(oE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(ce(oE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Rk extends iS{constructor(e,t,i,s,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,h),this.serializer=u}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=OO(this.serializer,e),i=function(u){if(!("targetChange"in u))return Ie.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ie.min():h.readTime?Wr(h.readTime):Ie.min()}(e);return this.listener.J_(t,i)}H_(e){const t={};t.database=Gg(this.serializer),t.addTarget=function(u,h){let m;const g=h.target;if(m=Bg(g)?{documents:PO(u,g)}:{query:VO(u,g).Vt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Yw(u,h.resumeToken);const p=Hg(u,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(Ie.min())>0){m.readTime=df(u,h.snapshotVersion.toTimestamp());const p=Hg(u,h.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const i=jO(this.serializer,e);i&&(t.labels=i),this.k_(t)}Y_(e){const t={};t.database=Gg(this.serializer),t.removeTarget=e,this.k_(t)}}class Ck extends iS{constructor(e,t,i,s,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=MO(e.writeResults,e.commitTime),i=Wr(e.commitTime);return this.listener.ta(i,t)}na(){const e={};e.database=Gg(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>kO(this.serializer,i))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{}class Nk extends Ik{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,Fg(t,i),s,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(re.UNKNOWN,u.toString())})}Jo(e,t,i,s,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Jo(e,Fg(t,i),s,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new me(re.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Dk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ji(t),this._a=!1):ce("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="RemoteStore";class xk{constructor(e,t,i,s,u){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(h=>{i.enqueueAndForget(async()=>{Vs(this)&&(ce(xs,"Restarting streams for network reachability change."),await async function(g){const p=Ne(g);p.Ia.add(4),await rc(p),p.Aa.set("Unknown"),p.Ia.delete(4),await jf(p)}(this))})}),this.Aa=new Dk(i,s)}}async function jf(n){if(Vs(n))for(const e of n.da)await e(!0)}async function rc(n){for(const e of n.da)await e(!1)}function aS(n,e){const t=Ne(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Zp(t)?Xp(t):cl(t).x_()&&Kp(t,e))}function Wp(n,e){const t=Ne(n),i=cl(t);t.Ta.delete(e),i.x_()&&sS(t,e),t.Ta.size===0&&(i.x_()?i.B_():Vs(t)&&t.Aa.set("Unknown"))}function Kp(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}cl(n).H_(e)}function sS(n,e){n.Ra.$e(e),cl(n).Y_(e)}function Xp(n){n.Ra=new AO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),cl(n).start(),n.Aa.aa()}function Zp(n){return Vs(n)&&!cl(n).M_()&&n.Ta.size>0}function Vs(n){return Ne(n).Ia.size===0}function oS(n){n.Ra=void 0}async function Ok(n){n.Aa.set("Online")}async function kk(n){n.Ta.forEach((e,t)=>{Kp(n,e)})}async function Mk(n,e){oS(n),Zp(n)?(n.Aa.la(e),Xp(n)):n.Aa.set("Unknown")}async function Pk(n,e,t){if(n.Aa.set("Online"),e instanceof Gw&&e.state===2&&e.cause)try{await async function(s,u){const h=u.cause;for(const m of u.targetIds)s.Ta.has(m)&&(await s.remoteSyncer.rejectListen(m,h),s.Ta.delete(m),s.Ra.removeTarget(m))}(n,e)}catch(i){ce(xs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await gf(n,i)}else if(e instanceof Qh?n.Ra.Ye(e):e instanceof qw?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Ie.min()))try{const i=await nS(n.localStore);t.compareTo(i)>=0&&await function(u,h){const m=u.Ra.Pt(h);return m.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const _=u.Ta.get(p);_&&u.Ta.set(p,_.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,p)=>{const _=u.Ta.get(g);if(!_)return;u.Ta.set(g,_.withResumeToken(dn.EMPTY_BYTE_STRING,_.snapshotVersion)),sS(u,g);const T=new Sa(_.target,g,p,_.sequenceNumber);Kp(u,T)}),u.remoteSyncer.applyRemoteEvent(m)}(n,t)}catch(i){ce(xs,"Failed to raise snapshot:",i),await gf(n,i)}}async function gf(n,e,t){if(!ul(e))throw e;n.Ia.add(1),await rc(n),n.Aa.set("Offline"),t||(t=()=>nS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce(xs,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await jf(n)})}function lS(n,e){return e().catch(t=>gf(n,t,e))}async function Uf(n){const e=Ne(n),t=Va(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Pp;for(;Vk(e);)try{const s=await yk(e.localStore,i);if(s===null){e.Pa.length===0&&t.B_();break}i=s.batchId,Lk(e,s)}catch(s){await gf(e,s)}uS(e)&&cS(e)}function Vk(n){return Vs(n)&&n.Pa.length<10}function Lk(n,e){n.Pa.push(e);const t=Va(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function uS(n){return Vs(n)&&!Va(n).M_()&&n.Pa.length>0}function cS(n){Va(n).start()}async function jk(n){Va(n).na()}async function Uk(n){const e=Va(n);for(const t of n.Pa)e.X_(t.mutations)}async function Bk(n,e,t){const i=n.Pa.shift(),s=Hp.from(i,e,t);await lS(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Uf(n)}async function zk(n,e){e&&Va(n).Z_&&await async function(i,s){if(function(h){return wO(h)&&h!==re.ABORTED}(s.code)){const u=i.Pa.shift();Va(i).N_(),await lS(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,s)),await Uf(i)}}(n,e),uS(n)&&cS(n)}async function lE(n,e){const t=Ne(n);t.asyncQueue.verifyOperationInProgress(),ce(xs,"RemoteStore received new credentials");const i=Vs(t);t.Ia.add(3),await rc(t),i&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await jf(t)}async function Hk(n,e){const t=Ne(n);e?(t.Ia.delete(2),await jf(t)):e||(t.Ia.add(2),await rc(t),t.Aa.set("Unknown"))}function cl(n){return n.Va||(n.Va=function(t,i,s){const u=Ne(t);return u.ia(),new Rk(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,s)}(n.datastore,n.asyncQueue,{Zo:Ok.bind(null,n),e_:kk.bind(null,n),n_:Mk.bind(null,n),J_:Pk.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),Zp(n)?Xp(n):n.Aa.set("Unknown")):(await n.Va.stop(),oS(n))})),n.Va}function Va(n){return n.ma||(n.ma=function(t,i,s){const u=Ne(t);return u.ia(),new Ck(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,s)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:jk.bind(null,n),n_:zk.bind(null,n),ea:Uk.bind(null,n),ta:Bk.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await Uf(n)):(await n.ma.stop(),n.Pa.length>0&&(ce(xs,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,t,i,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=u,this.deferred=new Na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,u){const h=Date.now()+i,m=new Jp(e,t,h,s,u);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ey(n,e){if(ji("AsyncQueue",`${e}: ${n}`),ul(n))return new me(re.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{static emptySet(e){return new qo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||be.comparator(t.key,i.key):(t,i)=>be.comparator(t.key,i.key),this.keyedMap=Su(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=i.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new qo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(){this.fa=new Tt(be.comparator)}track(e){const t=e.doc.key,i=this.fa.get(t);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(t,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(t):e.type===1&&i.type===2?this.fa=this.fa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ae(63341,{At:e,ga:i}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,i)=>{e.push(i)}),e}}class el{constructor(e,t,i,s,u,h,m,g,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,s,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new el(e,t,qo.emptySet(t),h,i,s,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class qk{constructor(){this.queries=cE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,i){const s=Ne(t),u=s.queries;s.queries=cE(),u.forEach((h,m)=>{for(const g of m.wa)g.onError(i)})})(this,new me(re.ABORTED,"Firestore shutting down"))}}function cE(){return new Ps(n=>Dw(n),Of)}async function hS(n,e){const t=Ne(n);let i=3;const s=e.query;let u=t.queries.get(s);u?!u.Sa()&&e.ba()&&(i=2):(u=new Fk,i=e.ba()?0:1);try{switch(i){case 0:u.ya=await t.onListen(s,!0);break;case 1:u.ya=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(h){const m=ey(h,`Initialization of query '${Po(e.query)}' failed`);return void e.onError(m)}t.queries.set(s,u),u.wa.push(e),e.va(t.onlineState),u.ya&&e.Ca(u.ya)&&ty(t)}async function fS(n,e){const t=Ne(n),i=e.query;let s=3;const u=t.queries.get(i);if(u){const h=u.wa.indexOf(e);h>=0&&(u.wa.splice(h,1),u.wa.length===0?s=e.ba()?0:1:!u.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Gk(n,e){const t=Ne(n);let i=!1;for(const s of e){const u=s.query,h=t.queries.get(u);if(h){for(const m of h.wa)m.Ca(s)&&(i=!0);h.ya=s}}i&&ty(t)}function Yk(n,e,t){const i=Ne(n),s=i.queries.get(e);if(s)for(const u of s.wa)u.onError(t);i.queries.delete(e)}function ty(n){n.Da.forEach(e=>{e.next()})}var Qg,hE;(hE=Qg||(Qg={})).Fa="default",hE.Cache="cache";class dS{constructor(e,t,i){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new el(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const i=t!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Qg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.key=e}}class gS{constructor(e){this.key=e}}class $k{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ze(),this.mutatedKeys=ze(),this.Xa=xw(e),this.eu=new qo(this.Xa)}get tu(){return this.Ha}nu(e,t){const i=t?t.ru:new uE,s=t?t.eu:this.eu;let u=t?t.mutatedKeys:this.mutatedKeys,h=s,m=!1;const g=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((_,T)=>{const S=s.get(_),D=kf(this.query,T)?T:null,V=!!S&&this.mutatedKeys.has(S.key),z=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let U=!1;S&&D?S.data.isEqual(D.data)?V!==z&&(i.track({type:3,doc:D}),U=!0):this.iu(S,D)||(i.track({type:2,doc:D}),U=!0,(g&&this.Xa(D,g)>0||p&&this.Xa(D,p)<0)&&(m=!0)):!S&&D?(i.track({type:0,doc:D}),U=!0):S&&!D&&(i.track({type:1,doc:S}),U=!0,(g||p)&&(m=!0)),U&&(D?(h=h.add(D),u=z?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),i.track({type:1,doc:_})}return{eu:h,ru:i,Ds:m,mutatedKeys:u}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((_,T)=>function(D,V){const z=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{At:U})}};return z(D)-z(V)}(_.type,T.type)||this.Xa(_.doc,T.doc)),this.su(i),s=s!=null&&s;const m=t&&!s?this.ou():[],g=this.Za.size===0&&this.current&&!s?1:0,p=g!==this.Ya;return this.Ya=g,h.length!==0||p?{snapshot:new el(this.query,e.eu,u,h,e.mutatedKeys,g===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new uE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ze(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const t=[];return e.forEach(i=>{this.Za.has(i)||t.push(new gS(i))}),this.Za.forEach(i=>{e.has(i)||t.push(new mS(i))}),t}uu(e){this.Ha=e.qs,this.Za=ze();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return el.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const ny="SyncEngine";class Qk{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Wk{constructor(e){this.key=e,this.lu=!1}}class Kk{constructor(e,t,i,s,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new Ps(m=>Dw(m),Of),this.Tu=new Map,this.Iu=new Set,this.du=new Tt(be.comparator),this.Eu=new Map,this.Au=new Gp,this.Ru={},this.Vu=new Map,this.mu=Jo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Xk(n,e,t=!0){const i=ES(n);let s;const u=i.Pu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),s=u.view.cu()):s=await pS(i,e,t,!0),s}async function Zk(n,e){const t=ES(n);await pS(t,e,!0,!1)}async function pS(n,e,t,i){const s=await vk(n.localStore,$r(e)),u=s.targetId,h=n.sharedClientState.addLocalQueryTarget(u,t);let m;return i&&(m=await Jk(n,e,u,h==="current",s.resumeToken)),n.isPrimaryClient&&t&&aS(n.remoteStore,s),m}async function Jk(n,e,t,i,s){n.gu=(T,S,D)=>async function(z,U,G,$){let ne=U.view.nu(G);ne.Ds&&(ne=await rE(z.localStore,U.query,!1).then(({documents:M})=>U.view.nu(M,ne)));const he=$&&$.targetChanges.get(U.targetId),fe=$&&$.targetMismatches.get(U.targetId)!=null,ge=U.view.applyChanges(ne,z.isPrimaryClient,he,fe);return dE(z,U.targetId,ge._u),ge.snapshot}(n,T,S,D);const u=await rE(n.localStore,e,!0),h=new $k(e,u.qs),m=h.nu(u.documents),g=nc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),p=h.applyChanges(m,n.isPrimaryClient,g);dE(n,t,p._u);const _=new Qk(e,t,h);return n.Pu.set(e,_),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),p.snapshot}async function eM(n,e,t){const i=Ne(n),s=i.Pu.get(e),u=i.Tu.get(s.targetId);if(u.length>1)return i.Tu.set(s.targetId,u.filter(h=>!Of(h,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Yg(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&Wp(i.remoteStore,s.targetId),Wg(i,s.targetId)}).catch(ll)):(Wg(i,s.targetId),await Yg(i.localStore,s.targetId,!0))}async function tM(n,e){const t=Ne(n),i=t.Pu.get(e),s=t.Tu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Wp(t.remoteStore,i.targetId))}async function nM(n,e,t){const i=uM(n);try{const s=await function(h,m){const g=Ne(h),p=dt.now(),_=m.reduce((D,V)=>D.add(V.key),ze());let T,S;return g.persistence.runTransaction("Locally write mutations","readwrite",D=>{let V=Ui(),z=ze();return g.Os.getEntries(D,_).next(U=>{V=U,V.forEach((G,$)=>{$.isValidDocument()||(z=z.add(G))})}).next(()=>g.localDocuments.getOverlayedDocuments(D,V)).next(U=>{T=U;const G=[];for(const $ of m){const ne=vO($,T.get($.key).overlayedDocument);ne!=null&&G.push(new za($.key,ne,ww(ne.value.mapValue),Qr.exists(!0)))}return g.mutationQueue.addMutationBatch(D,p,G,m)}).next(U=>{S=U;const G=U.applyToLocalDocumentSet(T,z);return g.documentOverlayCache.saveOverlays(D,U.batchId,G)})}).then(()=>({batchId:S.batchId,changes:kw(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(h,m,g){let p=h.Ru[h.currentUser.toKey()];p||(p=new Tt(Pe)),p=p.insert(m,g),h.Ru[h.currentUser.toKey()]=p}(i,s.batchId,t),await ic(i,s.changes),await Uf(i.remoteStore)}catch(s){const u=ey(s,"Failed to persist write");t.reject(u)}}async function yS(n,e){const t=Ne(n);try{const i=await gk(t.localStore,e);e.targetChanges.forEach((s,u)=>{const h=t.Eu.get(u);h&&(Ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?h.lu=!0:s.modifiedDocuments.size>0?Ze(h.lu,14607):s.removedDocuments.size>0&&(Ze(h.lu,42227),h.lu=!1))}),await ic(t,i,e)}catch(i){await ll(i)}}function fE(n,e,t){const i=Ne(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.Pu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&s.push(m.snapshot)}),function(h,m){const g=Ne(h);g.onlineState=m;let p=!1;g.queries.forEach((_,T)=>{for(const S of T.wa)S.va(m)&&(p=!0)}),p&&ty(g)}(i.eventManager,e),s.length&&i.hu.J_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function rM(n,e,t){const i=Ne(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Eu.get(e),u=s&&s.key;if(u){let h=new Tt(be.comparator);h=h.insert(u,vn.newNoDocument(u,Ie.min()));const m=ze().add(u),g=new Vf(Ie.min(),new Map,new Tt(Pe),h,m);await yS(i,g),i.du=i.du.remove(u),i.Eu.delete(e),ry(i)}else await Yg(i.localStore,e,!1).then(()=>Wg(i,e,t)).catch(ll)}async function iM(n,e){const t=Ne(n),i=e.batch.batchId;try{const s=await mk(t.localStore,e);_S(t,i,null),vS(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await ic(t,s)}catch(s){await ll(s)}}async function aM(n,e,t){const i=Ne(n);try{const s=await function(h,m){const g=Ne(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return g.mutationQueue.lookupMutationBatch(p,m).next(T=>(Ze(T!==null,37113),_=T.keys(),g.mutationQueue.removeMutationBatch(p,T))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,_,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>g.localDocuments.getDocuments(p,_))})}(i.localStore,e);_S(i,e,t),vS(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await ic(i,s)}catch(s){await ll(s)}}function vS(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function _S(n,e,t){const i=Ne(n);let s=i.Ru[i.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),i.Ru[i.currentUser.toKey()]=s}}function Wg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Tu.get(e))n.Pu.delete(i),t&&n.hu.pu(i,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(i=>{n.Au.containsKey(i)||bS(n,i)})}function bS(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Wp(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),ry(n))}function dE(n,e,t){for(const i of t)i instanceof mS?(n.Au.addReference(i.key,e),sM(n,i)):i instanceof gS?(ce(ny,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,e),n.Au.containsKey(i.key)||bS(n,i.key)):Ae(19791,{yu:i})}function sM(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Iu.has(i)||(ce(ny,"New document in limbo: "+t),n.Iu.add(i),ry(n))}function ry(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new be(ft.fromString(e)),i=n.mu.next();n.Eu.set(i,new Wk(t)),n.du=n.du.insert(t,i),aS(n.remoteStore,new Sa($r(xf(t.path)),i,"TargetPurposeLimboResolution",Cf.ue))}}async function ic(n,e,t){const i=Ne(n),s=[],u=[],h=[];i.Pu.isEmpty()||(i.Pu.forEach((m,g)=>{h.push(i.gu(g,e,t).then(p=>{var _;if((p||t)&&i.isPrimaryClient){const T=p?!p.fromCache:(_=t?.targetChanges.get(g.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(p){s.push(p);const T=$p.Es(g.targetId,p);u.push(T)}}))}),await Promise.all(h),i.hu.J_(s),await async function(g,p){const _=Ne(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>te.forEach(p,S=>te.forEach(S.Is,D=>_.persistence.referenceDelegate.addReference(T,S.targetId,D)).next(()=>te.forEach(S.ds,D=>_.persistence.referenceDelegate.removeReference(T,S.targetId,D)))))}catch(T){if(!ul(T))throw T;ce(Qp,"Failed to update sequence numbers: "+T)}for(const T of p){const S=T.targetId;if(!T.fromCache){const D=_.Fs.get(S),V=D.snapshotVersion,z=D.withLastLimboFreeSnapshotVersion(V);_.Fs=_.Fs.insert(S,z)}}}(i.localStore,u))}async function oM(n,e){const t=Ne(n);if(!t.currentUser.isEqual(e)){ce(ny,"User change. New user:",e.toKey());const i=await tS(t.localStore,e);t.currentUser=e,function(u,h){u.Vu.forEach(m=>{m.forEach(g=>{g.reject(new me(re.CANCELLED,h))})}),u.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ic(t,i.Bs)}}function lM(n,e){const t=Ne(n),i=t.Eu.get(e);if(i&&i.lu)return ze().add(i.key);{let s=ze();const u=t.Tu.get(e);if(!u)return s;for(const h of u){const m=t.Pu.get(h);s=s.unionWith(m.view.tu)}return s}}function ES(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rM.bind(null,e),e.hu.J_=Gk.bind(null,e.eventManager),e.hu.pu=Yk.bind(null,e.eventManager),e}function uM(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aM.bind(null,e),e}class pf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return dk(this.persistence,new ck,e.initialUser,this.serializer)}Du(e){return new eS(Yp.Vi,this.serializer)}bu(e){return new bk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pf.provider={build:()=>new pf};class cM extends pf{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ze(this.persistence.referenceDelegate instanceof mf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new WO(i,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new eS(i=>mf.Vi(i,t),this.serializer)}}class Kg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>fE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=oM.bind(null,this.syncEngine),await Hk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qk}()}createDatastore(e){const t=Lf(e.databaseInfo.databaseId),i=function(u){return new Ak(u)}(e.databaseInfo);return function(u,h,m,g){return new Nk(u,h,m,g)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,u,h,m){return new xk(i,s,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>fE(this.syncEngine,t,0),function(){return sE.C()?new sE:new Ek}())}createSyncEngine(e,t){return function(s,u,h,m,g,p,_){const T=new Kk(s,u,h,m,g,p);return _&&(T.fu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const u=Ne(s);ce(xs,"RemoteStore shutting down."),u.Ia.add(5),await rc(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Kg.provider={build:()=>new Kg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="FirestoreClient";class hM{constructor(e,t,i,s,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=yn.UNAUTHENTICATED,this.clientId=kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,async h=>{ce(La,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(ce(La,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=ey(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function dg(n,e){n.asyncQueue.verifyOperationInProgress(),ce(La,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await tS(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>{xa("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{ce("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{xa("Terminating Firestore due to IndexedDb database deletion failed",s)})}),n._offlineComponents=e}async function mE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await fM(n);ce(La,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>lE(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>lE(e.remoteStore,s)),n._onlineComponents=e}async function fM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(La,"Using user provided OfflineComponentProvider");try{await dg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;xa("Error using user provided cache. Falling back to memory cache: "+t),await dg(n,new pf)}}else ce(La,"Using default OfflineComponentProvider"),await dg(n,new cM(void 0));return n._offlineComponents}async function wS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(La,"Using user provided OnlineComponentProvider"),await mE(n,n._uninitializedComponentsProvider._online)):(ce(La,"Using default OnlineComponentProvider"),await mE(n,new Kg))),n._onlineComponents}function dM(n){return wS(n).then(e=>e.syncEngine)}async function Xg(n){const e=await wS(n),t=e.eventManager;return t.onListen=Xk.bind(null,e.syncEngine),t.onUnlisten=eM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Zk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=tM.bind(null,e.syncEngine),t}function mM(n,e,t={}){const i=new Na;return n.asyncQueue.enqueueAndForget(async()=>function(u,h,m,g,p){const _=new TS({next:S=>{_.Ou(),h.enqueueAndForget(()=>fS(u,T));const D=S.docs.has(m);!D&&S.fromCache?p.reject(new me(re.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&S.fromCache&&g&&g.source==="server"?p.reject(new me(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),T=new dS(xf(m.path),_,{includeMetadataChanges:!0,ka:!0});return hS(u,T)}(await Xg(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="firestore.googleapis.com",pE=!0;class yE{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new me(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AS,this.ssl=pE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:pE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Jw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$O)throw new me(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SS((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bf{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Tx;switch(i.type){case"firstParty":return new Rx(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=gE.get(t);i&&(ce("ComponentProvider","Removing Datastore"),gE.delete(t),i.terminate())}(this),Promise.resolve()}}function gM(n,e,t,i={}){var s;n=Yr(n,Bf);const u=il(e),h=n._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:n._getEmulatorOptions()}),g=`${e}:${t}`;u&&(gT(`https://${g}`),pT("Firestore",!0)),h.host!==AS&&h.host!==g&&xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},h),{host:g,ssl:u,emulatorOptions:i});if(!Pi(p,m)&&(n._setSettings(p),i.mockUserToken)){let _,T;if(typeof i.mockUserToken=="string")_=i.mockUserToken,T=yn.MOCK_USER;else{_=OC(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const S=i.mockUserToken.sub||i.mockUserToken.user_id;if(!S)throw new me(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new yn(S)}n._authCredentials=new wx(new cw(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new zf(this.firestore,e,this._query)}}class Nt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(ec(t,Nt._jsonSchema))return new Nt(e,i||null,new be(ft.fromString(t.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:Vt("string",Nt._jsonSchemaVersion),referencePath:Vt("string")};class Da extends zf{constructor(e,t,i){super(e,t,xf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new be(e))}withConverter(e){return new Da(this.firestore,e,this._path)}}function mg(n,e,...t){if(n=Gt(n),fw("collection","path",e),n instanceof Bf){const i=ft.fromString(e,...t);return xb(i),new Da(n,null,i)}{if(!(n instanceof Nt||n instanceof Da))throw new me(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ft.fromString(e,...t));return xb(i),new Da(n.firestore,null,i)}}function _r(n,e,...t){if(n=Gt(n),arguments.length===1&&(e=kp.newId()),fw("doc","path",e),n instanceof Bf){const i=ft.fromString(e,...t);return Db(i),new Nt(n,null,new be(i))}{if(!(n instanceof Nt||n instanceof Da))throw new me(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ft.fromString(e,...t));return Db(i),new Nt(n.firestore,n instanceof Da?n.converter:null,new be(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="AsyncQueue";class _E{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new rS(this,"async_queue_retry"),this.oc=()=>{const i=fg();i&&ce(vE,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const t=fg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=fg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Na;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ul(e))throw e;ce(vE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,ji("INTERNAL UNHANDLED ERROR: ",bE(i)),i}).then(i=>(this.nc=!1,i))));return this._c=t,t}enqueueAfterDelay(e,t,i){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const s=Jp.createAndSchedule(this,e,t,i,u=>this.lc(u));return this.ec.push(s),s}ac(){this.tc&&Ae(47125,{hc:bE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function bE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const s=t;for(const u of i)if(u in s&&typeof s[u]=="function")return!0;return!1}(n,["next","error","complete"])}class tl extends Bf{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new _E,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _E(e),this._firestoreClient=void 0,await e}}}function pM(n,e){const t=typeof n=="object"?n:bT(),i=typeof n=="string"?n:lf,s=Tp(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const u=DC("firestore");u&&gM(s,...u)}return s}function iy(n){if(n._terminated)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||yM(n),n._firestoreClient}function yM(n){var e,t,i;const s=n._freezeSettings(),u=function(m,g,p,_){return new Hx(m,g,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,SS(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new hM(n._authCredentials,n._appCheckCredentials,n._queue,u,n._componentsProvider&&function(m){const g=m?._online.build();return{_offline:m?._offline.build(g),_online:g}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sr(dn.fromBase64String(e))}catch(t){throw new me(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new sr(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:sr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ec(e,sr._jsonSchema))return sr.fromBase64String(e.bytes)}}sr._jsonSchemaVersion="firestore/bytes/1.0",sr._jsonSchema={type:Vt("string",sr._jsonSchemaVersion),bytes:Vt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Kr._jsonSchemaVersion}}static fromJSON(e){if(ec(e,Kr._jsonSchema))return new Kr(e.latitude,e.longitude)}}Kr._jsonSchemaVersion="firestore/geoPoint/1.0",Kr._jsonSchema={type:Vt("string",Kr._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==s[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ec(e,Xr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Xr(e.vectorValues);throw new me(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xr._jsonSchemaVersion="firestore/vectorValue/1.0",Xr._jsonSchema={type:Vt("string",Xr._jsonSchemaVersion),vectorValues:Vt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=/^__.*__$/;class _M{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new za(e,this.data,this.fieldMask,t,this.fieldTransforms):new tc(e,this.data,t,this.fieldTransforms)}}class RS{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new za(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function CS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ec:n})}}class Ff{constructor(e,t,i,s,u,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Ff(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:i,mc:!1});return s.fc(e),s}gc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:i,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return yf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(CS(this.Ec)&&vM.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class bM{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Lf(e)}Dc(e,t,i,s=!1){return new Ff({Ec:e,methodName:t,bc:i,path:hn.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IS(n){const e=n._freezeSettings(),t=Lf(n._databaseId);return new bM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function EM(n,e,t,i,s,u={}){const h=n.Dc(u.merge||u.mergeFields?2:0,e,t,s);ly("Data must be an object, but it was:",h,i);const m=DS(i,h);let g,p;if(u.merge)g=new zn(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const S=Zg(e,T,t);if(!h.contains(S))throw new me(re.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);OS(_,S)||_.push(S)}g=new zn(_),p=h.fieldTransforms.filter(T=>g.covers(T.field))}else g=null,p=h.fieldTransforms;return new _M(new Nn(m),g,p)}class qf extends hl{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qf}}function NS(n,e,t){return new Ff({Ec:3,bc:e.settings.bc,methodName:n._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ay extends hl{_toFieldTransform(e){return new zp(e.path,new zu)}isEqual(e){return e instanceof ay}}class sy extends hl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=NS(this,e,!0),i=this.vc.map(u=>fl(u,t)),s=new Xo(i);return new zp(e.path,s)}isEqual(e){return e instanceof sy&&Pi(this.vc,e.vc)}}class oy extends hl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=NS(this,e,!0),i=this.vc.map(u=>fl(u,t)),s=new Zo(i);return new zp(e.path,s)}isEqual(e){return e instanceof oy&&Pi(this.vc,e.vc)}}function TM(n,e,t,i){const s=n.Dc(1,e,t);ly("Data must be an object, but it was:",s,i);const u=[],h=Nn.empty();Ba(i,(g,p)=>{const _=uy(e,g,t);p=Gt(p);const T=s.gc(_);if(p instanceof qf)u.push(_);else{const S=fl(p,T);S!=null&&(u.push(_),h.set(_,S))}});const m=new zn(u);return new RS(h,m,s.fieldTransforms)}function wM(n,e,t,i,s,u){const h=n.Dc(1,e,t),m=[Zg(e,i,t)],g=[s];if(u.length%2!=0)throw new me(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Zg(e,u[S])),g.push(u[S+1]);const p=[],_=Nn.empty();for(let S=m.length-1;S>=0;--S)if(!OS(p,m[S])){const D=m[S];let V=g[S];V=Gt(V);const z=h.gc(D);if(V instanceof qf)p.push(D);else{const U=fl(V,z);U!=null&&(p.push(D),_.set(D,U))}}const T=new zn(p);return new RS(_,T,h.fieldTransforms)}function fl(n,e){if(xS(n=Gt(n)))return ly("Unsupported field value:",e,n),DS(n,e);if(n instanceof hl)return function(i,s){if(!CS(s.Ec))throw s.wc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(s);u&&s.fieldTransforms.push(u)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(i,s){const u=[];let h=0;for(const m of i){let g=fl(m,s.yc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(n,e)}return function(i,s){if((i=Gt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return fO(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=dt.fromDate(i);return{timestampValue:df(s.serializer,u)}}if(i instanceof dt){const u=new dt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:df(s.serializer,u)}}if(i instanceof Kr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof sr)return{bytesValue:Yw(s.serializer,i._byteString)};if(i instanceof Nt){const u=s.databaseId,h=i.firestore._databaseId;if(!h.isEqual(u))throw s.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:qp(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Xr)return function(h,m){return{mapValue:{fields:{[Ew]:{stringValue:Tw},[uf]:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw m.wc("VectorValues must only contain numeric values.");return Bp(m.serializer,p)})}}}}}}(i,s);throw s.wc(`Unsupported field value: ${Mp(i)}`)}(n,e)}function DS(n,e){const t={};return gw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ba(n,(i,s)=>{const u=fl(s,e.Vc(i));u!=null&&(t[i]=u)}),{mapValue:{fields:t}}}function xS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof dt||n instanceof Kr||n instanceof sr||n instanceof Nt||n instanceof hl||n instanceof Xr)}function ly(n,e,t){if(!xS(t)||!dw(t)){const i=Mp(t);throw i==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+i)}}function Zg(n,e,t){if((e=Gt(e))instanceof Hf)return e._internalPath;if(typeof e=="string")return uy(n,e);throw yf("Field path arguments must be of type string or ",n,!1,void 0,t)}const SM=new RegExp("[~\\*/\\[\\]]");function uy(n,e,t){if(e.search(SM)>=0)throw yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hf(...e.split("."))._internalPath}catch{throw yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yf(n,e,t,i,s){const u=i&&!i.isEmpty(),h=s!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${i}`),h&&(g+=` in document ${s}`),g+=")"),new me(re.INVALID_ARGUMENT,m+n+g)}function OS(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,t,i,s,u){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(MS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class AM extends kS{data(){return super.data()}}function MS(n,e){return typeof e=="string"?uy(n,e):e instanceof Hf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class CM{convertValue(e,t="none"){switch(Pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ba(e,(s,u)=>{i[s]=this.convertValue(u,t)}),i}convertVectorValue(e){var t,i,s;const u=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[uf].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(h=>It(h.doubleValue));return new Xr(u)}convertGeoPoint(e){return new Kr(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Nf(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ju(e));default:return null}}convertTimestamp(e){const t=ka(e);return new dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ft.fromString(e);Ze(Zw(i),9688,{name:e});const s=new Uu(i.get(1),i.get(3)),u=new be(i.popFirst(5));return s.isEqual(t)||ji(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class Ru{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class As extends kS{constructor(e,t,i,s,u,h){super(e,t,i,s,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(MS("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=As._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}As._jsonSchemaVersion="firestore/documentSnapshot/1.0",As._jsonSchema={type:Vt("string",As._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class Wh extends As{data(e={}){return super.data(e)}}class Go{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Ru(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Wh(this._firestore,this._userDataWriter,i.key,i,new Ru(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,u){if(s._snapshot.oldDocs.isEmpty()){let h=0;return s._snapshot.docChanges.map(m=>{const g=new Wh(s._firestore,s._userDataWriter,m.doc.key,m.doc,new Ru(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new Wh(s._firestore,s._userDataWriter,m.doc.key,m.doc,new Ru(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,_=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),_=h.indexOf(m.doc.key)),{type:NM(m.type),doc:g,oldIndex:p,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Go._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],s=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),s.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function NM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(n){n=Yr(n,Nt);const e=Yr(n.firestore,tl);return mM(iy(e),n._key).then(t=>jS(e,n,t))}Go._jsonSchemaVersion="firestore/querySnapshot/1.0",Go._jsonSchema={type:Vt("string",Go._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class PS extends CM{constructor(e){super(),this.firestore=e}convertBytes(e){return new sr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,t)}}function VS(n,e,t){n=Yr(n,Nt);const i=Yr(n.firestore,tl),s=IM(n.converter,e);return LS(i,[EM(IS(i),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Qr.none())])}function Ni(n,e,t,...i){n=Yr(n,Nt);const s=Yr(n.firestore,tl),u=IS(s);let h;return h=typeof(e=Gt(e))=="string"||e instanceof Hf?wM(u,"updateDoc",n._key,e,t,i):TM(u,"updateDoc",n._key,e),LS(s,[h.toMutation(n._key,Qr.exists(!0))])}function TE(n,...e){var t,i,s;n=Gt(n);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||EE(e[h])||(u=e[h++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(EE(e[h])){const T=e[h];e[h]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[h+1]=(i=T.error)===null||i===void 0?void 0:i.bind(T),e[h+2]=(s=T.complete)===null||s===void 0?void 0:s.bind(T)}let g,p,_;if(n instanceof Nt)p=Yr(n.firestore,tl),_=xf(n._key.path),g={next:T=>{e[h]&&e[h](jS(p,n,T))},error:e[h+1],complete:e[h+2]};else{const T=Yr(n,zf);p=Yr(T.firestore,tl),_=T._query;const S=new PS(p);g={next:D=>{e[h]&&e[h](new Go(p,S,T,D))},error:e[h+1],complete:e[h+2]},RM(n._query)}return function(S,D,V,z){const U=new TS(z),G=new dS(D,U,V);return S.asyncQueue.enqueueAndForget(async()=>hS(await Xg(S),G)),()=>{U.Ou(),S.asyncQueue.enqueueAndForget(async()=>fS(await Xg(S),G))}}(iy(p),_,m,g)}function LS(n,e){return function(i,s){const u=new Na;return i.asyncQueue.enqueueAndForget(async()=>nM(await dM(i),s,u)),u.promise}(iy(n),e)}function jS(n,e,t){const i=t.docs.get(e._key),s=new PS(n);return new As(n,s,e._key,i,new Ru(t.hasPendingWrites,t.fromCache),e.converter)}function gg(){return new ay("serverTimestamp")}function Mh(...n){return new sy("arrayUnion",n)}function pg(...n){return new oy("arrayRemove",n)}(function(e,t=!0){(function(s){ol=s})(al),Yo(new Cs("firestore",(i,{instanceIdentifier:s,options:u})=>{const h=i.getProvider("app").getImmediate(),m=new tl(new Sx(i.getProvider("auth-internal")),new Cx(h,i.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new me(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uu(p.options.projectId,_)}(h,s),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ca(Ab,Rb,e),Ca(Ab,Rb,"esm2017")})();var DM="firebase",xM="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ca(DM,xM,"app");const OM={apiKey:"AIzaSyBG12pjtu4MryRZl2TR6BIBWTvbguOgMBs",authDomain:"habitarium-d1aab.firebaseapp.com",projectId:"habitarium-d1aab",storageBucket:"habitarium-d1aab.firebasestorage.app",messagingSenderId:"479097218459",appId:"1:479097218459:web:b8437009d4450d7bf32d3e",measurementId:"G-JV1VHMWBJY"},US=_T(OM),Ph=bx(US),Bn=pM(US),BS=q.createContext(void 0),Ls=()=>{const n=q.useContext(BS);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},kM=({children:n})=>{const[e,t]=q.useState(null),[i,s]=q.useState(null),[u,h]=q.useState(!0),m=async(S,D,V)=>{try{const U=(await nD(Ph,S,D)).user;await aD(U,{displayName:V});const G=_r(Bn,"users",U.uid),$={uid:U.uid,username:V,email:S,displayName:V,createdAt:gg(),lastLoginAt:gg(),habitsTracked:0,streaks:{},achievements:[],settings:{theme:"dark",notifications:!0}};await VS(G,$),s($)}catch(z){throw console.error("Signup error:",z),z}},g=async(S,D)=>{try{const z=(await rD(Ph,S,D)).user,U=_r(Bn,"users",z.uid);await Ni(U,{lastLoginAt:gg()});const G=await Jg(U);G.exists()&&s(G.data())}catch(V){throw console.error("Login error:",V),V}},p=async()=>{try{await uD(Ph),s(null)}catch(S){throw console.error("Logout error:",S),S}},_=async S=>{if(e)try{const D=_r(Bn,"users",e.uid);await Ni(D,S),s(V=>({...V,...S}))}catch(D){throw console.error("Update profile error:",D),D}};q.useEffect(()=>lD(Ph,async D=>{if(t(D),D){const V=_r(Bn,"users",D.uid),z=await Jg(V);z.exists()?s(z.data()):(console.warn("User profile not found"),s(null))}else s(null);h(!1)}),[]);const T={currentUser:e,userProfile:i,login:g,signup:m,logout:p,updateProfile:_,loading:u};return E.jsx(BS.Provider,{value:T,children:!u&&n})},MM="_container_1529s_7",PM="_wrapper_1529s_47",VM="_title_1529s_65",LM="_form_1529s_95",jM="_input_1529s_109",UM="_button_1529s_145",BM="_switchText_1529s_225",zM="_link_1529s_239",HM="_message_1529s_281",zr={container:MM,wrapper:PM,title:VM,form:LM,input:jM,button:UM,switchText:BM,link:zM,message:HM},FM=()=>{const[n,e]=q.useState(""),[t,i]=q.useState(""),[s,u]=q.useState(""),[h,m]=q.useState(!1),{login:g}=Ls(),p=ks(),_=async T=>{if(T.preventDefault(),!h)try{m(!0),u(""),await g(n,t),p("/dashboard")}catch(S){S instanceof Tr?u(S.message):(u("Failed to login"),console.error("Login error:",S))}finally{m(!1)}};return E.jsx("div",{className:zr.wrapper,children:E.jsxs("div",{className:zr.container,children:[E.jsx("h1",{className:zr.title,children:"Welcome Back!"}),E.jsxs("form",{className:zr.form,onSubmit:_,children:[E.jsx("input",{type:"email",placeholder:"Email",className:zr.input,value:n,onChange:T=>e(T.target.value),required:!0}),E.jsx("input",{type:"password",placeholder:"Password",className:zr.input,value:t,onChange:T=>i(T.target.value),required:!0}),E.jsx("button",{type:"submit",className:zr.button,disabled:h,children:h?"Logging in...":"Login"})]}),s&&E.jsx("p",{className:zr.message,children:s}),E.jsxs("p",{className:zr.switchText,children:["New here? ",E.jsx(Tf,{to:"/signup",className:zr.link,children:"Create an account"})]})]})})},qM="_container_1ikrg_7",GM="_title_1ikrg_57",YM="_form_1ikrg_73",$M="_input_1ikrg_87",QM="_button_1ikrg_123",WM="_switchText_1ikrg_165",KM="_link_1ikrg_179",XM="_message_1ikrg_221",vr={container:qM,title:GM,form:YM,input:$M,button:QM,switchText:WM,link:KM,message:XM},wE=()=>{const[n,e]=q.useState({username:"",email:"",password:""}),[t,i]=q.useState(""),[s,u]=q.useState(!1),{signup:h}=Ls(),m=ks(),g=_=>{e(T=>({...T,[_.target.name]:_.target.value}))},p=async _=>{if(_.preventDefault(),!s)try{u(!0),i(""),console.log("Starting signup...");const T=Date.now();await h(n.email,n.password,n.username),console.log(`Signup completed in ${Date.now()-T}ms`),m("/dashboard")}catch(T){console.error("Signup UI error:",T),T instanceof Tr?i(`Error ${T.code}: ${T.message}`):i("Failed to create account")}finally{u(!1)}};return E.jsx("div",{className:vr.wrapper,children:E.jsxs("div",{className:vr.container,children:[E.jsx("h1",{className:vr.title,children:"Join Habitarium"}),E.jsxs("form",{className:vr.form,onSubmit:p,children:[E.jsx("input",{type:"text",name:"username",placeholder:"Username",className:vr.input,value:n.username,onChange:g,required:!0}),E.jsx("input",{type:"email",name:"email",placeholder:"Email",className:vr.input,value:n.email,onChange:g,required:!0}),E.jsx("input",{type:"password",name:"password",placeholder:"Password",className:vr.input,value:n.password,onChange:g,required:!0}),E.jsx("button",{type:"submit",className:vr.button,disabled:s,children:s?"Creating Account...":"Sign Up"})]}),t&&E.jsx("p",{className:vr.message,children:t}),E.jsxs("p",{className:vr.switchText,children:["Already have an account? ",E.jsx(Tf,{to:"/",className:vr.link,children:"Login"})]})]})})};function zS(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=zS(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Gf(){for(var n,e,t=0,i="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=zS(n))&&(i&&(i+=" "),i+=e);return i}const ZM=(n,e,t,i)=>{if(t==="length"||t==="prototype"||t==="arguments"||t==="caller")return;const s=Object.getOwnPropertyDescriptor(n,t),u=Object.getOwnPropertyDescriptor(e,t);!JM(s,u)&&i||Object.defineProperty(n,t,u)},JM=function(n,e){return n===void 0||n.configurable||n.writable===e.writable&&n.enumerable===e.enumerable&&n.configurable===e.configurable&&(n.writable||n.value===e.value)},eP=(n,e)=>{const t=Object.getPrototypeOf(e);t!==Object.getPrototypeOf(n)&&Object.setPrototypeOf(n,t)},tP=(n,e)=>`/* Wrapped ${n}*/
${e}`,nP=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),rP=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),iP=(n,e,t)=>{const i=t===""?"":`with ${t.trim()}() `,s=tP.bind(null,i,e.toString());Object.defineProperty(s,"name",rP);const{writable:u,enumerable:h,configurable:m}=nP;Object.defineProperty(n,"toString",{value:s,writable:u,enumerable:h,configurable:m})};function aP(n,e,{ignoreNonConfigurable:t=!1}={}){const{name:i}=n;for(const s of Reflect.ownKeys(e))ZM(n,e,s,t);return eP(n,e),iP(n,e,i),n}const sP=new WeakMap,SE=new WeakMap;function HS(n,{cacheKey:e,cache:t=new Map,maxAge:i}={}){if(i===0)return n;if(typeof i=="number"){if(i>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(i<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const s=function(...u){const h=e?e(u):u[0],m=t.get(h);if(m)return m.data;const g=n.apply(this,u),p=typeof i=="function"?i(...u):i;if(t.set(h,{data:g,maxAge:p?Date.now()+p:Number.POSITIVE_INFINITY}),p&&p>0&&p!==Number.POSITIVE_INFINITY){const _=setTimeout(()=>{t.delete(h)},p);_.unref?.();const T=SE.get(n)??new Set;T.add(_),SE.set(n,T)}return g};return aP(s,n,{ignoreNonConfigurable:!0}),sP.set(s,t),s}function oP(n){return typeof n=="string"}function lP(n,e,t){return t.indexOf(n)===e}function uP(n){return n.toLowerCase()===n}function AE(n){return n.indexOf(",")===-1?n:n.split(",")}function ep(n){if(!n)return n;if(n==="C"||n==="posix"||n==="POSIX")return"en-US";if(n.indexOf(".")!==-1){var e=n.split(".")[0],t=e===void 0?"":e;return ep(t)}if(n.indexOf("@")!==-1){var i=n.split("@")[0],t=i===void 0?"":i;return ep(t)}if(n.indexOf("-")===-1||!uP(n))return n;var s=n.split("-"),u=s[0],h=s[1],m=h===void 0?"":h;return"".concat(u,"-").concat(m.toUpperCase())}function cP(n){var e=n===void 0?{}:n,t=e.useFallbackLocale,i=t===void 0?!0:t,s=e.fallbackLocale,u=s===void 0?"en-US":s,h=[];if(typeof navigator<"u"){for(var m=navigator.languages||[],g=[],p=0,_=m;p<_.length;p++){var T=_[p];g=g.concat(AE(T))}var S=navigator.language,D=S&&AE(S);h=h.concat(g,D)}return i&&h.push(u),h.filter(oP).map(ep).filter(lP)}var hP=HS(cP,{cacheKey:JSON.stringify});function fP(n){return hP(n)[0]||null}var FS=HS(fP,{cacheKey:JSON.stringify});function Hi(n,e,t){return function(s,u=t){const h=n(s)+u;return e(h)}}function ac(n){return function(t){return new Date(n(t).getTime()-1)}}function sc(n,e){return function(i){return[n(i),e(i)]}}function _t(n){if(n instanceof Date)return n.getFullYear();if(typeof n=="number")return n;const e=Number.parseInt(n,10);if(typeof n=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${n}.`)}function Ha(n){if(n instanceof Date)return n.getMonth();throw new Error(`Failed to get month from date: ${n}.`)}function Yf(n){if(n instanceof Date)return n.getDate();throw new Error(`Failed to get year from date: ${n}.`)}function dl(n){const e=_t(n),t=e+(-e+1)%100,i=new Date;return i.setFullYear(t,0,1),i.setHours(0,0,0,0),i}const dP=Hi(_t,dl,-100),qS=Hi(_t,dl,100),cy=ac(qS),mP=Hi(_t,cy,-100),GS=sc(dl,cy);function Fa(n){const e=_t(n),t=e+(-e+1)%10,i=new Date;return i.setFullYear(t,0,1),i.setHours(0,0,0,0),i}const YS=Hi(_t,Fa,-10),hy=Hi(_t,Fa,10),$f=ac(hy),$S=Hi(_t,$f,-10),QS=sc(Fa,$f);function ml(n){const e=_t(n),t=new Date;return t.setFullYear(e,0,1),t.setHours(0,0,0,0),t}const WS=Hi(_t,ml,-1),fy=Hi(_t,ml,1),Qf=ac(fy),KS=Hi(_t,Qf,-1),gP=sc(ml,Qf);function dy(n,e){return function(i,s=e){const u=_t(i),h=Ha(i)+s,m=new Date;return m.setFullYear(u,h,1),m.setHours(0,0,0,0),n(m)}}function js(n){const e=_t(n),t=Ha(n),i=new Date;return i.setFullYear(e,t,1),i.setHours(0,0,0,0),i}const XS=dy(js,-1),my=dy(js,1),oc=ac(my),ZS=dy(oc,-1),pP=sc(js,oc);function yP(n,e){return function(i,s=e){const u=_t(i),h=Ha(i),m=Yf(i)+s,g=new Date;return g.setFullYear(u,h,m),g.setHours(0,0,0,0),n(g)}}function lc(n){const e=_t(n),t=Ha(n),i=Yf(n),s=new Date;return s.setFullYear(e,t,i),s.setHours(0,0,0,0),s}const vP=yP(lc,1),gy=ac(vP),_P=sc(lc,gy);function JS(n){return Yf(oc(n))}var fn={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},bP={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},py=[0,1,2,3,4,5,6],yg=new Map;function EP(n){return function(t,i){var s=t||FS();yg.has(s)||yg.set(s,new Map);var u=yg.get(s);return u.has(n)||u.set(n,new Intl.DateTimeFormat(s||void 0,n).format),u.get(n)(i)}}function TP(n){var e=new Date(n);return new Date(e.setHours(12))}function Us(n){return function(e,t){return EP(n)(e,TP(t))}}var wP={day:"numeric"},SP={day:"numeric",month:"long",year:"numeric"},AP={month:"long"},RP={month:"long",year:"numeric"},CP={weekday:"short"},IP={weekday:"long"},NP={year:"numeric"},DP=Us(wP),xP=Us(SP),OP=Us(AP),e1=Us(RP),kP=Us(CP),MP=Us(IP),Wf=Us(NP),PP=py[0],VP=py[5],RE=py[6];function Hu(n,e){e===void 0&&(e=fn.ISO_8601);var t=n.getDay();switch(e){case fn.ISO_8601:return(t+6)%7;case fn.ISLAMIC:return(t+1)%7;case fn.HEBREW:case fn.GREGORY:return t;default:throw new Error("Unsupported calendar type.")}}function LP(n){var e=dl(n);return _t(e)}function jP(n){var e=Fa(n);return _t(e)}function tp(n,e){e===void 0&&(e=fn.ISO_8601);var t=_t(n),i=Ha(n),s=n.getDate()-Hu(n,e);return new Date(t,i,s)}function UP(n,e){e===void 0&&(e=fn.ISO_8601);var t=e===fn.GREGORY?fn.GREGORY:fn.ISO_8601,i=tp(n,e),s=_t(n)+1,u,h;do u=new Date(s,0,t===fn.ISO_8601?4:1),h=tp(u,e),s-=1;while(n<h);return Math.round((i.getTime()-h.getTime())/(864e5*7))+1}function Rs(n,e){switch(n){case"century":return dl(e);case"decade":return Fa(e);case"year":return ml(e);case"month":return js(e);case"day":return lc(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function BP(n,e){switch(n){case"century":return dP(e);case"decade":return YS(e);case"year":return WS(e);case"month":return XS(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function t1(n,e){switch(n){case"century":return qS(e);case"decade":return hy(e);case"year":return fy(e);case"month":return my(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function zP(n,e){switch(n){case"decade":return YS(e,-100);case"year":return WS(e,-10);case"month":return XS(e,-12);default:throw new Error("Invalid rangeType: ".concat(n))}}function HP(n,e){switch(n){case"decade":return hy(e,100);case"year":return fy(e,10);case"month":return my(e,12);default:throw new Error("Invalid rangeType: ".concat(n))}}function n1(n,e){switch(n){case"century":return cy(e);case"decade":return $f(e);case"year":return Qf(e);case"month":return oc(e);case"day":return gy(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function FP(n,e){switch(n){case"century":return mP(e);case"decade":return $S(e);case"year":return KS(e);case"month":return ZS(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function qP(n,e){switch(n){case"decade":return $S(e,-100);case"year":return KS(e,-10);case"month":return ZS(e,-12);default:throw new Error("Invalid rangeType: ".concat(n))}}function CE(n,e){switch(n){case"century":return GS(e);case"decade":return QS(e);case"year":return gP(e);case"month":return pP(e);case"day":return _P(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function GP(n,e,t){var i=[e,t].sort(function(s,u){return s.getTime()-u.getTime()});return[Rs(n,i[0]),n1(n,i[1])]}function r1(n,e,t){return t.map(function(i){return(e||Wf)(n,i)}).join("  ")}function YP(n,e,t){return r1(n,e,GS(t))}function i1(n,e,t){return r1(n,e,QS(t))}function $P(n){return n.getDay()===new Date().getDay()}function a1(n,e){e===void 0&&(e=fn.ISO_8601);var t=n.getDay();switch(e){case fn.ISLAMIC:case fn.HEBREW:return t===VP||t===RE;case fn.ISO_8601:case fn.GREGORY:return t===RE||t===PP;default:throw new Error("Unsupported calendar type.")}}var Hr="react-calendar__navigation";function QP(n){var e=n.activeStartDate,t=n.drillUp,i=n.formatMonthYear,s=i===void 0?e1:i,u=n.formatYear,h=u===void 0?Wf:u,m=n.locale,g=n.maxDate,p=n.minDate,_=n.navigationAriaLabel,T=_===void 0?"":_,S=n.navigationAriaLive,D=n.navigationLabel,V=n.next2AriaLabel,z=V===void 0?"":V,U=n.next2Label,G=U===void 0?"":U,$=n.nextAriaLabel,ne=$===void 0?"":$,he=n.nextLabel,fe=he===void 0?"":he,ge=n.prev2AriaLabel,M=ge===void 0?"":ge,R=n.prev2Label,C=R===void 0?"":R,O=n.prevAriaLabel,P=O===void 0?"":O,L=n.prevLabel,N=L===void 0?"":L,mt=n.setActiveStartDate,ut=n.showDoubleView,K=n.view,oe=n.views,pe=oe.indexOf(K)>0,ke=K!=="century",x=BP(K,e),J=ke?zP(K,e):void 0,se=t1(K,e),ie=ke?HP(K,e):void 0,ye=function(){if(x.getFullYear()<0)return!0;var st=FP(K,e);return p&&p>=st}(),De=ke&&function(){if(J.getFullYear()<0)return!0;var st=qP(K,e);return p&&p>=st}(),Ee=g&&g<se,gt=ke&&g&&g<ie;function Ye(){mt(x,"prev")}function Lt(){mt(J,"prev2")}function Hn(){mt(se,"next")}function Dn(){mt(ie,"next2")}function Fn(st){var lr=function(){switch(K){case"century":return YP(m,h,st);case"decade":return i1(m,h,st);case"year":return h(m,st);case"month":return s(m,st);default:throw new Error("Invalid view: ".concat(K,"."))}}();return D?D({date:st,label:lr,locale:m||FS()||void 0,view:K}):lr}function or(){var st="".concat(Hr,"__label");return E.jsxs("button",{"aria-label":T,"aria-live":S,className:st,disabled:!pe,onClick:t,style:{flexGrow:1},type:"button",children:[E.jsx("span",{className:"".concat(st,"__labelText ").concat(st,"__labelText--from"),children:Fn(e)}),ut?E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"".concat(st,"__divider"),children:"  "}),E.jsx("span",{className:"".concat(st,"__labelText ").concat(st,"__labelText--to"),children:Fn(se)})]}):null]})}return E.jsxs("div",{className:Hr,children:[C!==null&&ke?E.jsx("button",{"aria-label":M,className:"".concat(Hr,"__arrow ").concat(Hr,"__prev2-button"),disabled:De,onClick:Lt,type:"button",children:C}):null,N!==null&&E.jsx("button",{"aria-label":P,className:"".concat(Hr,"__arrow ").concat(Hr,"__prev-button"),disabled:ye,onClick:Ye,type:"button",children:N}),or(),fe!==null&&E.jsx("button",{"aria-label":ne,className:"".concat(Hr,"__arrow ").concat(Hr,"__next-button"),disabled:Ee,onClick:Hn,type:"button",children:fe}),G!==null&&ke?E.jsx("button",{"aria-label":z,className:"".concat(Hr,"__arrow ").concat(Hr,"__next2-button"),disabled:gt,onClick:Dn,type:"button",children:G}):null]})}var Uo=function(){return Uo=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Uo.apply(this,arguments)},WP=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t};function IE(n){return"".concat(n,"%")}function yy(n){var e=n.children,t=n.className,i=n.count,s=n.direction,u=n.offset,h=n.style,m=n.wrap,g=WP(n,["children","className","count","direction","offset","style","wrap"]);return E.jsx("div",Uo({className:t,style:Uo({display:"flex",flexDirection:s,flexWrap:m?"wrap":"nowrap"},h)},g,{children:q.Children.map(e,function(p,_){var T=u&&_===0?IE(100*u/i):null;return q.cloneElement(p,Uo(Uo({},p.props),{style:{flexBasis:IE(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:T,marginInlineStart:T,marginInlineEnd:0}}))})}))}function KP(n,e,t){return e&&e>n?e:t&&t<n?t:n}function Fu(n,e){return e[0]<=n&&e[1]>=n}function XP(n,e){return n[0]<=e[0]&&n[1]>=e[1]}function s1(n,e){return Fu(n[0],e)||Fu(n[1],e)}function NE(n,e,t){var i=s1(e,n),s=[];if(i){s.push(t);var u=Fu(n[0],e),h=Fu(n[1],e);u&&s.push("".concat(t,"Start")),h&&s.push("".concat(t,"End")),u&&h&&s.push("".concat(t,"BothEnds"))}return s}function ZP(n){return Array.isArray(n)?n[0]!==null&&n[1]!==null:n!==null}function JP(n){if(!n)throw new Error("args is required");var e=n.value,t=n.date,i=n.hover,s="react-calendar__tile",u=[s];if(!t)return u;var h=new Date,m=function(){if(Array.isArray(t))return t;var D=n.dateType;if(!D)throw new Error("dateType is required when date is not an array of two dates");return CE(D,t)}();if(Fu(h,m)&&u.push("".concat(s,"--now")),!e||!ZP(e))return u;var g=function(){if(Array.isArray(e))return e;var D=n.valueType;if(!D)throw new Error("valueType is required when value is not an array of two dates");return CE(D,e)}();XP(g,m)?u.push("".concat(s,"--active")):s1(g,m)&&u.push("".concat(s,"--hasActive"));var p=NE(g,m,"".concat(s,"--range"));u.push.apply(u,p);var _=Array.isArray(e)?e:[e];if(i&&_.length===1){var T=i>g[0]?[g[0],i]:[i,g[0]],S=NE(T,m,"".concat(s,"--hover"));u.push.apply(u,S)}return u}function Kf(n){for(var e=n.className,t=n.count,i=t===void 0?3:t,s=n.dateTransform,u=n.dateType,h=n.end,m=n.hover,g=n.offset,p=n.renderTile,_=n.start,T=n.step,S=T===void 0?1:T,D=n.value,V=n.valueType,z=[],U=_;U<=h;U+=S){var G=s(U);z.push(p({classes:JP({date:G,dateType:u,hover:m,value:D,valueType:V}),date:G}))}return E.jsx(yy,{className:e,count:i,offset:g,wrap:!0,children:z})}function Xf(n){var e=n.activeStartDate,t=n.children,i=n.classes,s=n.date,u=n.formatAbbr,h=n.locale,m=n.maxDate,g=n.maxDateTransform,p=n.minDate,_=n.minDateTransform,T=n.onClick,S=n.onMouseOver,D=n.style,V=n.tileClassName,z=n.tileContent,U=n.tileDisabled,G=n.view,$=q.useMemo(function(){var he={activeStartDate:e,date:s,view:G};return typeof V=="function"?V(he):V},[e,s,V,G]),ne=q.useMemo(function(){var he={activeStartDate:e,date:s,view:G};return typeof z=="function"?z(he):z},[e,s,z,G]);return E.jsxs("button",{className:Gf(i,$),disabled:p&&_(p)>s||m&&g(m)<s||U?.({activeStartDate:e,date:s,view:G}),onClick:T?function(he){return T(s,he)}:void 0,onFocus:S?function(){return S(s)}:void 0,onMouseOver:S?function(){return S(s)}:void 0,style:D,type:"button",children:[u?E.jsx("abbr",{"aria-label":u(h,s),children:t}):t,ne]})}var np=function(){return np=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},np.apply(this,arguments)},eV=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t},DE="react-calendar__century-view__decades__decade";function tV(n){var e=n.classes,t=e===void 0?[]:e,i=n.currentCentury,s=n.formatYear,u=s===void 0?Wf:s,h=eV(n,["classes","currentCentury","formatYear"]),m=h.date,g=h.locale,p=[];return t&&p.push.apply(p,t),p.push(DE),dl(m).getFullYear()!==i&&p.push("".concat(DE,"--neighboringCentury")),E.jsx(Xf,np({},h,{classes:p,maxDateTransform:$f,minDateTransform:Fa,view:"century",children:i1(g,u,m)}))}var rp=function(){return rp=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},rp.apply(this,arguments)},xE=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t};function nV(n){var e=n.activeStartDate,t=n.hover,i=n.showNeighboringCentury,s=n.value,u=n.valueType,h=xE(n,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),m=LP(e),g=m+(i?119:99);return E.jsx(Kf,{className:"react-calendar__century-view__decades",dateTransform:Fa,dateType:"decade",end:g,hover:t,renderTile:function(p){var _=p.date,T=xE(p,["date"]);return E.jsx(tV,rp({},h,T,{activeStartDate:e,currentCentury:m,date:_}),_.getTime())},start:m,step:10,value:s,valueType:u})}var ip=function(){return ip=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},ip.apply(this,arguments)};function rV(n){function e(){return E.jsx(nV,ip({},n))}return E.jsx("div",{className:"react-calendar__century-view",children:e()})}var ap=function(){return ap=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},ap.apply(this,arguments)},iV=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t},OE="react-calendar__decade-view__years__year";function aV(n){var e=n.classes,t=e===void 0?[]:e,i=n.currentDecade,s=n.formatYear,u=s===void 0?Wf:s,h=iV(n,["classes","currentDecade","formatYear"]),m=h.date,g=h.locale,p=[];return t&&p.push.apply(p,t),p.push(OE),Fa(m).getFullYear()!==i&&p.push("".concat(OE,"--neighboringDecade")),E.jsx(Xf,ap({},h,{classes:p,maxDateTransform:Qf,minDateTransform:ml,view:"decade",children:u(g,m)}))}var sp=function(){return sp=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},sp.apply(this,arguments)},kE=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t};function sV(n){var e=n.activeStartDate,t=n.hover,i=n.showNeighboringDecade,s=n.value,u=n.valueType,h=kE(n,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),m=jP(e),g=m+(i?11:9);return E.jsx(Kf,{className:"react-calendar__decade-view__years",dateTransform:ml,dateType:"year",end:g,hover:t,renderTile:function(p){var _=p.date,T=kE(p,["date"]);return E.jsx(aV,sp({},h,T,{activeStartDate:e,currentDecade:m,date:_}),_.getTime())},start:m,value:s,valueType:u})}var op=function(){return op=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},op.apply(this,arguments)};function oV(n){function e(){return E.jsx(sV,op({},n))}return E.jsx("div",{className:"react-calendar__decade-view",children:e()})}var lp=function(){return lp=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},lp.apply(this,arguments)},lV=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t},ME=function(n,e,t){if(t||arguments.length===2)for(var i=0,s=e.length,u;i<s;i++)(u||!(i in e))&&(u||(u=Array.prototype.slice.call(e,0,i)),u[i]=e[i]);return n.concat(u||Array.prototype.slice.call(e))},uV="react-calendar__year-view__months__month";function cV(n){var e=n.classes,t=e===void 0?[]:e,i=n.formatMonth,s=i===void 0?OP:i,u=n.formatMonthYear,h=u===void 0?e1:u,m=lV(n,["classes","formatMonth","formatMonthYear"]),g=m.date,p=m.locale;return E.jsx(Xf,lp({},m,{classes:ME(ME([],t,!0),[uV],!1),formatAbbr:h,maxDateTransform:oc,minDateTransform:js,view:"year",children:s(p,g)}))}var up=function(){return up=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},up.apply(this,arguments)},PE=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t};function hV(n){var e=n.activeStartDate,t=n.hover,i=n.value,s=n.valueType,u=PE(n,["activeStartDate","hover","value","valueType"]),h=0,m=11,g=_t(e);return E.jsx(Kf,{className:"react-calendar__year-view__months",dateTransform:function(p){var _=new Date;return _.setFullYear(g,p,1),js(_)},dateType:"month",end:m,hover:t,renderTile:function(p){var _=p.date,T=PE(p,["date"]);return E.jsx(cV,up({},u,T,{activeStartDate:e,date:_}),_.getTime())},start:h,value:i,valueType:s})}var cp=function(){return cp=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},cp.apply(this,arguments)};function fV(n){function e(){return E.jsx(hV,cp({},n))}return E.jsx("div",{className:"react-calendar__year-view",children:e()})}var hp=function(){return hp=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},hp.apply(this,arguments)},dV=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t},vg="react-calendar__month-view__days__day";function mV(n){var e=n.calendarType,t=n.classes,i=t===void 0?[]:t,s=n.currentMonthIndex,u=n.formatDay,h=u===void 0?DP:u,m=n.formatLongDate,g=m===void 0?xP:m,p=dV(n,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),_=p.date,T=p.locale,S=[];return i&&S.push.apply(S,i),S.push(vg),a1(_,e)&&S.push("".concat(vg,"--weekend")),_.getMonth()!==s&&S.push("".concat(vg,"--neighboringMonth")),E.jsx(Xf,hp({},p,{classes:S,formatAbbr:g,maxDateTransform:gy,minDateTransform:lc,view:"month",children:h(T,_)}))}var fp=function(){return fp=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},fp.apply(this,arguments)},VE=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t};function gV(n){var e=n.activeStartDate,t=n.calendarType,i=n.hover,s=n.showFixedNumberOfWeeks,u=n.showNeighboringMonth,h=n.value,m=n.valueType,g=VE(n,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),p=_t(e),_=Ha(e),T=s||u,S=Hu(e,t),D=T?0:S,V=(T?-S:0)+1,z=function(){if(s)return V+6*7-1;var U=JS(e);if(u){var G=new Date;G.setFullYear(p,_,U),G.setHours(0,0,0,0);var $=7-Hu(G,t)-1;return U+$}return U}();return E.jsx(Kf,{className:"react-calendar__month-view__days",count:7,dateTransform:function(U){var G=new Date;return G.setFullYear(p,_,U),lc(G)},dateType:"day",hover:i,end:z,renderTile:function(U){var G=U.date,$=VE(U,["date"]);return E.jsx(mV,fp({},g,$,{activeStartDate:e,calendarType:t,currentMonthIndex:_,date:G}),G.getTime())},offset:D,start:V,value:h,valueType:m})}var o1="react-calendar__month-view__weekdays",_g="".concat(o1,"__weekday");function pV(n){for(var e=n.calendarType,t=n.formatShortWeekday,i=t===void 0?kP:t,s=n.formatWeekday,u=s===void 0?MP:s,h=n.locale,m=n.onMouseLeave,g=new Date,p=js(g),_=_t(p),T=Ha(p),S=[],D=1;D<=7;D+=1){var V=new Date(_,T,D-Hu(p,e)),z=u(h,V);S.push(E.jsx("div",{className:Gf(_g,$P(V)&&"".concat(_g,"--current"),a1(V,e)&&"".concat(_g,"--weekend")),children:E.jsx("abbr",{"aria-label":z,title:z,children:i(h,V).replace(".","")})},D))}return E.jsx(yy,{className:o1,count:7,onFocus:m,onMouseOver:m,children:S})}var vf=function(){return vf=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},vf.apply(this,arguments)},LE=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t},jE="react-calendar__tile";function yV(n){var e=n.onClickWeekNumber,t=n.weekNumber,i=E.jsx("span",{children:t});if(e){var s=n.date,u=n.onClickWeekNumber,h=n.weekNumber,m=LE(n,["date","onClickWeekNumber","weekNumber"]);return E.jsx("button",vf({},m,{className:jE,onClick:function(g){return u(h,s,g)},type:"button",children:i}))}else{n.date,n.onClickWeekNumber,n.weekNumber;var m=LE(n,["date","onClickWeekNumber","weekNumber"]);return E.jsx("div",vf({},m,{className:jE,children:i}))}}function vV(n){var e=n.activeStartDate,t=n.calendarType,i=n.onClickWeekNumber,s=n.onMouseLeave,u=n.showFixedNumberOfWeeks,h=function(){if(u)return 6;var p=JS(e),_=Hu(e,t),T=p-(7-_);return 1+Math.ceil(T/7)}(),m=function(){for(var p=_t(e),_=Ha(e),T=Yf(e),S=[],D=0;D<h;D+=1)S.push(tp(new Date(p,_,T+D*7),t));return S}(),g=m.map(function(p){return UP(p,t)});return E.jsx(yy,{className:"react-calendar__month-view__weekNumbers",count:h,direction:"column",onFocus:s,onMouseOver:s,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:g.map(function(p,_){var T=m[_];if(!T)throw new Error("date is not defined");return E.jsx(yV,{date:T,onClickWeekNumber:i,weekNumber:p},p)})})}var dp=function(){return dp=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},dp.apply(this,arguments)},_V=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t};function bV(n){if(n)for(var e=0,t=Object.entries(bP);e<t.length;e++){var i=t[e],s=i[0],u=i[1];if(u.includes(n))return s}return fn.ISO_8601}function EV(n){var e=n.activeStartDate,t=n.locale,i=n.onMouseLeave,s=n.showFixedNumberOfWeeks,u=n.calendarType,h=u===void 0?bV(t):u,m=n.formatShortWeekday,g=n.formatWeekday,p=n.onClickWeekNumber,_=n.showWeekNumbers,T=_V(n,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function S(){return E.jsx(pV,{calendarType:h,formatShortWeekday:m,formatWeekday:g,locale:t,onMouseLeave:i})}function D(){return _?E.jsx(vV,{activeStartDate:e,calendarType:h,onClickWeekNumber:p,onMouseLeave:i,showFixedNumberOfWeeks:s}):null}function V(){return E.jsx(gV,dp({calendarType:h},T))}var z="react-calendar__month-view";return E.jsx("div",{className:Gf(z,_?"".concat(z,"--weekNumbers"):""),children:E.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[D(),E.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[S(),V()]})]})})}var Bo=function(){return Bo=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Bo.apply(this,arguments)},Vh="react-calendar",Kh=["century","decade","year","month"],TV=["decade","year","month","day"],vy=new Date;vy.setFullYear(1,0,1);vy.setHours(0,0,0,0);var wV=new Date(864e13);function Cu(n){return n instanceof Date?n:new Date(n)}function l1(n,e){return Kh.slice(Kh.indexOf(n),Kh.indexOf(e)+1)}function SV(n,e,t){var i=l1(e,t);return i.indexOf(n)!==-1}function _y(n,e,t){return n&&SV(n,e,t)?n:t}function u1(n){var e=Kh.indexOf(n);return TV[e]}function AV(n,e){var t=Array.isArray(n)?n[e]:n;if(!t)return null;var i=Cu(t);if(Number.isNaN(i.getTime()))throw new Error("Invalid date: ".concat(n));return i}function c1(n,e){var t=n.value,i=n.minDate,s=n.maxDate,u=n.maxDetail,h=AV(t,e);if(!h)return null;var m=u1(u),g=function(){switch(e){case 0:return Rs(m,h);case 1:return n1(m,h);default:throw new Error("Invalid index value: ".concat(e))}}();return KP(g,i,s)}var by=function(n){return c1(n,0)},h1=function(n){return c1(n,1)},RV=function(n){return[by,h1].map(function(e){return e(n)})};function f1(n){var e=n.maxDate,t=n.maxDetail,i=n.minDate,s=n.minDetail,u=n.value,h=n.view,m=_y(h,s,t),g=by({value:u,minDate:i,maxDate:e,maxDetail:t})||new Date;return Rs(m,g)}function CV(n){var e=n.activeStartDate,t=n.defaultActiveStartDate,i=n.defaultValue,s=n.defaultView,u=n.maxDate,h=n.maxDetail,m=n.minDate,g=n.minDetail,p=n.value,_=n.view,T=_y(_,g,h),S=e||t;return S?Rs(T,S):f1({maxDate:u,maxDetail:h,minDate:m,minDetail:g,value:p||i,view:_||s})}function bg(n){return n&&(!Array.isArray(n)||n.length===1)}function Lh(n,e){return n instanceof Date&&e instanceof Date&&n.getTime()===e.getTime()}var IV=q.forwardRef(function(e,t){var i=e.activeStartDate,s=e.allowPartialRange,u=e.calendarType,h=e.className,m=e.defaultActiveStartDate,g=e.defaultValue,p=e.defaultView,_=e.formatDay,T=e.formatLongDate,S=e.formatMonth,D=e.formatMonthYear,V=e.formatShortWeekday,z=e.formatWeekday,U=e.formatYear,G=e.goToRangeStartOnSelect,$=G===void 0?!0:G,ne=e.inputRef,he=e.locale,fe=e.maxDate,ge=fe===void 0?wV:fe,M=e.maxDetail,R=M===void 0?"month":M,C=e.minDate,O=C===void 0?vy:C,P=e.minDetail,L=P===void 0?"century":P,N=e.navigationAriaLabel,mt=e.navigationAriaLive,ut=e.navigationLabel,K=e.next2AriaLabel,oe=e.next2Label,pe=e.nextAriaLabel,ke=e.nextLabel,x=e.onActiveStartDateChange,J=e.onChange,se=e.onClickDay,ie=e.onClickDecade,ye=e.onClickMonth,De=e.onClickWeekNumber,Ee=e.onClickYear,gt=e.onDrillDown,Ye=e.onDrillUp,Lt=e.onViewChange,Hn=e.prev2AriaLabel,Dn=e.prev2Label,Fn=e.prevAriaLabel,or=e.prevLabel,st=e.returnValue,lr=st===void 0?"start":st,Jt=e.selectRange,en=e.showDoubleView,Bs=e.showFixedNumberOfWeeks,Fi=e.showNavigation,qi=Fi===void 0?!0:Fi,ni=e.showNeighboringCentury,pl=e.showNeighboringDecade,ri=e.showNeighboringMonth,qa=ri===void 0?!0:ri,zs=e.showWeekNumbers,pt=e.tileClassName,We=e.tileContent,bn=e.tileDisabled,Dt=e.value,Ga=e.view,Hs=q.useState(m),ii=Hs[0],qn=Hs[1],Sr=q.useState(null),xn=Sr[0],ai=Sr[1],Ar=q.useState(Array.isArray(g)?g.map(function(Ce){return Ce!==null?Cu(Ce):null}):g!=null?Cu(g):null),si=Ar[0],Ya=Ar[1],Gi=q.useState(p),ur=Gi[0],Gn=Gi[1],xt=i||ii||CV({activeStartDate:i,defaultActiveStartDate:m,defaultValue:g,defaultView:p,maxDate:ge,maxDetail:R,minDate:O,minDetail:L,value:Dt,view:Ga}),ht=function(){var Ce=function(){return Jt&&bg(si)?si:Dt!==void 0?Dt:si}();return Ce?Array.isArray(Ce)?Ce.map(function(Ve){return Ve!==null?Cu(Ve):null}):Ce!==null?Cu(Ce):null:null}(),Rr=u1(R),$e=_y(Ga||ur,L,R),tn=l1(L,R),Cr=Jt?xn:null,Yi=tn.indexOf($e)<tn.length-1,ot=tn.indexOf($e)>0,wt=q.useCallback(function(Ce){var Ve=function(){switch(lr){case"start":return by;case"end":return h1;case"range":return RV;default:throw new Error("Invalid returnValue.")}}();return Ve({maxDate:ge,maxDetail:R,minDate:O,value:Ce})},[ge,R,O,lr]),yt=q.useCallback(function(Ce,Ve){qn(Ce);var xe={action:Ve,activeStartDate:Ce,value:ht,view:$e};x&&!Lh(xt,Ce)&&x(xe)},[xt,x,ht,$e]),nn=q.useCallback(function(Ce,Ve){var xe=function(){switch($e){case"century":return ie;case"decade":return Ee;case"year":return ye;case"month":return se;default:throw new Error("Invalid view: ".concat($e,"."))}}();xe&&xe(Ce,Ve)},[se,ie,ye,Ee,$e]),oi=q.useCallback(function(Ce,Ve){if(Yi){nn(Ce,Ve);var xe=tn[tn.indexOf($e)+1];if(!xe)throw new Error("Attempted to drill down from the lowest view.");qn(Ce),Gn(xe);var rn={action:"drillDown",activeStartDate:Ce,value:ht,view:xe};x&&!Lh(xt,Ce)&&x(rn),Lt&&$e!==xe&&Lt(rn),gt&&gt(rn)}},[xt,Yi,x,nn,gt,Lt,ht,$e,tn]),$a=q.useCallback(function(){if(ot){var Ce=tn[tn.indexOf($e)-1];if(!Ce)throw new Error("Attempted to drill up from the highest view.");var Ve=Rs(Ce,xt);qn(Ve),Gn(Ce);var xe={action:"drillUp",activeStartDate:Ve,value:ht,view:Ce};x&&!Lh(xt,Ve)&&x(xe),Lt&&$e!==Ce&&Lt(xe),Ye&&Ye(xe)}},[xt,ot,x,Ye,Lt,ht,$e,tn]),Yn=q.useCallback(function(Ce,Ve){var xe=ht;nn(Ce,Ve);var rn=Jt&&!bg(xe),Yt;if(Jt)if(rn)Yt=Rs(Rr,Ce);else{if(!xe)throw new Error("previousValue is required");if(Array.isArray(xe))throw new Error("previousValue must not be an array");Yt=GP(Rr,xe,Ce)}else Yt=wt(Ce);var En=!Jt||rn||$?f1({maxDate:ge,maxDetail:R,minDate:O,minDetail:L,value:Yt,view:$e}):null;Ve.persist(),qn(En),Ya(Yt);var dr={action:"onChange",activeStartDate:En,value:Yt,view:$e};if(x&&!Lh(xt,En)&&x(dr),J)if(Jt){var qs=bg(Yt);if(!qs)J(Yt||null,Ve);else if(s){if(Array.isArray(Yt))throw new Error("value must not be an array");J([Yt||null,null],Ve)}}else J(Yt||null,Ve)},[xt,s,wt,$,ge,R,O,L,x,J,nn,Jt,ht,Rr,$e]);function Fs(Ce){ai(Ce)}function cr(){ai(null)}q.useImperativeHandle(t,function(){return{activeStartDate:xt,drillDown:oi,drillUp:$a,onChange:Yn,setActiveStartDate:yt,value:ht,view:$e}},[xt,oi,$a,Yn,yt,ht,$e]);function hr(Ce){var Ve=Ce?t1($e,xt):Rs($e,xt),xe=Yi?oi:Yn,rn={activeStartDate:Ve,hover:Cr,locale:he,maxDate:ge,minDate:O,onClick:xe,onMouseOver:Jt?Fs:void 0,tileClassName:pt,tileContent:We,tileDisabled:bn,value:ht,valueType:Rr};switch($e){case"century":return E.jsx(rV,Bo({formatYear:U,showNeighboringCentury:ni},rn));case"decade":return E.jsx(oV,Bo({formatYear:U,showNeighboringDecade:pl},rn));case"year":return E.jsx(fV,Bo({formatMonth:S,formatMonthYear:D},rn));case"month":return E.jsx(EV,Bo({calendarType:u,formatDay:_,formatLongDate:T,formatShortWeekday:V,formatWeekday:z,onClickWeekNumber:De,onMouseLeave:Jt?cr:void 0,showFixedNumberOfWeeks:typeof Bs<"u"?Bs:en,showNeighboringMonth:qa,showWeekNumbers:zs},rn));default:throw new Error("Invalid view: ".concat($e,"."))}}function fr(){return qi?E.jsx(QP,{activeStartDate:xt,drillUp:$a,formatMonthYear:D,formatYear:U,locale:he,maxDate:ge,minDate:O,navigationAriaLabel:N,navigationAriaLive:mt,navigationLabel:ut,next2AriaLabel:K,next2Label:oe,nextAriaLabel:pe,nextLabel:ke,prev2AriaLabel:Hn,prev2Label:Dn,prevAriaLabel:Fn,prevLabel:or,setActiveStartDate:yt,showDoubleView:en,view:$e,views:tn}):null}var $n=Array.isArray(ht)?ht:[ht];return E.jsxs("div",{className:Gf(Vh,Jt&&$n.length===1&&"".concat(Vh,"--selectRange"),en&&"".concat(Vh,"--doubleView"),h),ref:ne,children:[fr(),E.jsxs("div",{className:"".concat(Vh,"__viewContainer"),onBlur:Jt?cr:void 0,onMouseLeave:Jt?cr:void 0,children:[hr(),en?hr(!0):null]})]})});const NV="_wrapper_1dulk_7",DV="_container_1dulk_25",xV="_header_1dulk_49",OV="_userInfo_1dulk_69",kV="_userAvatar_1dulk_81",MV="_avatarInitial_1dulk_101",PV="_userName_1dulk_113",VV="_userStats_1dulk_127",LV="_nav_1dulk_139",jV="_navLink_1dulk_149",UV="_logoutButton_1dulk_179",BV="_statsContainer_1dulk_209",zV="_statCard_1dulk_223",HV="_statLabel_1dulk_239",FV="_statValue_1dulk_253",qV="_statProgress_1dulk_265",GV="_progressBar_1dulk_281",YV="_habitsGrid_1dulk_293",$V="_habitsColumn_1dulk_307",QV="_sectionTitle_1dulk_323",WV="_habitsList_1dulk_341",KV="_habitCard_1dulk_351",XV="_habitInfo_1dulk_379",ZV="_habitName_1dulk_387",JV="_habitStreak_1dulk_401",e4="_habitButton_1dulk_413",t4="_addHabitCard_1dulk_445",n4="_addHabitForm_1dulk_461",r4="_input_1dulk_473",i4="_addButton_1dulk_503",a4="_calendarSection_1dulk_537",s4="_calendarContainer_1dulk_573",o4="_calendar_1dulk_537",l4="_dateHabits_1dulk_601",u4="_habitList_1dulk_619",c4="_habitItem_1dulk_629",h4="_highlightedDay_1dulk_639",f4="_bottomSection_1dulk_649",d4="_achievementsCard_1dulk_661",m4="_suggestionsCard_1dulk_661",g4="_badgeList_1dulk_677",p4="_badge_1dulk_677",y4="_suggestionItem_1dulk_703",le={wrapper:NV,container:DV,header:xV,userInfo:OV,userAvatar:kV,avatarInitial:MV,userName:PV,userStats:VV,nav:LV,navLink:jV,logoutButton:UV,statsContainer:BV,statCard:zV,statLabel:HV,statValue:FV,statProgress:qV,progressBar:GV,habitsGrid:YV,habitsColumn:$V,sectionTitle:QV,habitsList:WV,habitCard:KV,habitInfo:XV,habitName:ZV,habitStreak:JV,habitButton:e4,addHabitCard:t4,addHabitForm:n4,input:r4,addButton:i4,calendarSection:a4,calendarContainer:s4,calendar:o4,dateHabits:l4,habitList:u4,habitItem:c4,highlightedDay:h4,bottomSection:f4,achievementsCard:d4,suggestionsCard:m4,badgeList:g4,badge:p4,suggestionItem:y4},Eg=(n,e)=>n.getDate()===e.getDate()&&n.getMonth()===e.getMonth()&&n.getFullYear()===e.getFullYear(),v4=()=>{const{currentUser:n,userProfile:e,logout:t,updateProfile:i}=Ls(),s=ks(),[u,h]=q.useState([]),[m,g]=q.useState({name:"",type:"good"}),[p,_]=q.useState(new Date);q.useEffect(()=>{e?.habits&&h(e.habits.map($=>({...$,completions:$.completions.map(ne=>new Date(ne))})))},[e]);const T=u.reduce(($,ne)=>(ne.type==="good"?($.totalGood+=ne.streak,$.maxGood=Math.max($.maxGood,ne.streak)):($.totalBad+=ne.streak,$.maxBad=Math.max($.maxBad,ne.streak)),$),{totalGood:0,maxGood:0,totalBad:0,maxBad:0}),S=async()=>{if(!(!n||!e||m.name.trim()===""))try{const $={id:Date.now().toString(),name:m.name.trim(),type:m.type,streak:0,completions:[]},ne=[...u,$];h(ne),g({name:"",type:"good"}),await i({habits:ne})}catch($){console.error("Failed to add habit:",$),h(u)}},D=async($,ne)=>{if(!(!n||!e))try{const he=new Date;he.setHours(0,0,0,0);const fe=u.map(ge=>{if(ge.id===$&&!ge.completions.some(R=>Eg(R,he))){const R=[...ge.completions,he];return{...ge,streak:ne?ge.streak+1:ge.streak,completions:R}}return ge});h(fe),await i({habits:fe})}catch(he){console.error("Failed to mark complete:",he),h(u)}},V=$=>{_(Array.isArray($)?$[0]:$)},z=u.filter($=>$.completions.some(ne=>Eg(ne,p))),U=()=>{t(),s("/login")},G=()=>e?.displayName?e.displayName.charAt(0):n?.email?n.email.charAt(0):"U";return E.jsx("div",{className:le.wrapper,children:E.jsxs("div",{className:le.container,children:[E.jsxs("header",{className:le.header,children:[E.jsxs("div",{className:le.userInfo,children:[E.jsx("div",{className:le.userAvatar,children:E.jsx("span",{className:le.avatarInitial,children:G()})}),E.jsxs("div",{children:[E.jsx("h1",{className:le.userName,children:"Habitarium"}),e?.displayName?E.jsxs("p",{className:le.userGreeting,children:["Let's grow and glow, ",e.displayName,"!"]}):E.jsx("p",{className:le.userGreeting,children:"Let's grow and glow!"}),E.jsxs("p",{className:le.userStats,children:[u.length," habits tracked"]})]})]}),E.jsxs("nav",{className:le.nav,children:[E.jsx(bu,{to:"/dashboard",className:le.navLink,children:"Dashboard"}),E.jsx(bu,{to:"/profile",className:le.navLink,children:"Profile"}),E.jsx(bu,{to:"/settings",className:le.navLink,children:"Settings"}),E.jsx(bu,{to:"/community",className:le.navLink,children:"Community"})]}),E.jsx("button",{className:le.logoutButton,onClick:U,children:"Logout"})]}),E.jsxs("div",{className:le.statsContainer,children:[E.jsxs("div",{className:le.statCard,children:[E.jsx("h3",{className:le.statLabel,children:"Total Streaks"}),E.jsx("p",{className:le.statValue,children:T.totalGood+T.totalBad}),E.jsx("div",{className:le.statProgress,children:E.jsx("div",{className:le.progressBar,style:{width:"75%"}})})]}),E.jsxs("div",{className:le.statCard,children:[E.jsx("h3",{className:le.statLabel,children:"Good Habits"}),E.jsx("p",{className:le.statValue,children:u.filter($=>$.type==="good").length}),E.jsx("div",{className:le.statProgress,children:E.jsx("div",{className:le.progressBar,style:{width:"60%"}})})]}),E.jsxs("div",{className:le.statCard,children:[E.jsx("h3",{className:le.statLabel,children:"Current Streak"}),E.jsxs("p",{className:le.statValue,children:[T.maxGood," days"]}),E.jsx("div",{className:le.statProgress,children:E.jsx("div",{className:le.progressBar,style:{width:"85%"}})})]}),E.jsxs("div",{className:le.statCard,children:[E.jsx("h3",{className:le.statLabel,children:"Resisted"}),E.jsxs("p",{className:le.statValue,children:[T.maxBad," days"]}),E.jsx("div",{className:le.statProgress,children:E.jsx("div",{className:le.progressBar,style:{width:"90%"}})})]})]}),E.jsxs("div",{className:le.habitsGrid,children:[E.jsxs("div",{className:le.habitsColumn,children:[E.jsx("h2",{className:le.sectionTitle,children:" Build Good Habits"}),E.jsx("div",{className:le.habitsList,children:u.filter($=>$.type==="good").map($=>E.jsxs("div",{className:le.habitCard,children:[E.jsxs("div",{className:le.habitInfo,children:[E.jsx("h3",{className:le.habitName,children:$.name}),E.jsxs("p",{className:le.habitStreak,children:["Streak: ",$.streak," days"]})]}),E.jsx("button",{className:le.habitButton,onClick:()=>D($.id,!0),children:"Mark Complete"})]},$.id))})]}),E.jsxs("div",{className:le.habitsColumn,children:[E.jsx("h2",{className:le.sectionTitle,children:" Break Bad Habits"}),E.jsx("div",{className:le.habitsList,children:u.filter($=>$.type==="bad").map($=>E.jsxs("div",{className:le.habitCard,children:[E.jsxs("div",{className:le.habitInfo,children:[E.jsx("h3",{className:le.habitName,children:$.name}),E.jsxs("p",{className:le.habitStreak,children:["Resisted: ",$.streak," days"]})]}),E.jsx("button",{className:le.habitButton,onClick:()=>D($.id,!1),children:"Mark Resisted"})]},$.id))})]}),E.jsxs("div",{className:le.addHabitCard,children:[E.jsx("h2",{className:le.sectionTitle,children:" Add New Habit"}),E.jsxs("div",{className:le.addHabitForm,children:[E.jsx("input",{type:"text",placeholder:"Habit name",className:le.input,value:m.name,onChange:$=>g({...m,name:$.target.value})}),E.jsxs("select",{className:le.input,value:m.type,onChange:$=>g({...m,type:$.target.value}),children:[E.jsx("option",{value:"good",children:"Good Habit"}),E.jsx("option",{value:"bad",children:"Bad Habit"})]}),E.jsx("button",{className:le.addButton,onClick:S,children:"Add Habit"})]})]})]}),E.jsxs("section",{className:le.calendarSection,children:[E.jsx("h2",{className:le.sectionTitle,children:" Habit Calendar"}),E.jsxs("div",{className:le.calendarContainer,children:[E.jsx(IV,{onChange:$=>V($),value:p,className:le.calendar,tileClassName:({date:$})=>u.some(ne=>ne.completions.some(he=>Eg(he,$)))?le.highlightedDay:void 0}),E.jsxs("div",{className:le.dateHabits,children:[E.jsxs("h3",{children:["Habits on ",p.toDateString()]}),z.length?E.jsx("ul",{className:le.habitList,children:z.map($=>E.jsxs("li",{className:le.habitItem,children:[$.type==="good"?"":""," ",$.name]},$.id))}):E.jsx("p",{children:"No habits recorded for this day."})]})]})]}),E.jsxs("div",{className:le.bottomSection,children:[E.jsxs("div",{className:le.achievementsCard,children:[E.jsx("h2",{className:le.sectionTitle,children:" Achievements"}),E.jsxs("div",{className:le.badgeList,children:[E.jsx("div",{className:le.badge,children:" 7-Day Streak"}),E.jsx("div",{className:le.badge,children:" First Habit Added"}),E.jsx("div",{className:le.badge,children:" 10 Habits Tracked"})]})]}),E.jsxs("div",{className:le.suggestionsCard,children:[E.jsx("h2",{className:le.sectionTitle,children:" Try This Instead"}),E.jsx("div",{className:le.suggestionItem,children:E.jsxs("p",{children:["Instead of ",E.jsx("strong",{children:"Smoking"}),", try ",E.jsx("strong",{children:"Deep Breathing"})]})}),E.jsx("div",{className:le.suggestionItem,children:E.jsxs("p",{children:["Instead of ",E.jsx("strong",{children:"Sugar Binge"}),", try ",E.jsx("strong",{children:"Fruit Smoothie"})]})})]})]})]})})},_4="_wrapper_kppn6_7",b4="_container_kppn6_25",E4="_header_kppn6_49",T4="_backButton_kppn6_69",w4="_title_kppn6_105",S4="_profileHeader_kppn6_153",A4="_avatar_kppn6_169",R4="_userName_kppn6_199",C4="_premiumBadge_kppn6_213",I4="_section_kppn6_233",N4="_sectionTitle_kppn6_253",D4="_detailsGrid_kppn6_281",x4="_detailItem_kppn6_295",O4="_detailLabel_kppn6_305",k4="_detailValue_kppn6_319",M4="_tagsSection_kppn6_331",P4="_tag_kppn6_331",ue={wrapper:_4,container:b4,header:E4,backButton:T4,title:w4,profileHeader:S4,avatar:A4,userName:R4,premiumBadge:C4,section:I4,sectionTitle:N4,detailsGrid:D4,detailItem:x4,detailLabel:O4,detailValue:k4,tagsSection:M4,tag:P4},V4=()=>{const n=ks(),{userProfile:e}=Ls(),t=["#Drill","#Melancholic","#Rap-US"];return E.jsx("div",{className:ue.wrapper,children:E.jsxs("div",{className:ue.container,children:[E.jsxs("div",{className:ue.header,children:[E.jsx("button",{className:ue.backButton,onClick:()=>n("/dashboard"),children:" Back to Dashboard"}),E.jsx("h1",{className:ue.title,children:"Profile"})]}),E.jsxs("div",{className:ue.profileHeader,children:[E.jsx("div",{className:ue.avatar,children:e?.username?.slice(0,2).toUpperCase()||"MF"}),E.jsxs("div",{children:[E.jsx("h2",{className:ue.userName,children:e?.displayName||"Maria Fernanda"}),E.jsx("div",{className:ue.premiumBadge,children:"Premium User"})]})]}),E.jsxs("div",{className:ue.section,children:[E.jsx("h3",{className:ue.sectionTitle,children:"Bio & other details"}),E.jsxs("div",{className:ue.detailsGrid,children:[E.jsxs("div",{className:ue.detailItem,children:[E.jsx("span",{className:ue.detailLabel,children:"My Role"}),E.jsx("span",{className:ue.detailValue,children:e?.role||"Bedrmaker"})]}),E.jsxs("div",{className:ue.detailItem,children:[E.jsx("span",{className:ue.detailLabel,children:"My 3 Favorite Artists"}),E.jsx("span",{className:ue.detailValue,children:e?.favoriteArtists?.join(", ")||"Ninho, Travis Scott, Metro Boomin"})]}),E.jsxs("div",{className:ue.detailItem,children:[E.jsx("span",{className:ue.detailLabel,children:"The Software or Equipment I Use"}),E.jsx("span",{className:ue.detailValue,children:e?.equipment||"Ableton"})]}),E.jsxs("div",{className:ue.detailItem,children:[E.jsx("span",{className:ue.detailLabel,children:"My City or Region"}),E.jsx("span",{className:ue.detailValue,children:e?.location||"California, USA"})]}),E.jsxs("div",{className:ue.detailItem,children:[E.jsx("span",{className:ue.detailLabel,children:"Bodges"}),E.jsx("span",{className:ue.detailValue,children:e?.badges||"Top Collaborator"})]}),E.jsxs("div",{className:ue.detailItem,children:[E.jsx("span",{className:ue.detailLabel,children:"My Experience Level"}),E.jsx("span",{className:ue.detailValue,children:e?.experienceLevel||"Intermediate"})]}),E.jsxs("div",{className:ue.detailItem,children:[E.jsx("span",{className:ue.detailLabel,children:"My Favorite Music Genre"}),E.jsx("span",{className:ue.detailValue,children:e?.favoriteGenre||"Trap"})]}),E.jsxs("div",{className:ue.detailItem,children:[E.jsx("span",{className:ue.detailLabel,children:"My Preferred Music Mood"}),E.jsx("span",{className:ue.detailValue,children:e?.preferredMood||"Melancholic"})]}),E.jsxs("div",{className:ue.detailItem,children:[E.jsx("span",{className:ue.detailLabel,children:"Availability"}),E.jsx("span",{className:ue.detailValue,children:e?.availability||"Available for Collaboration"})]})]})]}),E.jsx("div",{className:ue.tagsSection,children:t.map((i,s)=>E.jsx("span",{className:ue.tag,children:i},s))}),E.jsxs("div",{className:ue.section,children:[E.jsx("h3",{className:ue.sectionTitle,children:"Social Media"}),E.jsx("h4",{className:ue.subtitle,children:"My Productions"}),E.jsxs("div",{className:ue.tableHeader,children:[E.jsx("span",{className:ue.headerCell,children:"Title"}),E.jsx("span",{className:ue.headerCell,children:"Timing"}),E.jsx("span",{className:ue.headerCell,children:"No. of listenings"}),E.jsx("span",{className:ue.headerCell,children:"Actions"})]}),E.jsxs("div",{className:ue.tableRow,children:[E.jsx("span",{className:ue.cell,children:"Midnight Dreams"}),E.jsx("span",{className:ue.cell,children:"3:45"}),E.jsx("span",{className:ue.cell,children:"1,245"}),E.jsxs("span",{className:ue.cell,children:[E.jsx("button",{className:ue.actionButton,children:"Edit"}),E.jsx("button",{className:ue.actionButton,children:"Share"})]})]}),E.jsxs("div",{className:ue.tableRow,children:[E.jsx("span",{className:ue.cell,children:"Urban Echoes"}),E.jsx("span",{className:ue.cell,children:"4:20"}),E.jsx("span",{className:ue.cell,children:"892"}),E.jsxs("span",{className:ue.cell,children:[E.jsx("button",{className:ue.actionButton,children:"Edit"}),E.jsx("button",{className:ue.actionButton,children:"Share"})]})]}),E.jsxs("div",{className:ue.tableRow,children:[E.jsx("span",{className:ue.cell,children:"California Vibes"}),E.jsx("span",{className:ue.cell,children:"2:58"}),E.jsx("span",{className:ue.cell,children:"2,156"}),E.jsxs("span",{className:ue.cell,children:[E.jsx("button",{className:ue.actionButton,children:"Edit"}),E.jsx("button",{className:ue.actionButton,children:"Share"})]})]})]})]})})},L4="_wrapper_16abu_5",j4="_container_16abu_27",U4="_header_16abu_51",B4="_title_16abu_67",z4="_backButton_16abu_81",H4="_form_16abu_211",F4="_formSection_16abu_223",q4="_sectionTitle_16abu_243",G4="_formGrid_16abu_261",Y4="_formGroup_16abu_273",$4="_label_16abu_285",Q4="_input_16abu_297",W4="_select_16abu_299",K4="_checkbox_16abu_335",X4="_themeOptions_16abu_351",Z4="_themeOption_16abu_351",J4="_themeLabel_16abu_395",eL="_formActions_16abu_405",tL="_saveButton_16abu_421",nL="_cancelButton_16abu_423",_e={wrapper:L4,container:j4,header:U4,title:B4,backButton:z4,form:H4,formSection:F4,sectionTitle:q4,formGrid:G4,formGroup:Y4,label:$4,input:Q4,select:W4,checkbox:K4,themeOptions:X4,themeOption:Z4,themeLabel:J4,formActions:eL,saveButton:tL,cancelButton:nL},rL=()=>{const n=ks(),{userProfile:e}=Ls(),[t,i]=q.useState({username:"",email:"",role:"",favoriteArtists:"",equipment:"",location:"",experienceLevel:"",favoriteGenre:"",preferredMood:"",availability:"",notifications:!0,theme:"dark"});q.useEffect(()=>{e&&i({username:e.username||"",email:e.email||"",role:e.role||"",favoriteArtists:(e.favoriteArtists||[]).join(", "),equipment:e.equipment||"",location:e.location||"",experienceLevel:e.experienceLevel||"",favoriteGenre:e.favoriteGenre||"",preferredMood:e.preferredMood||"",availability:e.availability||"",notifications:e.settings?.notifications??!0,theme:e.settings?.theme||"dark"})},[e]);const s=h=>{const m=h.target,{name:g,value:p,type:_}=m,T=m.checked;i(S=>({...S,[g]:_==="checkbox"?T:p}))},u=h=>{h.preventDefault(),console.log("Saving settings:",t)};return E.jsx("div",{className:_e.wrapper,children:E.jsx("div",{className:_e.container,children:E.jsxs("div",{className:_e.header,children:[E.jsx("button",{className:_e.backButton,onClick:()=>n("/dashboard"),children:" Back to Dashboard"}),E.jsx("h1",{className:_e.title,children:"App Settings"}),E.jsx("form",{onSubmit:u,className:_e.form,children:E.jsx("div",{className:_e.formGrid,children:E.jsxs("div",{className:_e.formSection,children:[E.jsx("h2",{className:_e.sectionTitle,children:"Account Information"}),E.jsxs("div",{className:_e.formGrid,children:[E.jsxs("div",{className:_e.formGroup,children:[E.jsx("label",{className:_e.label,htmlFor:"username",children:"Username"}),E.jsx("input",{id:"username",name:"username",type:"text",value:t.username,onChange:s,className:_e.input})]}),E.jsxs("div",{className:_e.formGroup,children:[E.jsx("label",{className:_e.label,htmlFor:"email",children:"Email"}),E.jsx("input",{id:"email",name:"email",type:"email",value:t.email,onChange:s,className:_e.input,disabled:!0})]}),E.jsxs("div",{className:_e.formGroup,children:[E.jsx("label",{className:_e.label,htmlFor:"role",children:"My Role"}),E.jsx("input",{id:"role",name:"role",type:"text",value:t.role,onChange:s,className:_e.input,placeholder:"e.g., Bedrmaker"})]}),E.jsxs("div",{className:_e.formGroup,children:[E.jsx("label",{className:_e.label,htmlFor:"favoriteArtists",children:"My 3 Favorite Artists"}),E.jsx("input",{id:"favoriteArtists",name:"favoriteArtists",type:"text",value:t.favoriteArtists,onChange:s,className:_e.input,placeholder:"Separate with commas"})]}),E.jsxs("div",{className:_e.formGroup,children:[E.jsx("label",{className:_e.label,htmlFor:"equipment",children:"Software/Equipment"}),E.jsx("input",{id:"equipment",name:"equipment",type:"text",value:t.equipment,onChange:s,className:_e.input,placeholder:"e.g., Ableton"})]}),E.jsxs("div",{className:_e.formGroup,children:[E.jsx("label",{className:_e.label,htmlFor:"location",children:"My City/Region"}),E.jsx("input",{id:"location",name:"location",type:"text",value:t.location,onChange:s,className:_e.input,placeholder:"e.g., California, USA"})]}),E.jsxs("div",{className:_e.formGroup,children:[E.jsx("label",{className:_e.label,htmlFor:"experienceLevel",children:"Experience Level"}),E.jsxs("select",{id:"experienceLevel",name:"experienceLevel",value:t.experienceLevel,onChange:s,className:_e.select,children:[E.jsx("option",{value:"",children:"Select level"}),E.jsx("option",{value:"Beginner",children:"Beginner"}),E.jsx("option",{value:"Intermediate",children:"Intermediate"}),E.jsx("option",{value:"Advanced",children:"Advanced"}),E.jsx("option",{value:"Professional",children:"Professional"})]})]}),E.jsxs("div",{className:_e.formGroup,children:[E.jsx("label",{className:_e.label,htmlFor:"favoriteGenre",children:"Favorite Music Genre"}),E.jsxs("select",{id:"favoriteGenre",name:"favoriteGenre",value:t.favoriteGenre,onChange:s,className:_e.select,children:[E.jsx("option",{value:"",children:"Select genre"}),E.jsx("option",{value:"Trap",children:"Trap"}),E.jsx("option",{value:"Hip-Hop",children:"Hip-Hop"}),E.jsx("option",{value:"R&B",children:"R&B"}),E.jsx("option",{value:"Electronic",children:"Electronic"}),E.jsx("option",{value:"Rock",children:"Rock"}),E.jsx("option",{value:"Pop",children:"Pop"}),E.jsx("option",{value:"Jazz",children:"Jazz"}),E.jsx("option",{value:"Classical",children:"Classical"})]})]}),E.jsxs("div",{className:_e.formGroup,children:[E.jsx("label",{className:_e.label,htmlFor:"preferredMood",children:"Preferred Mood"}),E.jsxs("select",{id:"preferredMood",name:"preferredMood",value:t.preferredMood,onChange:s,className:_e.select,children:[E.jsx("option",{value:"",children:"Select mood"}),E.jsx("option",{value:"Energetic",children:"Energetic"}),E.jsx("option",{value:"Melancholic",children:"Melancholic"}),E.jsx("option",{value:"Relaxed",children:"Relaxed"}),E.jsx("option",{value:"Focused",children:"Focused"}),E.jsx("option",{value:"Creative",children:"Creative"})]})]}),E.jsxs("div",{className:_e.formGroup,children:[E.jsx("label",{className:_e.label,htmlFor:"availability",children:"Availability"}),E.jsxs("select",{id:"availability",name:"availability",value:t.availability,onChange:s,className:_e.select,children:[E.jsx("option",{value:"",children:"Select availability"}),E.jsx("option",{value:"Available for Collaboration",children:"Available for Collaboration"}),E.jsx("option",{value:"Busy - Limited Availability",children:"Busy - Limited Availability"}),E.jsx("option",{value:"Not Available",children:"Not Available"})]})]}),E.jsxs("div",{className:_e.formGroup,children:[E.jsx("label",{className:_e.label,children:"App Theme"}),E.jsxs("div",{className:_e.themeOptions,children:[E.jsxs("label",{className:_e.themeOption,children:[E.jsx("input",{type:"radio",name:"theme",value:"light",checked:t.theme==="light",onChange:s}),E.jsx("span",{className:_e.themeLabel,children:"Light"})]}),E.jsxs("label",{className:_e.themeOption,children:[E.jsx("input",{type:"radio",name:"theme",value:"dark",checked:t.theme==="dark",onChange:s}),E.jsx("span",{className:_e.themeLabel,children:"Dark"})]}),E.jsxs("label",{className:_e.themeOption,children:[E.jsx("input",{type:"radio",name:"theme",value:"system",checked:t.theme==="system",onChange:s}),E.jsx("span",{className:_e.themeLabel,children:"System"})]})]})]}),E.jsx("div",{className:_e.formGroup,children:E.jsxs("label",{className:_e.label,children:[E.jsx("input",{type:"checkbox",name:"notifications",checked:t.notifications,onChange:s,className:_e.checkbox}),"Enable Notifications"]})})]}),E.jsxs("div",{className:_e.formActions,children:[E.jsx("button",{type:"submit",className:_e.saveButton,children:"Save Changes"}),E.jsx("button",{type:"button",className:_e.cancelButton,onClick:()=>n("/dashboard"),children:"Cancel"})]})]})})})]})})})},d1=q.createContext(null),iL=({children:n,currentUser:e})=>{const[t,i]=q.useState([]),[s,u]=q.useState([]);q.useEffect(()=>{const D=TE(mg(Bn,"posts"),z=>{const U=z.docs.map(G=>{const $=G.data();return{id:G.id,userId:$.userId,userName:$.userName,userAvatar:$.userAvatar,content:$.content,timestamp:$.timestamp.toDate(),likes:$.likes||[],replies:$.replies?.map(ne=>({...ne,timestamp:ne.timestamp.toDate()}))||[]}});i(U.sort((G,$)=>$.timestamp.getTime()-G.timestamp.getTime()))}),V=TE(mg(Bn,"users"),z=>{u(z.docs.map(U=>{const G=U.data();return{id:U.id,name:G.name,avatar:G.avatar,followers:G.followers||[]}}))});return()=>{D(),V()}},[]);const S={posts:t,users:s,currentUser:e,createPost:async D=>{const V={userId:e.id,userName:e.name,userAvatar:e.avatar,content:D,timestamp:new Date,likes:[],replies:[]};await VS(_r(mg(Bn,"posts")),V)},createReply:async(D,V)=>{const z=_r(Bn,"posts",D),U={id:Date.now().toString(),userId:e.id,userName:e.name,userAvatar:e.avatar,content:V,timestamp:new Date};await Ni(z,{replies:Mh(U)})},toggleLike:async D=>{const V=_r(Bn,"posts",D),z=await Jg(V);z.exists()&&((z.data().likes||[]).includes(e.id)?await Ni(V,{likes:pg(e.id)}):await Ni(V,{likes:Mh(e.id)}))},followUser:async D=>{const V=_r(Bn,"users",D),z=_r(Bn,"users",e.id);await Ni(V,{followers:Mh(e.id)}),await Ni(z,{following:Mh(D)})},unfollowUser:async D=>{const V=_r(Bn,"users",D),z=_r(Bn,"users",e.id);await Ni(V,{followers:pg(e.id)}),await Ni(z,{following:pg(D)})},isFollowing:D=>s.find(z=>z.id===D)?.followers?.includes(e.id)||!1};return E.jsx(d1.Provider,{value:S,children:n})},gl=()=>{const n=q.useContext(d1);if(!n)throw new Error("useCommunity must be used within a CommunityProvider");return n},m1=6048e5,aL=864e5,UE=Symbol.for("constructDateFrom");function ja(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&UE in n?n[UE](e):n instanceof Date?new n.constructor(e):new Date(e)}function wr(n,e){return ja(e||n,n)}let sL={};function Zf(){return sL}function qu(n,e){const t=Zf(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,s=wr(n,e?.in),u=s.getDay(),h=(u<i?7:0)+u-i;return s.setDate(s.getDate()-h),s.setHours(0,0,0,0),s}function _f(n,e){return qu(n,{...e,weekStartsOn:1})}function g1(n,e){const t=wr(n,e?.in),i=t.getFullYear(),s=ja(t,0);s.setFullYear(i+1,0,4),s.setHours(0,0,0,0);const u=_f(s),h=ja(t,0);h.setFullYear(i,0,4),h.setHours(0,0,0,0);const m=_f(h);return t.getTime()>=u.getTime()?i+1:t.getTime()>=m.getTime()?i:i-1}function BE(n){const e=wr(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function oL(n,...e){const t=ja.bind(null,e.find(i=>typeof i=="object"));return e.map(t)}function zE(n,e){const t=wr(n,e?.in);return t.setHours(0,0,0,0),t}function lL(n,e,t){const[i,s]=oL(t?.in,n,e),u=zE(i),h=zE(s),m=+u-BE(u),g=+h-BE(h);return Math.round((m-g)/aL)}function uL(n,e){const t=g1(n,e),i=ja(n,0);return i.setFullYear(t,0,4),i.setHours(0,0,0,0),_f(i)}function cL(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function hL(n){return!(!cL(n)&&typeof n!="number"||isNaN(+wr(n)))}function fL(n,e){const t=wr(n,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const dL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mL=(n,e,t)=>{let i;const s=dL[n];return typeof s=="string"?i=s:e===1?i=s.one:i=s.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+i:i+" ago":i};function Tg(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const gL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vL={date:Tg({formats:gL,defaultWidth:"full"}),time:Tg({formats:pL,defaultWidth:"full"}),dateTime:Tg({formats:yL,defaultWidth:"full"})},_L={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bL=(n,e,t,i)=>_L[n];function vu(n){return(e,t)=>{const i=t?.context?String(t.context):"standalone";let s;if(i==="formatting"&&n.formattingValues){const h=n.defaultFormattingWidth||n.defaultWidth,m=t?.width?String(t.width):h;s=n.formattingValues[m]||n.formattingValues[h]}else{const h=n.defaultWidth,m=t?.width?String(t.width):n.defaultWidth;s=n.values[m]||n.values[h]}const u=n.argumentCallback?n.argumentCallback(e):e;return s[u]}}const EL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},TL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},SL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},AL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},RL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},CL=(n,e)=>{const t=Number(n),i=t%100;if(i>20||i<10)switch(i%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},IL={ordinalNumber:CL,era:vu({values:EL,defaultWidth:"wide"}),quarter:vu({values:TL,defaultWidth:"wide",argumentCallback:n=>n-1}),month:vu({values:wL,defaultWidth:"wide"}),day:vu({values:SL,defaultWidth:"wide"}),dayPeriod:vu({values:AL,defaultWidth:"wide",formattingValues:RL,defaultFormattingWidth:"wide"})};function _u(n){return(e,t={})=>{const i=t.width,s=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],u=e.match(s);if(!u)return null;const h=u[0],m=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],g=Array.isArray(m)?DL(m,T=>T.test(h)):NL(m,T=>T.test(h));let p;p=n.valueCallback?n.valueCallback(g):g,p=t.valueCallback?t.valueCallback(p):p;const _=e.slice(h.length);return{value:p,rest:_}}}function NL(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function DL(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function xL(n){return(e,t={})=>{const i=e.match(n.matchPattern);if(!i)return null;const s=i[0],u=e.match(n.parsePattern);if(!u)return null;let h=n.valueCallback?n.valueCallback(u[0]):u[0];h=t.valueCallback?t.valueCallback(h):h;const m=e.slice(s.length);return{value:h,rest:m}}}const OL=/^(\d+)(th|st|nd|rd)?/i,kL=/\d+/i,ML={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},PL={any:[/^b/i,/^(a|c)/i]},VL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LL={any:[/1/i,/2/i,/3/i,/4/i]},jL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},UL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},BL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},HL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},FL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qL={ordinalNumber:xL({matchPattern:OL,parsePattern:kL,valueCallback:n=>parseInt(n,10)}),era:_u({matchPatterns:ML,defaultMatchWidth:"wide",parsePatterns:PL,defaultParseWidth:"any"}),quarter:_u({matchPatterns:VL,defaultMatchWidth:"wide",parsePatterns:LL,defaultParseWidth:"any",valueCallback:n=>n+1}),month:_u({matchPatterns:jL,defaultMatchWidth:"wide",parsePatterns:UL,defaultParseWidth:"any"}),day:_u({matchPatterns:BL,defaultMatchWidth:"wide",parsePatterns:zL,defaultParseWidth:"any"}),dayPeriod:_u({matchPatterns:HL,defaultMatchWidth:"any",parsePatterns:FL,defaultParseWidth:"any"})},GL={code:"en-US",formatDistance:mL,formatLong:vL,formatRelative:bL,localize:IL,match:qL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function YL(n,e){const t=wr(n,e?.in);return lL(t,fL(t))+1}function $L(n,e){const t=wr(n,e?.in),i=+_f(t)-+uL(t);return Math.round(i/m1)+1}function p1(n,e){const t=wr(n,e?.in),i=t.getFullYear(),s=Zf(),u=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,h=ja(e?.in||n,0);h.setFullYear(i+1,0,u),h.setHours(0,0,0,0);const m=qu(h,e),g=ja(e?.in||n,0);g.setFullYear(i,0,u),g.setHours(0,0,0,0);const p=qu(g,e);return+t>=+m?i+1:+t>=+p?i:i-1}function QL(n,e){const t=Zf(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,s=p1(n,e),u=ja(e?.in||n,0);return u.setFullYear(s,0,i),u.setHours(0,0,0,0),qu(u,e)}function WL(n,e){const t=wr(n,e?.in),i=+qu(t,e)-+QL(t,e);return Math.round(i/m1)+1}function tt(n,e){const t=n<0?"-":"",i=Math.abs(n).toString().padStart(e,"0");return t+i}const va={y(n,e){const t=n.getFullYear(),i=t>0?t:1-t;return tt(e==="yy"?i%100:i,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):tt(t+1,2)},d(n,e){return tt(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return tt(n.getHours()%12||12,e.length)},H(n,e){return tt(n.getHours(),e.length)},m(n,e){return tt(n.getMinutes(),e.length)},s(n,e){return tt(n.getSeconds(),e.length)},S(n,e){const t=e.length,i=n.getMilliseconds(),s=Math.trunc(i*Math.pow(10,t-3));return tt(s,e.length)}},ko={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},HE={G:function(n,e,t){const i=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(i,{width:"abbreviated"});case"GGGGG":return t.era(i,{width:"narrow"});case"GGGG":default:return t.era(i,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const i=n.getFullYear(),s=i>0?i:1-i;return t.ordinalNumber(s,{unit:"year"})}return va.y(n,e)},Y:function(n,e,t,i){const s=p1(n,i),u=s>0?s:1-s;if(e==="YY"){const h=u%100;return tt(h,2)}return e==="Yo"?t.ordinalNumber(u,{unit:"year"}):tt(u,e.length)},R:function(n,e){const t=g1(n);return tt(t,e.length)},u:function(n,e){const t=n.getFullYear();return tt(t,e.length)},Q:function(n,e,t){const i=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return tt(i,2);case"Qo":return t.ordinalNumber(i,{unit:"quarter"});case"QQQ":return t.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,e,t){const i=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return tt(i,2);case"qo":return t.ordinalNumber(i,{unit:"quarter"});case"qqq":return t.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,e,t){const i=n.getMonth();switch(e){case"M":case"MM":return va.M(n,e);case"Mo":return t.ordinalNumber(i+1,{unit:"month"});case"MMM":return t.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(i,{width:"wide",context:"formatting"})}},L:function(n,e,t){const i=n.getMonth();switch(e){case"L":return String(i+1);case"LL":return tt(i+1,2);case"Lo":return t.ordinalNumber(i+1,{unit:"month"});case"LLL":return t.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(i,{width:"wide",context:"standalone"})}},w:function(n,e,t,i){const s=WL(n,i);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):tt(s,e.length)},I:function(n,e,t){const i=$L(n);return e==="Io"?t.ordinalNumber(i,{unit:"week"}):tt(i,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):va.d(n,e)},D:function(n,e,t){const i=YL(n);return e==="Do"?t.ordinalNumber(i,{unit:"dayOfYear"}):tt(i,e.length)},E:function(n,e,t){const i=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(i,{width:"short",context:"formatting"});case"EEEE":default:return t.day(i,{width:"wide",context:"formatting"})}},e:function(n,e,t,i){const s=n.getDay(),u=(s-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return tt(u,2);case"eo":return t.ordinalNumber(u,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,t,i){const s=n.getDay(),u=(s-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return tt(u,e.length);case"co":return t.ordinalNumber(u,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,t){const i=n.getDay(),s=i===0?7:i;switch(e){case"i":return String(s);case"ii":return tt(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(i,{width:"short",context:"formatting"});case"iiii":default:return t.day(i,{width:"wide",context:"formatting"})}},a:function(n,e,t){const s=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,t){const i=n.getHours();let s;switch(i===12?s=ko.noon:i===0?s=ko.midnight:s=i/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,t){const i=n.getHours();let s;switch(i>=17?s=ko.evening:i>=12?s=ko.afternoon:i>=4?s=ko.morning:s=ko.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let i=n.getHours()%12;return i===0&&(i=12),t.ordinalNumber(i,{unit:"hour"})}return va.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):va.H(n,e)},K:function(n,e,t){const i=n.getHours()%12;return e==="Ko"?t.ordinalNumber(i,{unit:"hour"}):tt(i,e.length)},k:function(n,e,t){let i=n.getHours();return i===0&&(i=24),e==="ko"?t.ordinalNumber(i,{unit:"hour"}):tt(i,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):va.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):va.s(n,e)},S:function(n,e){return va.S(n,e)},X:function(n,e,t){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return qE(i);case"XXXX":case"XX":return ws(i);case"XXXXX":case"XXX":default:return ws(i,":")}},x:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"x":return qE(i);case"xxxx":case"xx":return ws(i);case"xxxxx":case"xxx":default:return ws(i,":")}},O:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+FE(i,":");case"OOOO":default:return"GMT"+ws(i,":")}},z:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+FE(i,":");case"zzzz":default:return"GMT"+ws(i,":")}},t:function(n,e,t){const i=Math.trunc(+n/1e3);return tt(i,e.length)},T:function(n,e,t){return tt(+n,e.length)}};function FE(n,e=""){const t=n>0?"-":"+",i=Math.abs(n),s=Math.trunc(i/60),u=i%60;return u===0?t+String(s):t+String(s)+e+tt(u,2)}function qE(n,e){return n%60===0?(n>0?"-":"+")+tt(Math.abs(n)/60,2):ws(n,e)}function ws(n,e=""){const t=n>0?"-":"+",i=Math.abs(n),s=tt(Math.trunc(i/60),2),u=tt(i%60,2);return t+s+e+u}const GE=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},y1=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},KL=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],i=t[1],s=t[2];if(!s)return GE(n,e);let u;switch(i){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;case"PPPP":default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",GE(i,e)).replace("{{time}}",y1(s,e))},XL={p:y1,P:KL},ZL=/^D+$/,JL=/^Y+$/,e6=["D","DD","YY","YYYY"];function t6(n){return ZL.test(n)}function n6(n){return JL.test(n)}function r6(n,e,t){const i=i6(n,e,t);if(console.warn(i),e6.includes(n))throw new RangeError(i)}function i6(n,e,t){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${i} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const a6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,s6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,o6=/^'([^]*?)'?$/,l6=/''/g,u6=/[a-zA-Z]/;function v1(n,e,t){const i=Zf(),s=i.locale??GL,u=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,h=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,m=wr(n,t?.in);if(!hL(m))throw new RangeError("Invalid time value");let g=e.match(s6).map(_=>{const T=_[0];if(T==="p"||T==="P"){const S=XL[T];return S(_,s.formatLong)}return _}).join("").match(a6).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const T=_[0];if(T==="'")return{isToken:!1,value:c6(_)};if(HE[T])return{isToken:!0,value:_};if(T.match(u6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:_}});s.localize.preprocessor&&(g=s.localize.preprocessor(m,g));const p={firstWeekContainsDate:u,weekStartsOn:h,locale:s};return g.map(_=>{if(!_.isToken)return _.value;const T=_.value;(n6(T)||t6(T))&&r6(T,e,String(n));const S=HE[T[0]];return S(m,T,s.localize,p)}).join("")}function c6(n){const e=n.match(o6);return e?e[1].replace(l6,"'"):n}const h6=({reply:n})=>{const{currentUser:e,isFollowing:t,followUser:i,unfollowUser:s}=gl();return E.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[E.jsxs("div",{className:"flex items-center mb-2",children:[E.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-xl w-10 h-10"}),E.jsxs("div",{className:"ml-3",children:[E.jsx("h4",{className:"font-medium",children:n.userName}),E.jsx("p",{className:"text-gray-500 text-xs",children:v1(n.timestamp,"MMM d, h:mm a")})]}),e?.id!==n.userId&&E.jsx("button",{onClick:()=>t(n.userId)?s(n.userId):i(n.userId),className:`ml-auto px-2 py-1 rounded-full text-xs ${t(n.userId)?"bg-gray-200 text-gray-700":"bg-blue-500 text-white"}`,children:t(n.userId)?"Following":"Follow"})]}),E.jsx("p",{className:"text-gray-700",children:n.content})]})},f6=({postId:n,onSuccess:e})=>{const[t,i]=q.useState(""),{createReply:s}=gl(),u=async h=>{if(h.preventDefault(),!!t.trim())try{await s(n,t),i(""),e()}catch(m){console.error("Failed to post reply:",m)}};return E.jsxs("form",{onSubmit:u,className:"mt-4",children:[E.jsx("textarea",{value:t,onChange:h=>i(h.target.value),placeholder:"Write a reply...",className:"w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,required:!0}),E.jsxs("div",{className:"mt-2 flex justify-end",children:[E.jsx("button",{type:"button",onClick:()=>e(),className:"mr-2 px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),E.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-md",children:"Post Reply"})]})]})},d6=({post:n})=>{const{currentUser:e,toggleLike:t,isFollowing:i,followUser:s,unfollowUser:u}=gl(),[h,m]=q.useState(!1),[g,p]=q.useState(!1),_=()=>{e&&t(n.id)},T=e&&n.likes.includes(e.id);return E.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[E.jsxs("div",{className:"flex items-center mb-4",children:[E.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-xl w-16 h-16"}),E.jsxs("div",{className:"ml-4",children:[E.jsx("h3",{className:"font-bold text-lg",children:n.userName}),E.jsx("p",{className:"text-gray-500 text-sm",children:v1(n.timestamp,"MMM d, yyyy h:mm a")})]})]}),E.jsx("p",{className:"mb-4",children:n.content}),E.jsxs("div",{className:"flex items-center justify-between border-t border-gray-100 pt-3",children:[E.jsxs("div",{className:"flex space-x-4",children:[E.jsxs("button",{onClick:_,className:`flex items-center ${T?"text-red-500":"text-gray-500"}`,children:[E.jsx("span",{className:"mr-1",children:""}),E.jsx("span",{children:n.likes.length})]}),E.jsxs("button",{onClick:()=>m(!h),className:"text-gray-500 flex items-center",children:[E.jsx("span",{className:"mr-1",children:""}),E.jsx("span",{children:n.replies.length})]})]}),e?.id!==n.userId&&E.jsx("button",{onClick:()=>i(n.userId)?u(n.userId):s(n.userId),className:`px-3 py-1 rounded-full text-sm font-medium ${i(n.userId)?"bg-gray-200 text-gray-700":"bg-blue-500 text-white"}`,children:i(n.userId)?"Following":"Follow"})]}),h&&E.jsx(f6,{postId:n.id,onSuccess:()=>m(!1)}),n.replies.length>0&&E.jsxs("div",{className:"mt-4",children:[E.jsx("button",{onClick:()=>p(!g),className:"text-blue-500 text-sm font-medium mb-2",children:g?"Hide replies":`Show ${n.replies.length} replies`}),g&&E.jsx("div",{className:"space-y-4 mt-2 pl-4 border-l-2 border-gray-200",children:n.replies.map(S=>E.jsx(h6,{reply:S},S.id))})]})]})},m6=({onClose:n})=>{const[e,t]=q.useState(""),{createPost:i}=gl(),s=async u=>{u.preventDefault(),e.trim()&&(await i(e),t(""),n())};return E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:E.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md p-6",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsx("h2",{className:"text-xl font-bold",children:"Create a Post"}),E.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:""})]}),E.jsxs("form",{onSubmit:s,children:[E.jsx("textarea",{value:e,onChange:u=>t(u.target.value),placeholder:"What would you like to share with the community?",className:"w-full h-40 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),E.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[E.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100",children:"Cancel"}),E.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Post"})]})]})]})})},g6="_container_1057h_1",p6="_mainContent_1057h_23",y6="_sidebar_1057h_39",v6="_header_1057h_63",_6="_title_1057h_81",b6="_backButton_1057h_95",E6="_createButton_1057h_141",T6="_postsContainer_1057h_181",w6="_emptyState_1057h_197",S6="_sidebarCard_1057h_213",A6="_sidebarTitle_1057h_229",R6="_memberList_1057h_245",C6="_memberItem_1057h_257",I6="_memberAvatar_1057h_289",N6="_memberName_1057h_319",D6="_memberFollowers_1057h_331",x6="_guidelinesList_1057h_341",Ht={container:g6,mainContent:p6,sidebar:y6,header:v6,title:_6,backButton:b6,createButton:E6,postsContainer:T6,emptyState:w6,sidebarCard:S6,sidebarTitle:A6,memberList:R6,memberItem:C6,memberAvatar:I6,memberName:N6,memberFollowers:D6,guidelinesList:x6},O6=()=>{Ls();const{posts:n,users:e}=gl(),[t,i]=q.useState(!1),s=[...e].sort((m,g)=>(g.followers?.length||0)-(m.followers?.length||0)).slice(0,5),u=ks(),h=m=>{if(!m||typeof m!="string")return"";const g=m.trim().split(" ");return g.length===0?"":g.length===1?g[0].slice(0,2).toUpperCase():(g[0][0]+g[1][0]).toUpperCase()};return E.jsxs("div",{className:Ht.container,children:[E.jsx("button",{className:Ht.backButton,onClick:()=>u("/dashboard"),style:{position:"fixed",top:16,left:16,zIndex:1e3},children:" Back to Dashboard"}),t&&E.jsx(m6,{onClose:()=>i(!1)}),E.jsxs("div",{className:Ht.mainContent,children:[E.jsxs("div",{className:Ht.header,children:[E.jsx("h1",{className:Ht.title,children:"Community Forum"}),E.jsx("button",{onClick:()=>i(!0),className:Ht.createButton,children:"+ Create Post"})]}),E.jsx("div",{className:Ht.postsContainer,children:n.length===0?E.jsx("div",{className:Ht.emptyState,children:E.jsx("p",{children:"No posts yet. Be the first to share!"})}):n.map(m=>E.jsx(d6,{post:m},m.id))})]}),E.jsxs("div",{className:Ht.sidebar,children:[E.jsxs("div",{className:Ht.sidebarCard,children:[E.jsx("h3",{className:Ht.sidebarTitle,children:"Top Members"}),E.jsx("ul",{className:Ht.memberList,children:s.map(m=>E.jsxs("li",{className:Ht.memberItem,children:[E.jsx("div",{className:Ht.memberAvatar,title:m.name,children:h(m.name)}),E.jsxs("div",{children:[E.jsx("p",{className:Ht.memberName,children:m.name}),E.jsxs("p",{className:Ht.memberFollowers,children:[m.followers?.length||0," followers"]})]}),E.jsx(k6,{userId:m.id})]},m.id))})]}),E.jsxs("div",{className:Ht.sidebarCard,children:[E.jsx("h3",{className:Ht.sidebarTitle,children:"Community Guidelines"}),E.jsxs("ul",{className:Ht.guidelinesList,children:[E.jsx("li",{children:"Be respectful to all members"}),E.jsx("li",{children:"Share helpful information"}),E.jsx("li",{children:"Keep discussions on-topic"}),E.jsx("li",{children:"No spamming or self-promotion"})]})]})]})]})},k6=({userId:n})=>{const{currentUser:e,isFollowing:t,followUser:i,unfollowUser:s}=gl();return e?.id===n?null:E.jsx("button",{onClick:()=>t(n)?s(n):i(n),className:`px-3 py-1 rounded-full text-sm font-medium ${t(n)?"bg-gray-200 text-gray-700":"bg-blue-500 text-white"}`,children:t(n)?"Following":"Follow"})};function M6(){const{currentUser:n}=Ls();return E.jsx(iL,{currentUser:n?{id:n.uid,name:n.displayName||"Anonymous",avatar:""}:{id:"",name:"Anonymous",avatar:""},children:E.jsx(dC,{children:E.jsxs(qR,{children:[E.jsx(_a,{path:"/",element:E.jsx(wE,{})}),E.jsx(_a,{path:"/login",element:E.jsx(FM,{})}),E.jsx(_a,{path:"/signup",element:E.jsx(wE,{})}),E.jsx(_a,{path:"/dashboard",element:E.jsx(v4,{})}),E.jsx(_a,{path:"/profile",element:E.jsx(V4,{})}),E.jsx(_a,{path:"/settings",element:E.jsx(rL,{})}),E.jsx(_a,{path:"/community",element:E.jsx(O6,{})})]})})})}eR.createRoot(document.getElementById("root")).render(E.jsx(YA.StrictMode,{children:E.jsx(kM,{children:E.jsx(M6,{})})}));
